<?xml version="1.0" encoding="UTF-8"?>
<library xmlns="urn:hl7-org:elm:r1" xmlns:t="urn:hl7-org:elm-types:r1" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:fhir="http://hl7.org/fhir" xmlns:qdm43="urn:healthit-gov:qdm:v4_3" xmlns:qdm53="urn:healthit-gov:qdm:v5_3" xmlns:a="urn:hl7-org:cql-annotations:r1" localId="0">
   <annotation translatorVersion="3.11.0" translatorOptions="EnableAnnotations,EnableLocators,DisableListDemotion,DisableListPromotion" signatureLevel="Overloads" xsi:type="a:CqlToElmInfo"/>
   <annotation xsi:type="a:Annotation">
      <a:s r="2218">
         <a:s>library DataElements version '1.0.0'</a:s>
      </a:s>
   </annotation>
   <identifier id="DataElements" system="http://cancerscreeningcds.github.io/crcsm-cds" version="1.0.0"/>
   <schemaIdentifier id="urn:hl7-org:elm" version="r1"/>
   <usings>
      <def localId="1" localIdentifier="System" uri="urn:hl7-org:elm-types:r1"/>
      <def localId="206" locator="3:1-3:26" localIdentifier="FHIR" uri="http://hl7.org/fhir" version="4.0.1">
         <annotation xsi:type="a:Annotation">
            <a:s r="206">
               <a:s>using </a:s>
               <a:s>
                  <a:s>FHIR</a:s>
               </a:s>
               <a:s> version '4.0.1'</a:s>
            </a:s>
         </annotation>
      </def>
   </usings>
   <includes>
      <def localId="207" locator="5:1-5:63" localIdentifier="C3F" path="http://cancerscreeningcds.github.io/crcsm-cds/CDSConnectCommonsforFHIRv401" version="1.0.0">
         <annotation xsi:type="a:Annotation">
            <a:s r="207">
               <a:s>include </a:s>
               <a:s>
                  <a:s>CDSConnectCommonsforFHIRv401</a:s>
               </a:s>
               <a:s> version '1.0.0' called C3F</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="208" locator="6:1-6:56" localIdentifier="Common" path="http://cancerscreeningcds.github.io/crcsm-cds/CSMCommonFunctions" version="1.0.0">
         <annotation xsi:type="a:Annotation">
            <a:s r="208">
               <a:s>include </a:s>
               <a:s>
                  <a:s>CSMCommonFunctions</a:s>
               </a:s>
               <a:s> version '1.0.0' called Common</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="209" locator="7:1-7:55" localIdentifier="FHIRHelpers" path="http://cancerscreeningcds.github.io/crcsm-cds/FHIRHelpers" version="4.0.1">
         <annotation xsi:type="a:Annotation">
            <a:s r="209">
               <a:s>include </a:s>
               <a:s>
                  <a:s>FHIRHelpers</a:s>
               </a:s>
               <a:s>  version '4.0.1' called FHIRHelpers</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="210" locator="8:1-8:63" localIdentifier="CRCSMCommon" path="http://cancerscreeningcds.github.io/crcsm-cds/CRCSMCommonFunctions" version="1.0.0">
         <annotation xsi:type="a:Annotation">
            <a:s r="210">
               <a:s>include </a:s>
               <a:s>
                  <a:s>CRCSMCommonFunctions</a:s>
               </a:s>
               <a:s> version '1.0.0' called CRCSMCommon</a:s>
            </a:s>
         </annotation>
      </def>
   </includes>
   <parameters>
      <def localId="372" locator="139:1-139:39" name="encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="372">
               <a:s>//------------------------------------------------------------------------------
// PARAMETERS
//------------------------------------------------------------------------------

parameter encounter </a:s>
               <a:s r="374">
                  <a:s>String</a:s>
               </a:s>
               <a:s r="373"> default null</a:s>
            </a:s>
         </annotation>
         <default localId="375" asType="t:String" xsi:type="As">
            <operand localId="373" locator="139:36-139:39" xsi:type="Null"/>
         </default>
         <parameterTypeSpecifier localId="374" locator="139:21-139:26" name="t:String" xsi:type="NamedTypeSpecifier"/>
      </def>
      <def localId="376" locator="140:1-140:51" name="ObservationLookbackPeriod" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="376">
               <a:s>parameter ObservationLookbackPeriod default </a:s>
               <a:s r="377">
                  <a:s>14 days</a:s>
               </a:s>
            </a:s>
         </annotation>
         <default localId="377" locator="140:45-140:51" value="14" unit="days" xsi:type="Quantity"/>
      </def>
      <def localId="378" locator="141:1-141:44" name="SymptomaticLookBack" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="378">
               <a:s>parameter SymptomaticLookBack default </a:s>
               <a:s r="379">
                  <a:s>1 days</a:s>
               </a:s>
            </a:s>
         </annotation>
         <default localId="379" locator="141:39-141:44" value="1" unit="days" xsi:type="Quantity"/>
      </def>
      <def localId="380" locator="142:1-142:51" name="ScreeningHistoryLookback" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="380">
               <a:s>//TODO: verify if change from 14 to 1 day per alignment with Breast is correct
parameter ScreeningHistoryLookback default </a:s>
               <a:s r="381">
                  <a:s>10 years</a:s>
               </a:s>
            </a:s>
         </annotation>
         <default localId="381" locator="142:44-142:51" value="10" unit="years" xsi:type="Quantity"/>
      </def>
   </parameters>
   <codeSystems>
      <def localId="211" locator="14:1-14:38" name="LOINC" id="http://loinc.org" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="211">
               <a:s>//------------------------------------------------------------------------------
// CODE SYSTEMS, VALUE SETS, AND CODES
//------------------------------------------------------------------------------

codesystem &quot;LOINC&quot;: 'http://loinc.org'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="212" locator="15:1-15:48" name="SNOMED-CT" id="http://snomed.info/sct" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="212">
               <a:s>codesystem &quot;SNOMED-CT&quot;: 'http://snomed.info/sct'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="213" locator="16:1-16:66" name="RXNORM" id="http://www.nlm.nih.gov/research/umls/rxnorm" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="213">
               <a:s>codesystem &quot;RXNORM&quot;: 'http://www.nlm.nih.gov/research/umls/rxnorm'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="214" locator="17:1-17:54" name="ICD-9" id="http://hl7.org/fhir/sid/icd-9-cm" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="214">
               <a:s>codesystem &quot;ICD-9&quot;: 'http://hl7.org/fhir/sid/icd-9-cm'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="215" locator="18:1-18:56" name="ICD-10" id="http://hl7.org/fhir/sid/icd-10-cm" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="215">
               <a:s>codesystem &quot;ICD-10&quot;: 'http://hl7.org/fhir/sid/icd-10-cm'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="216" locator="19:1-19:87" name="CONDCLINSTATUS" id="http://terminology.hl7.org/CodeSystem/condition-clinical" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="216">
               <a:s>codesystem &quot;CONDCLINSTATUS&quot;: 'http://terminology.hl7.org/CodeSystem/condition-clinical'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="217" locator="20:1-20:77" name="v3-RoleCode" id="http://terminology.hl7.org/CodeSystem/v3-RoleCode" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="217">
               <a:s>codesystem &quot;v3-RoleCode&quot;: 'http://terminology.hl7.org/CodeSystem/v3-RoleCode'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="218" locator="23:1-23:112" name="LOCAL" id="http://cancerscreeningcds.github.io/crcsm-cds/CodeSystem/screening-observation-code-system" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="218">
               <a:s>// Local code systems
codesystem &quot;LOCAL&quot;: 'http://cancerscreeningcds.github.io/crcsm-cds/CodeSystem/screening-observation-code-system'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="219" locator="24:1-24:116" name="CRADS2005CodeSystem" id="http://cancerscreeningcds.github.io/crcsm-cds/CodeSystem/c-rads-2005-code-system" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="219">
               <a:s>codesystem &quot;CRADS2005CodeSystem&quot;: 'http://cancerscreeningcds.github.io/crcsm-cds/CodeSystem/c-rads-2005-code-system'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="220" locator="25:1-25:116" name="CRADS2023CodeSystem" id="http://cancerscreeningcds.github.io/crcsm-cds/CodeSystem/c-rads-2023-code-system" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="220">
               <a:s>codesystem &quot;CRADS2023CodeSystem&quot;: 'http://cancerscreeningcds.github.io/crcsm-cds/CodeSystem/c-rads-2023-code-system'</a:s>
            </a:s>
         </annotation>
      </def>
   </codeSystems>
   <valueSets>
      <def localId="292" locator="62:1-62:109" name="COLORECTAL CANCER" id="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.108.12.1001" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="292">
               <a:s>// Colorectal diagnoses, procedures, and observations
valueset &quot;COLORECTAL CANCER&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.108.12.1001'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="293" locator="64:1-64:117" name="TOTAL COLECTOMY PROCEDURE" id="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.198.12.1019" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="293">
               <a:s>//TODO: I tried 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1032.325' but does not exist on vsac
valueset &quot;TOTAL COLECTOMY PROCEDURE&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.198.12.1019'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="294" locator="65:1-65:100" name="ULCERATIVE COLITIS" id="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1078.879" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="294">
               <a:s>valueset &quot;ULCERATIVE COLITIS&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1078.879'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="295" locator="66:1-66:96" name="CROHNS DISEASE" id="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1078.879" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="295">
               <a:s>valueset &quot;CROHNS DISEASE&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1078.879'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="296" locator="68:1-68:118" name="COLORECTAL CANCER FINDINGS" id="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.108.12.1001" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="296">
               <a:s>// TODO: replace placeholder  
valueset &quot;COLORECTAL CANCER FINDINGS&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.108.12.1001'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="297" locator="70:1-70:110" name="COLONOSCOPY ORDERS" id="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.108.12.1020" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="297">
               <a:s>// TODO: replace placeholder 
valueset &quot;COLONOSCOPY ORDERS&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.108.12.1020'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="298" locator="71:1-71:113" name="Colorectal Screening Modalities" id="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1032.361" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="298">
               <a:s>valueset &quot;Colorectal Screening Modalities&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1032.361'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="299" locator="74:1-74:131" name="Non Bleeding Colorectal Cancer Signs and Symptoms" id="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1032.336" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="299">
               <a:s>// Signs and symptoms
valueset &quot;Non Bleeding Colorectal Cancer Signs and Symptoms&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1032.336'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="300" locator="75:1-75:96" name="Blood in Stool" id="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1032.330" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="300">
               <a:s>valueset &quot;Blood in Stool&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1032.330'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="301" locator="79:1-79:90" name="Pregnancy" id="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.378" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="301">
               <a:s>//valueset &quot;Iron Decifiency Anemia without Specified Cause&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1032.332'

// Pregnancy
valueset &quot;Pregnancy&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.378'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="302" locator="80:1-80:135" name="Pregnancy (New ICD10 codes published in 2018 and 2020)" id="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1032.80" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="302">
               <a:s>valueset &quot;Pregnancy (New ICD10 codes published in 2018 and 2020)&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1032.80'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="335" locator="106:1-106:115" name="Fecal Occult Blood Test" id="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.198.11.1020" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="335">
               <a:s>//------------------------------------------------------------------------------
// VERIFIED TERMINOLOGY
//------------------------------------------------------------------------------

valueset &quot;Fecal Occult Blood Test&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.198.11.1020'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="336" locator="107:1-107:105" name="Stool DNA-FIT" id="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.108.11.1145" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="336">
               <a:s>// Includes FIT and gFOBT, which cannot always be distinguished in LOINC; Steward: NCQA
valueset &quot;Stool DNA-FIT&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.108.11.1145'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="337" locator="108:1-108:99" name="Colonoscopy Study" id="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1032.356" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="337">
               <a:s>// Steward: NCQA
valueset &quot;Colonoscopy Study&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1032.356'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="338" locator="109:1-109:113" name="CT Colonography Study" id="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.118.11.1097" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="338">
               <a:s>// for use with document type/diagnostic report
valueset &quot;CT Colonography Study&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.118.11.1097'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="339" locator="110:1-110:110" name="Flexible Sigmoidoscopy Study" id="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1032.359" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="339">
               <a:s>// For use with document type/diagnostic report. Steward: NCQA Phemur
valueset &quot;Flexible Sigmoidoscopy Study&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1032.359'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="340" locator="112:1-112:119" name="Potentially Precancerous Polyp SNOMED" id="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1032.353" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="340">
               <a:s>// for use with document type/diagnostic report

valueset &quot;Potentially Precancerous Polyp SNOMED&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1032.353'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="341" locator="113:1-113:106" name="Colorectal Cancer SNOMED" id="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1032.326" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="341">
               <a:s>// Using SNOMED CT only since no expectation of ICD-10-CM associated with DiagnosticReport or Observation
valueset &quot;Colorectal Cancer SNOMED&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1032.326'</a:s>
            </a:s>
         </annotation>
      </def>
   </valueSets>
   <codes>
      <def localId="221" locator="27:1-27:77" name="Condition active code" id="active" display="Active" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="221">
               <a:s>code &quot;Condition active code&quot;: 'active' from </a:s>
               <a:s r="222">
                  <a:s>&quot;CONDCLINSTATUS&quot;</a:s>
               </a:s>
               <a:s> display 'Active'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="222" locator="27:45-27:60" name="CONDCLINSTATUS"/>
      </def>
      <def localId="223" locator="28:1-28:83" name="Condition inactive code" id="inactive" display="Inactive" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="223">
               <a:s>code &quot;Condition inactive code&quot;: 'inactive' from </a:s>
               <a:s r="224">
                  <a:s>&quot;CONDCLINSTATUS&quot;</a:s>
               </a:s>
               <a:s> display 'Inactive'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="224" locator="28:49-28:64" name="CONDCLINSTATUS"/>
      </def>
      <def localId="225" locator="29:1-29:86" name="Condition remission code" id="remission" display="Remission" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="225">
               <a:s>code &quot;Condition remission code&quot;: 'remission' from </a:s>
               <a:s r="226">
                  <a:s>&quot;CONDCLINSTATUS&quot;</a:s>
               </a:s>
               <a:s> display 'Remission'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="226" locator="29:51-29:66" name="CONDCLINSTATUS"/>
      </def>
      <def localId="227" locator="30:1-30:83" name="Condition resolved code" id="resolved" display="Resolved" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="227">
               <a:s>code &quot;Condition resolved code&quot;: 'resolved' from </a:s>
               <a:s r="228">
                  <a:s>&quot;CONDCLINSTATUS&quot;</a:s>
               </a:s>
               <a:s> display 'Resolved'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="228" locator="30:49-30:64" name="CONDCLINSTATUS"/>
      </def>
      <def localId="229" locator="31:1-31:131" name="Reduced life expectancy indicator" id="ReducedLifeExpectancyIndicator" display="Reduced life expectancy indicator" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="229">
               <a:s>code &quot;Reduced life expectancy indicator&quot;: 'ReducedLifeExpectancyIndicator' from </a:s>
               <a:s r="230">
                  <a:s>&quot;LOCAL&quot;</a:s>
               </a:s>
               <a:s> display 'Reduced life expectancy indicator'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="230" locator="31:81-31:87" name="LOCAL"/>
      </def>
      <def localId="231" locator="32:1-32:56" name="father" id="FTH" display="father" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="231">
               <a:s>code &quot;father&quot;: 'FTH' from </a:s>
               <a:s r="232">
                  <a:s>&quot;v3-RoleCode&quot;</a:s>
               </a:s>
               <a:s> display 'father'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="232" locator="32:27-32:39" name="v3-RoleCode"/>
      </def>
      <def localId="233" locator="33:1-33:56" name="mother" id="MTH" display="mother" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="233">
               <a:s>code &quot;mother&quot;: 'MTH' from </a:s>
               <a:s r="234">
                  <a:s>&quot;v3-RoleCode&quot;</a:s>
               </a:s>
               <a:s> display 'mother'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="234" locator="33:27-33:39" name="v3-RoleCode"/>
      </def>
      <def localId="235" locator="34:1-34:56" name="child" id="CHILD" display="child" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="235">
               <a:s>code &quot;child&quot;: 'CHILD' from </a:s>
               <a:s r="236">
                  <a:s>&quot;v3-RoleCode&quot;</a:s>
               </a:s>
               <a:s> display 'child'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="236" locator="34:28-34:40" name="v3-RoleCode"/>
      </def>
      <def localId="237" locator="35:1-35:51" name="son" id="SONC" display="son" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="237">
               <a:s>code &quot;son&quot;: 'SONC' from </a:s>
               <a:s r="238">
                  <a:s>&quot;v3-RoleCode&quot;</a:s>
               </a:s>
               <a:s> display 'son'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="238" locator="35:25-35:37" name="v3-RoleCode"/>
      </def>
      <def localId="239" locator="36:1-36:61" name="daughter" id="DAUC" display="daughter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="239">
               <a:s>code &quot;daughter&quot;: 'DAUC' from </a:s>
               <a:s r="240">
                  <a:s>&quot;v3-RoleCode&quot;</a:s>
               </a:s>
               <a:s> display 'daughter'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="240" locator="36:30-36:42" name="v3-RoleCode"/>
      </def>
      <def localId="241" locator="37:1-37:73" name="natural father" id="NFTH" display="natural father" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="241">
               <a:s>code &quot;natural father&quot;: 'NFTH' from </a:s>
               <a:s r="242">
                  <a:s>&quot;v3-RoleCode&quot;</a:s>
               </a:s>
               <a:s> display 'natural father'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="242" locator="37:36-37:48" name="v3-RoleCode"/>
      </def>
      <def localId="243" locator="38:1-38:73" name="natural mother" id="NMTH" display="natural mother" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="243">
               <a:s>code &quot;natural mother&quot;: 'NMTH' from </a:s>
               <a:s r="244">
                  <a:s>&quot;v3-RoleCode&quot;</a:s>
               </a:s>
               <a:s> display 'natural mother'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="244" locator="38:36-38:48" name="v3-RoleCode"/>
      </def>
      <def localId="245" locator="39:1-39:91" name="natural mother of fetus" id="NMTH" display="natural mother of fetus" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="245">
               <a:s>code &quot;natural mother of fetus&quot;: 'NMTH' from </a:s>
               <a:s r="246">
                  <a:s>&quot;v3-RoleCode&quot;</a:s>
               </a:s>
               <a:s> display 'natural mother of fetus'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="246" locator="39:45-39:57" name="v3-RoleCode"/>
      </def>
      <def localId="247" locator="40:1-40:73" name="natural child" id="NCHILD" display="natural child" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="247">
               <a:s>code &quot;natural child&quot;: 'NCHILD' from </a:s>
               <a:s r="248">
                  <a:s>&quot;v3-RoleCode&quot;</a:s>
               </a:s>
               <a:s> display 'natural child'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="248" locator="40:37-40:49" name="v3-RoleCode"/>
      </def>
      <def localId="249" locator="41:1-41:66" name="natural son" id="SON" display="natural son" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="249">
               <a:s>code &quot;natural son&quot;: 'SON' from </a:s>
               <a:s r="250">
                  <a:s>&quot;v3-RoleCode&quot;</a:s>
               </a:s>
               <a:s> display 'natural son'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="250" locator="41:32-41:44" name="v3-RoleCode"/>
      </def>
      <def localId="251" locator="42:1-42:76" name="natural daughter" id="DAU" display="natural daughter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="251">
               <a:s>code &quot;natural daughter&quot;: 'DAU' from </a:s>
               <a:s r="252">
                  <a:s>&quot;v3-RoleCode&quot;</a:s>
               </a:s>
               <a:s> display 'natural daughter'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="252" locator="42:37-42:49" name="v3-RoleCode"/>
      </def>
      <def localId="253" locator="43:1-43:107" name="FAP SNOMED CT" id="72900001" display="Familial multiple polyposis syndrome (disorder)" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="253">
               <a:s>code &quot;FAP SNOMED CT&quot;: '72900001' from </a:s>
               <a:s r="254">
                  <a:s>&quot;SNOMED-CT&quot;</a:s>
               </a:s>
               <a:s> display 'Familial multiple polyposis syndrome (disorder)'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="254" locator="43:39-43:49" name="SNOMED-CT"/>
      </def>
      <def localId="255" locator="44:1-44:85" name="FAP ICD-10-CM" id="D13.91" display="Familial adenomatous polyposis" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="255">
               <a:s>code &quot;FAP ICD-10-CM&quot;: 'D13.91' from </a:s>
               <a:s r="256">
                  <a:s>&quot;ICD-10&quot;</a:s>
               </a:s>
               <a:s> display 'Familial adenomatous polyposis'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="256" locator="44:37-44:44" name="ICD-10"/>
      </def>
      <def localId="257" locator="45:1-45:114" name="AFAP SNOMED CT" id="715866009" display="Attenuated familial adenomatous polyposis (disorder)" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="257">
               <a:s>code &quot;AFAP SNOMED CT&quot;: '715866009' from </a:s>
               <a:s r="258">
                  <a:s>&quot;SNOMED-CT&quot;</a:s>
               </a:s>
               <a:s> display 'Attenuated familial adenomatous polyposis (disorder)'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="258" locator="45:41-45:51" name="SNOMED-CT"/>
      </def>
      <def localId="259" locator="46:1-46:86" name="AFAP ICD-10-CM" id="D13.91" display="Familial adenomatous polyposis" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="259">
               <a:s>code &quot;AFAP ICD-10-CM&quot;: 'D13.91' from </a:s>
               <a:s r="260">
                  <a:s>&quot;ICD-10&quot;</a:s>
               </a:s>
               <a:s> display 'Familial adenomatous polyposis'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="260" locator="46:38-46:45" name="ICD-10"/>
      </def>
      <def localId="261" locator="47:1-47:126" name="Follow-up Plan" id="470191000124102" display="Colorectal cancer screening follow-up planning (procedure)" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="261">
               <a:s>code &quot;Follow-up Plan&quot;: '470191000124102' from </a:s>
               <a:s r="262">
                  <a:s>&quot;SNOMED-CT&quot;</a:s>
               </a:s>
               <a:s> display 'Colorectal cancer screening follow-up planning (procedure)'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="262" locator="47:47-47:57" name="SNOMED-CT"/>
      </def>
      <def localId="303" locator="83:1-83:87" name="LYNCH SYNDROME" id="716318002" display="Lynch syndrome (disorder)" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="303">
               <a:s>// Standard codes
code &quot;LYNCH SYNDROME&quot;: '716318002' from </a:s>
               <a:s r="304">
                  <a:s>&quot;SNOMED-CT&quot;</a:s>
               </a:s>
               <a:s> display 'Lynch syndrome (disorder)'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="304" locator="83:41-83:51" name="SNOMED-CT"/>
      </def>
      <def localId="305" locator="84:1-84:118" name="MUTYH-ASSOCIATED POLYPOSIS SYNDROME" id="423471004" display="MYH-associated polyposis (disorder)" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="305">
               <a:s>code &quot;MUTYH-ASSOCIATED POLYPOSIS SYNDROME&quot;: '423471004' from </a:s>
               <a:s r="306">
                  <a:s>&quot;SNOMED-CT&quot;</a:s>
               </a:s>
               <a:s> display 'MYH-associated polyposis (disorder)'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="306" locator="84:62-84:72" name="SNOMED-CT"/>
      </def>
      <def localId="307" locator="85:1-85:117" name="SERRATED POLYPOSIS SYNDROME" id="763536006" display="Hyperplastic polyposis syndrome (disorder)" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="307">
               <a:s>code &quot;SERRATED POLYPOSIS SYNDROME&quot;: '763536006' from </a:s>
               <a:s r="308">
                  <a:s>&quot;SNOMED-CT&quot;</a:s>
               </a:s>
               <a:s> display 'Hyperplastic polyposis syndrome (disorder)'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="308" locator="85:54-85:64" name="SNOMED-CT"/>
      </def>
      <def localId="309" locator="86:1-86:111" name="JUVENILE POLYPOSIS SYNDROME" id="9273005" display="Juvenile polyposis syndrome (disorder)" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="309">
               <a:s>code &quot;JUVENILE POLYPOSIS SYNDROME&quot;: '9273005' from </a:s>
               <a:s r="310">
                  <a:s>&quot;SNOMED-CT&quot;</a:s>
               </a:s>
               <a:s> display 'Juvenile polyposis syndrome (disorder)'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="310" locator="86:52-86:62" name="SNOMED-CT"/>
      </def>
      <def localId="311" locator="87:1-87:101" name="PEUTZ-JEGHER SYNDROME" id="54411001" display="Peutz-Jeghers syndrome (disorder)" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="311">
               <a:s>code &quot;PEUTZ-JEGHER SYNDROME&quot;: '54411001' from </a:s>
               <a:s r="312">
                  <a:s>&quot;SNOMED-CT&quot;</a:s>
               </a:s>
               <a:s> display 'Peutz-Jeghers syndrome (disorder)'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="312" locator="87:47-87:57" name="SNOMED-CT"/>
      </def>
      <def localId="313" locator="88:1-88:88" name="COWDEN SYNDROME" id="58037000" display="Cowden syndrome (disorder)" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="313">
               <a:s>code &quot;COWDEN SYNDROME&quot;: '58037000' from </a:s>
               <a:s r="314">
                  <a:s>&quot;SNOMED-CT&quot;</a:s>
               </a:s>
               <a:s> display 'Cowden syndrome (disorder)'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="314" locator="88:41-88:51" name="SNOMED-CT"/>
      </def>
      <def localId="315" locator="89:1-89:126" name="FAMILIAL COLORECTAL CANCER TYPE X" id="1197359006" display="Familial colorectal cancer type X (disorder)" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="315">
               <a:s>code &quot;FAMILIAL COLORECTAL CANCER TYPE X&quot;: '1197359006' from </a:s>
               <a:s r="316">
                  <a:s>&quot;SNOMED-CT&quot;</a:s>
               </a:s>
               <a:s> display 'Familial colorectal cancer type X (disorder)'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="316" locator="89:61-89:71" name="SNOMED-CT"/>
      </def>
      <def localId="317" locator="90:1-90:141" name="FAMILY HISTORY OF POTENTIALLY PRECANCEROUS POLYPS" id="429969003" display="Family history of polyp of colon (situation)" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="317">
               <a:s>code &quot;FAMILY HISTORY OF POTENTIALLY PRECANCEROUS POLYPS&quot;: '429969003' from </a:s>
               <a:s r="318">
                  <a:s>&quot;SNOMED-CT&quot;</a:s>
               </a:s>
               <a:s> display 'Family history of polyp of colon (situation)'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="318" locator="90:76-90:86" name="SNOMED-CT"/>
      </def>
      <def localId="319" locator="91:1-91:113" name="POTENTIALLY PRECANCEROUS POLYPS CONDITION" id="68496003" display="Polyp of colon (disorder)" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="319">
               <a:s>code &quot;POTENTIALLY PRECANCEROUS POLYPS CONDITION&quot;: '68496003' from </a:s>
               <a:s r="320">
                  <a:s>&quot;SNOMED-CT&quot;</a:s>
               </a:s>
               <a:s> display 'Polyp of colon (disorder)'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="320" locator="91:67-91:77" name="SNOMED-CT"/>
      </def>
      <def localId="321" locator="92:1-92:154" name="HISTORY OF COLORECTAL CANCER" id="1286880003" display="History of malignant neoplasm of cecum and/or colon and/or rectum (situation)" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="321">
               <a:s>code &quot;HISTORY OF COLORECTAL CANCER&quot;: '1286880003' from </a:s>
               <a:s r="322">
                  <a:s>&quot;SNOMED-CT&quot;</a:s>
               </a:s>
               <a:s> display 'History of malignant neoplasm of cecum and/or colon and/or rectum (situation)'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="322" locator="92:56-92:66" name="SNOMED-CT"/>
      </def>
      <def localId="323" locator="93:1-93:128" name="FAMILY HISTORY OF COLORECTAL CANCER" id="312824007" display="Family history of cancer of colon (situation)" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="323">
               <a:s>code &quot;FAMILY HISTORY OF COLORECTAL CANCER&quot;: '312824007' from </a:s>
               <a:s r="324">
                  <a:s>&quot;SNOMED-CT&quot;</a:s>
               </a:s>
               <a:s> display 'Family history of cancer of colon (situation)'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="324" locator="93:62-93:72" name="SNOMED-CT"/>
      </def>
      <def localId="325" locator="94:1-94:74" name="Pregnancy Status" id="82810-3" display="Pregnancy status" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="325">
               <a:s>code &quot;Pregnancy Status&quot;: '82810-3' from </a:s>
               <a:s r="326">
                  <a:s>&quot;LOINC&quot;</a:s>
               </a:s>
               <a:s> display 'Pregnancy status'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="326" locator="94:41-94:47" name="LOINC"/>
      </def>
      <def localId="327" locator="95:1-95:109" name="Patient currently pregnant" id="77386006" display="Patient currently pregnant (finding)" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="327">
               <a:s>code &quot;Patient currently pregnant&quot;: '77386006' from </a:s>
               <a:s r="328">
                  <a:s>&quot;SNOMED-CT&quot;</a:s>
               </a:s>
               <a:s> display 'Patient currently pregnant (finding)'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="328" locator="95:52-95:62" name="SNOMED-CT"/>
      </def>
      <def localId="329" locator="96:1-96:104" name="Pregnancy Episode Of Care" id="424525001" display="Antenatal care (regime/therapy)" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="329">
               <a:s>code &quot;Pregnancy Episode Of Care&quot;: '424525001' from </a:s>
               <a:s r="330">
                  <a:s>&quot;SNOMED-CT&quot;</a:s>
               </a:s>
               <a:s> display 'Antenatal care (regime/therapy)'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="330" locator="96:52-96:62" name="SNOMED-CT"/>
      </def>
      <def localId="331" locator="99:1-99:125" name="New or worsening colorectal symptoms" id="ColorectalSymptoms" display="New or worsening colorectal symptoms" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="331">
               <a:s>// Non-standard or &quot;local&quot; codes
code &quot;New or worsening colorectal symptoms&quot;: 'ColorectalSymptoms' from </a:s>
               <a:s r="332">
                  <a:s>&quot;LOCAL&quot;</a:s>
               </a:s>
               <a:s> display 'New or worsening colorectal symptoms'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="332" locator="99:72-99:78" name="LOCAL"/>
      </def>
      <def localId="333" locator="100:1-100:127" name="Relative with hereditary syndrome" id="RelativeHereditarySyndrome" display="Relative with hereditary syndrome" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="333">
               <a:s>code &quot;Relative with hereditary syndrome&quot;: 'RelativeHereditarySyndrome' from </a:s>
               <a:s r="334">
                  <a:s>&quot;LOCAL&quot;</a:s>
               </a:s>
               <a:s> display 'Relative with hereditary syndrome'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="334" locator="100:77-100:83" name="LOCAL"/>
      </def>
      <def localId="342" locator="115:1-115:100" name="Colonoscopy Study Observation" id="28023-0" display="Colonoscopy Study observation" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="342">
               <a:s>// Using SNOMED CT only since no expectation of ICD-10-CM associated with DiagnosticReport or Observation

code &quot;Colonoscopy Study Observation&quot;: '28023-0' from </a:s>
               <a:s r="343">
                  <a:s>&quot;LOINC&quot;</a:s>
               </a:s>
               <a:s> display 'Colonoscopy Study observation'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="343" locator="115:54-115:60" name="LOINC"/>
      </def>
      <def localId="344" locator="116:1-116:122" name="Flexible Sigmoidoscopy Study Observation" id="28027-1" display="Flexible Sigmoidoscopy Study observation" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="344">
               <a:s>code &quot;Flexible Sigmoidoscopy Study Observation&quot;: '28027-1' from </a:s>
               <a:s r="345">
                  <a:s>&quot;LOINC&quot;</a:s>
               </a:s>
               <a:s> display 'Flexible Sigmoidoscopy Study observation'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="345" locator="116:65-116:71" name="LOINC"/>
      </def>
      <def localId="346" locator="118:1-118:128" name="C-RADS 2005 C0" id="C0" display="C-RADS Category 0 - Inadequate study/awaiting prior comparisons" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="346">
               <a:s>code &quot;C-RADS 2005 C0&quot;: 'C0' from </a:s>
               <a:s r="347">
                  <a:s>&quot;CRADS2005CodeSystem&quot;</a:s>
               </a:s>
               <a:s> display 'C-RADS Category 0 - Inadequate study/awaiting prior comparisons'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="347" locator="118:34-118:54" name="CRADS2005CodeSystem"/>
      </def>
      <def localId="348" locator="119:1-119:128" name="C-RADS 2023 C0" id="C0" display="C-RADS Category 0 - Inadequate study/awaiting prior comparisons" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="348">
               <a:s>code &quot;C-RADS 2023 C0&quot;: 'C0' from </a:s>
               <a:s r="349">
                  <a:s>&quot;CRADS2023CodeSystem&quot;</a:s>
               </a:s>
               <a:s> display 'C-RADS Category 0 - Inadequate study/awaiting prior comparisons'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="349" locator="119:34-119:54" name="CRADS2023CodeSystem"/>
      </def>
      <def localId="350" locator="120:1-120:169" name="C-RADS 2005 C2" id="C2" display="C-RADS Category 2 - Intermediate polyp or indeterminate finding: surveillance or colonoscopy recommended" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="350">
               <a:s>code &quot;C-RADS 2005 C2&quot;: 'C2' from </a:s>
               <a:s r="351">
                  <a:s>&quot;CRADS2005CodeSystem&quot;</a:s>
               </a:s>
               <a:s> display 'C-RADS Category 2 - Intermediate polyp or indeterminate finding: surveillance or colonoscopy recommended'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="351" locator="120:34-120:54" name="CRADS2005CodeSystem"/>
      </def>
      <def localId="352" locator="121:1-121:131" name="C-RADS 2023 C2a" id="C2a" display="C-RADS Category 2a - Intermediate polyp or indeterminate finding" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="352">
               <a:s>code &quot;C-RADS 2023 C2a&quot;: 'C2a' from </a:s>
               <a:s r="353">
                  <a:s>&quot;CRADS2023CodeSystem&quot;</a:s>
               </a:s>
               <a:s> display 'C-RADS Category 2a - Intermediate polyp or indeterminate finding'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="353" locator="121:36-121:56" name="CRADS2023CodeSystem"/>
      </def>
      <def localId="354" locator="122:1-122:152" name="C-RADS 2005 C3" id="C3" display="C-RADS Category 3 - Polyp, possibly advanced adenoma: follow-up colonoscopy recommended" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="354">
               <a:s>code &quot;C-RADS 2005 C3&quot;: 'C3' from </a:s>
               <a:s r="355">
                  <a:s>&quot;CRADS2005CodeSystem&quot;</a:s>
               </a:s>
               <a:s> display 'C-RADS Category 3 - Polyp, possibly advanced adenoma: follow-up colonoscopy recommended'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="355" locator="122:34-122:54" name="CRADS2005CodeSystem"/>
      </def>
      <def localId="356" locator="123:1-123:117" name="C-RADS 2023 C3" id="C3" display="C-RADS Category 3 - Polyp, possibly advanced adenoma" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="356">
               <a:s>code &quot;C-RADS 2023 C3&quot;: 'C3' from </a:s>
               <a:s r="357">
                  <a:s>&quot;CRADS2023CodeSystem&quot;</a:s>
               </a:s>
               <a:s> display 'C-RADS Category 3 - Polyp, possibly advanced adenoma'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="357" locator="123:34-123:54" name="CRADS2023CodeSystem"/>
      </def>
      <def localId="358" locator="124:1-124:150" name="C-RADS 2005 C4" id="C4" display="C-RADS Category 4 - Colonic mass, likely malignant: surgical consultation recommended" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="358">
               <a:s>code &quot;C-RADS 2005 C4&quot;: 'C4' from </a:s>
               <a:s r="359">
                  <a:s>&quot;CRADS2005CodeSystem&quot;</a:s>
               </a:s>
               <a:s> display 'C-RADS Category 4 - Colonic mass, likely malignant: surgical consultation recommended'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="359" locator="124:34-124:54" name="CRADS2005CodeSystem"/>
      </def>
      <def localId="360" locator="125:1-125:115" name="C-RADS 2023 C4" id="C4" display="C-RADS Category 4 - Colonic mass, likely malignant" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="360">
               <a:s>code &quot;C-RADS 2023 C4&quot;: 'C4' from </a:s>
               <a:s r="361">
                  <a:s>&quot;CRADS2023CodeSystem&quot;</a:s>
               </a:s>
               <a:s> display 'C-RADS Category 4 - Colonic mass, likely malignant'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="361" locator="125:34-125:54" name="CRADS2023CodeSystem"/>
      </def>
      <def localId="362" locator="129:1-129:70" name="Colonoscopy" id="18746-8" display="Colonoscopy study" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="362">
               <a:s>// Modalities
code &quot;Colonoscopy&quot;: '18746-8' from </a:s>
               <a:s r="363">
                  <a:s>&quot;LOINC&quot;</a:s>
               </a:s>
               <a:s> display 'Colonoscopy study'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="363" locator="129:36-129:42" name="LOINC"/>
      </def>
      <def localId="364" locator="130:1-130:92" name="Flexible Sigmoidoscopy" id="18753-4" display="Flexible sigmoidoscopy study" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="364">
               <a:s>code &quot;Flexible Sigmoidoscopy&quot;: '18753-4' from </a:s>
               <a:s r="365">
                  <a:s>&quot;LOINC&quot;</a:s>
               </a:s>
               <a:s> display 'Flexible sigmoidoscopy study'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="365" locator="130:47-130:53" name="LOINC"/>
      </def>
      <def localId="366" locator="131:1-131:103" name="CT Colonography" id="425666002" display="Computed tomography of colon (procedure)" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="366">
               <a:s>code &quot;CT Colonography&quot;: '425666002' from </a:s>
               <a:s r="367">
                  <a:s>&quot;SNOMED-CT&quot;</a:s>
               </a:s>
               <a:s> display 'Computed tomography of colon (procedure)'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="367" locator="131:42-131:52" name="SNOMED-CT"/>
      </def>
      <def localId="368" locator="132:1-132:92" name="FOBT" id="2335-8" display="Hemoglobin.gastrointestinal [Presence] in Stool" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="368">
               <a:s>code &quot;FOBT&quot;: '2335-8' from </a:s>
               <a:s r="369">
                  <a:s>&quot;LOINC&quot;</a:s>
               </a:s>
               <a:s> display 'Hemoglobin.gastrointestinal [Presence] in Stool'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="369" locator="132:28-132:34" name="LOINC"/>
      </def>
      <def localId="370" locator="133:1-133:130" name="sDNA-FIT" id="77354-9" display="Noninvasive colorectal cancer DNA and occult blood screening [Presence] in Stool" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="370">
               <a:s>code &quot;sDNA-FIT&quot;: '77354-9' from </a:s>
               <a:s r="371">
                  <a:s>&quot;LOINC&quot;</a:s>
               </a:s>
               <a:s> display 'Noninvasive colorectal cancer DNA and occult blood screening [Presence] in Stool'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="371" locator="133:33-133:39" name="LOINC"/>
      </def>
   </codes>
   <concepts>
      <def localId="263" locator="49:1-49:78" name="Condition inactive" display="Inactive" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="263">
               <a:s>concept &quot;Condition inactive&quot;: { </a:s>
               <a:s r="264">
                  <a:s>&quot;Condition inactive code&quot;</a:s>
               </a:s>
               <a:s> } display 'Inactive'</a:s>
            </a:s>
         </annotation>
         <code localId="264" locator="49:33-49:57" name="Condition inactive code"/>
      </def>
      <def localId="265" locator="50:1-50:81" name="Condition remission" display="Remission" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="265">
               <a:s>concept &quot;Condition remission&quot;: { </a:s>
               <a:s r="266">
                  <a:s>&quot;Condition remission code&quot;</a:s>
               </a:s>
               <a:s> } display 'Remission'</a:s>
            </a:s>
         </annotation>
         <code localId="266" locator="50:34-50:59" name="Condition remission code"/>
      </def>
      <def localId="267" locator="51:1-51:78" name="Condition resolved" display="Resolved" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="267">
               <a:s>concept &quot;Condition resolved&quot;: { </a:s>
               <a:s r="268">
                  <a:s>&quot;Condition resolved code&quot;</a:s>
               </a:s>
               <a:s> } display 'Resolved'</a:s>
            </a:s>
         </annotation>
         <code localId="268" locator="51:33-51:57" name="Condition resolved code"/>
      </def>
      <def localId="269" locator="52:1-52:72" name="Condition Active" display="Active" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="269">
               <a:s>concept &quot;Condition Active&quot;: { </a:s>
               <a:s r="270">
                  <a:s>&quot;Condition active code&quot;</a:s>
               </a:s>
               <a:s> } display 'Active'</a:s>
            </a:s>
         </annotation>
         <code localId="270" locator="52:31-52:53" name="Condition active code"/>
      </def>
      <def localId="271" locator="53:1-53:62" name="FTH" display="father" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="271">
               <a:s>concept &quot;FTH&quot;: { </a:s>
               <a:s r="272">
                  <a:s>&quot;father&quot;</a:s>
               </a:s>
               <a:s>, </a:s>
               <a:s r="273">
                  <a:s>&quot;natural father&quot;</a:s>
               </a:s>
               <a:s> } display 'father'</a:s>
            </a:s>
         </annotation>
         <code localId="272" locator="53:18-53:25" name="father"/>
         <code localId="273" locator="53:28-53:43" name="natural father"/>
      </def>
      <def localId="274" locator="54:1-54:62" name="MTH" display="mother" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="274">
               <a:s>concept &quot;MTH&quot;: { </a:s>
               <a:s r="275">
                  <a:s>&quot;mother&quot;</a:s>
               </a:s>
               <a:s>, </a:s>
               <a:s r="276">
                  <a:s>&quot;natural mother&quot;</a:s>
               </a:s>
               <a:s> } display 'mother'</a:s>
            </a:s>
         </annotation>
         <code localId="275" locator="54:18-54:25" name="mother"/>
         <code localId="276" locator="54:28-54:43" name="natural mother"/>
      </def>
      <def localId="277" locator="55:1-55:61" name="CHILD" display="child" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="277">
               <a:s>concept &quot;CHILD&quot;: { </a:s>
               <a:s r="278">
                  <a:s>&quot;child&quot;</a:s>
               </a:s>
               <a:s>, </a:s>
               <a:s r="279">
                  <a:s>&quot;natural child&quot;</a:s>
               </a:s>
               <a:s> } display 'child'</a:s>
            </a:s>
         </annotation>
         <code localId="278" locator="55:20-55:26" name="child"/>
         <code localId="279" locator="55:29-55:43" name="natural child"/>
      </def>
      <def localId="280" locator="56:1-56:53" name="SON" display="son" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="280">
               <a:s>concept &quot;SON&quot;: { </a:s>
               <a:s r="281">
                  <a:s>&quot;son&quot;</a:s>
               </a:s>
               <a:s>, </a:s>
               <a:s r="282">
                  <a:s>&quot;natural son&quot;</a:s>
               </a:s>
               <a:s> } display 'son'</a:s>
            </a:s>
         </annotation>
         <code localId="281" locator="56:18-56:22" name="son"/>
         <code localId="282" locator="56:25-56:37" name="natural son"/>
      </def>
      <def localId="283" locator="57:1-57:68" name="DAU" display="daughter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="283">
               <a:s>concept &quot;DAU&quot;: { </a:s>
               <a:s r="284">
                  <a:s>&quot;daughter&quot;</a:s>
               </a:s>
               <a:s>, </a:s>
               <a:s r="285">
                  <a:s>&quot;natural daughter&quot;</a:s>
               </a:s>
               <a:s> } display 'daughter'</a:s>
            </a:s>
         </annotation>
         <code localId="284" locator="57:18-57:27" name="daughter"/>
         <code localId="285" locator="57:30-57:47" name="natural daughter"/>
      </def>
      <def localId="286" locator="58:1-58:90" name="FAP" display="Familial adenomatous polyposis" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="286">
               <a:s>concept &quot;FAP&quot;: {</a:s>
               <a:s r="287">
                  <a:s>&quot;FAP SNOMED CT&quot;</a:s>
               </a:s>
               <a:s>, </a:s>
               <a:s r="288">
                  <a:s>&quot;FAP ICD-10-CM&quot;</a:s>
               </a:s>
               <a:s>} display 'Familial adenomatous polyposis'</a:s>
            </a:s>
         </annotation>
         <code localId="287" locator="58:17-58:31" name="FAP SNOMED CT"/>
         <code localId="288" locator="58:34-58:48" name="FAP ICD-10-CM"/>
      </def>
      <def localId="289" locator="59:1-59:104" name="AFAP" display="Attenuated familial adenomatous polyposis" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="289">
               <a:s>concept &quot;AFAP&quot;: {</a:s>
               <a:s r="290">
                  <a:s>&quot;AFAP SNOMED CT&quot;</a:s>
               </a:s>
               <a:s>, </a:s>
               <a:s r="291">
                  <a:s>&quot;AFAP ICD-10-CM&quot;</a:s>
               </a:s>
               <a:s>} display 'Attenuated familial adenomatous polyposis'</a:s>
            </a:s>
         </annotation>
         <code localId="290" locator="59:18-59:33" name="AFAP SNOMED CT"/>
         <code localId="291" locator="59:36-59:51" name="AFAP ICD-10-CM"/>
      </def>
   </concepts>
   <contexts>
      <def localId="385" locator="146:1-146:15" name="Patient"/>
   </contexts>
   <statements>
      <def localId="383" locator="146:1-146:15" name="Patient" context="Patient">
         <expression localId="384" xsi:type="SingletonFrom">
            <operand localId="382" locator="146:1-146:15" dataType="fhir:Patient" templateId="http://hl7.org/fhir/StructureDefinition/Patient" xsi:type="Retrieve"/>
         </expression>
      </def>
      <def localId="387" locator="152:1-154:84" name="BirthSex" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="387">
               <a:s>//------------------------------------------------------------------------------
// Patient demographics
//------------------------------------------------------------------------------

define BirthSex:
  </a:s>
               <a:s r="399">
                  <a:s>
                     <a:s r="388">
                        <a:s r="390">
                           <a:s>(</a:s>
                           <a:s r="390">
                              <a:s r="389">
                                 <a:s>Patient</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="390">
                                 <a:s>extension</a:s>
                              </a:s>
                           </a:s>
                           <a:s>)</a:s>
                        </a:s>
                        <a:s> E</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="391">
                     <a:s>where </a:s>
                     <a:s r="391">
                        <a:s r="393">
                           <a:s r="392">
                              <a:s>E</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="393">
                              <a:s>url</a:s>
                           </a:s>
                        </a:s>
                        <a:s> = </a:s>
                        <a:s r="394">
                           <a:s>'http://hl7.org/fhir/us/core/StructureDefinition/us-core-birthsex'</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="399" locator="153:3-154:84" xsi:type="Query">
            <source localId="388" locator="153:3-153:23" alias="E">
               <expression localId="390" locator="153:3-153:21" path="extension" xsi:type="Property">
                  <source localId="389" locator="153:4-153:10" name="Patient" xsi:type="ExpressionRef"/>
               </expression>
            </source>
            <where localId="391" locator="154:5-154:84" xsi:type="Equal">
               <signature localId="397" name="t:String" xsi:type="NamedTypeSpecifier"/>
               <signature localId="398" name="t:String" xsi:type="NamedTypeSpecifier"/>
               <operand localId="395" name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                  <signature localId="396" name="fhir:uri" xsi:type="NamedTypeSpecifier"/>
                  <operand localId="393" locator="154:11-154:15" path="url" scope="E" xsi:type="Property"/>
               </operand>
               <operand localId="394" locator="154:19-154:84" valueType="t:String" value="http://hl7.org/fhir/us/core/StructureDefinition/us-core-birthsex" xsi:type="Literal"/>
            </where>
         </expression>
      </def>
      <def localId="401" locator="156:1-157:18" name="BirthSexPresent" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="401">
               <a:s>define BirthSexPresent:
  </a:s>
               <a:s r="405">
                  <a:s>Exists(</a:s>
                  <a:s r="402">
                     <a:s>BirthSex</a:s>
                  </a:s>
                  <a:s>)</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="405" locator="157:3-157:18" xsi:type="Exists">
            <operand localId="402" locator="157:10-157:17" name="BirthSex" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def localId="407" locator="159:1-167:3" name="UnknownBirthSex" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="407">
               <a:s>define UnknownBirthSex:
  </a:s>
               <a:s r="408">
                  <a:s>exists</a:s>
                  <a:s r="587">
                     <a:s>(
    </a:s>
                     <a:s r="587">
                        <a:s>
                           <a:s r="409">
                              <a:s r="410">
                                 <a:s>(</a:s>
                                 <a:s r="410">
                                    <a:s>BirthSex</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s> E</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      </a:s>
                        <a:s r="411">
                           <a:s>where </a:s>
                           <a:s r="411">
                              <a:s>(
        </a:s>
                              <a:s r="411">
                                 <a:s r="412">
                                    <a:s r="413">
                                       <a:s r="415">
                                          <a:s r="414">
                                             <a:s>E</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="415">
                                             <a:s>value</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="416">
                                          <a:s>'ASKU'</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> or
        </a:s>
                                    <a:s r="471">
                                       <a:s r="473">
                                          <a:s r="472">
                                             <a:s>E</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="473">
                                             <a:s>value</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="474">
                                          <a:s>'OTH'</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> or
        </a:s>
                                 <a:s r="529">
                                    <a:s r="531">
                                       <a:s r="530">
                                          <a:s>E</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="531">
                                          <a:s>value</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="532">
                                       <a:s>'UNK'</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
      )</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>
  )</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="408" locator="160:3-167:3" xsi:type="Exists">
            <operand localId="587" locator="160:9-167:3" xsi:type="Query">
               <source localId="409" locator="161:5-161:16" alias="E">
                  <expression localId="410" locator="161:5-161:14" name="BirthSex" xsi:type="ExpressionRef"/>
               </source>
               <where localId="411" locator="162:7-166:7" xsi:type="Or">
                  <operand localId="412" locator="163:9-164:23" xsi:type="Or">
                     <operand localId="413" locator="163:9-163:24" xsi:type="Equal">
                        <signature localId="469" name="t:String" xsi:type="NamedTypeSpecifier"/>
                        <signature localId="470" name="t:String" xsi:type="NamedTypeSpecifier"/>
                        <operand localId="420" xsi:type="Case">
                           <caseItem localId="421">
                              <when localId="422" isType="fhir:base64Binary" xsi:type="Is">
                                 <operand localId="415" locator="163:9-163:15" path="value" scope="E" xsi:type="Property"/>
                              </when>
                              <then localId="418" name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <signature localId="419" name="fhir:base64Binary" xsi:type="NamedTypeSpecifier"/>
                                 <operand localId="417" asType="fhir:base64Binary" xsi:type="As">
                                    <operand localId="415" locator="163:9-163:15" path="value" scope="E" xsi:type="Property"/>
                                 </operand>
                              </then>
                           </caseItem>
                           <caseItem localId="423">
                              <when localId="424" isType="fhir:uri" xsi:type="Is">
                                 <operand localId="415" locator="163:9-163:15" path="value" scope="E" xsi:type="Property"/>
                              </when>
                              <then localId="426" name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <signature localId="427" name="fhir:uri" xsi:type="NamedTypeSpecifier"/>
                                 <operand localId="425" asType="fhir:uri" xsi:type="As">
                                    <operand localId="415" locator="163:9-163:15" path="value" scope="E" xsi:type="Property"/>
                                 </operand>
                              </then>
                           </caseItem>
                           <caseItem localId="428">
                              <when localId="429" isType="fhir:string" xsi:type="Is">
                                 <operand localId="415" locator="163:9-163:15" path="value" scope="E" xsi:type="Property"/>
                              </when>
                              <then localId="431" name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <signature localId="432" name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                                 <operand localId="430" asType="fhir:string" xsi:type="As">
                                    <operand localId="415" locator="163:9-163:15" path="value" scope="E" xsi:type="Property"/>
                                 </operand>
                              </then>
                           </caseItem>
                           <caseItem localId="433">
                              <when localId="434" isType="fhir:string" xsi:type="Is">
                                 <operand localId="415" locator="163:9-163:15" path="value" scope="E" xsi:type="Property"/>
                              </when>
                              <then localId="436" name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <signature localId="437" name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                                 <operand localId="435" asType="fhir:string" xsi:type="As">
                                    <operand localId="415" locator="163:9-163:15" path="value" scope="E" xsi:type="Property"/>
                                 </operand>
                              </then>
                           </caseItem>
                           <caseItem localId="438">
                              <when localId="439" isType="fhir:string" xsi:type="Is">
                                 <operand localId="415" locator="163:9-163:15" path="value" scope="E" xsi:type="Property"/>
                              </when>
                              <then localId="441" name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <signature localId="442" name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                                 <operand localId="440" asType="fhir:string" xsi:type="As">
                                    <operand localId="415" locator="163:9-163:15" path="value" scope="E" xsi:type="Property"/>
                                 </operand>
                              </then>
                           </caseItem>
                           <caseItem localId="443">
                              <when localId="444" isType="fhir:uri" xsi:type="Is">
                                 <operand localId="415" locator="163:9-163:15" path="value" scope="E" xsi:type="Property"/>
                              </when>
                              <then localId="446" name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <signature localId="447" name="fhir:uri" xsi:type="NamedTypeSpecifier"/>
                                 <operand localId="445" asType="fhir:uri" xsi:type="As">
                                    <operand localId="415" locator="163:9-163:15" path="value" scope="E" xsi:type="Property"/>
                                 </operand>
                              </then>
                           </caseItem>
                           <caseItem localId="448">
                              <when localId="449" isType="fhir:string" xsi:type="Is">
                                 <operand localId="415" locator="163:9-163:15" path="value" scope="E" xsi:type="Property"/>
                              </when>
                              <then localId="451" name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <signature localId="452" name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                                 <operand localId="450" asType="fhir:string" xsi:type="As">
                                    <operand localId="415" locator="163:9-163:15" path="value" scope="E" xsi:type="Property"/>
                                 </operand>
                              </then>
                           </caseItem>
                           <caseItem localId="453">
                              <when localId="454" isType="fhir:uri" xsi:type="Is">
                                 <operand localId="415" locator="163:9-163:15" path="value" scope="E" xsi:type="Property"/>
                              </when>
                              <then localId="456" name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <signature localId="457" name="fhir:uri" xsi:type="NamedTypeSpecifier"/>
                                 <operand localId="455" asType="fhir:uri" xsi:type="As">
                                    <operand localId="415" locator="163:9-163:15" path="value" scope="E" xsi:type="Property"/>
                                 </operand>
                              </then>
                           </caseItem>
                           <caseItem localId="458">
                              <when localId="459" isType="fhir:uri" xsi:type="Is">
                                 <operand localId="415" locator="163:9-163:15" path="value" scope="E" xsi:type="Property"/>
                              </when>
                              <then localId="461" name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <signature localId="462" name="fhir:uri" xsi:type="NamedTypeSpecifier"/>
                                 <operand localId="460" asType="fhir:uri" xsi:type="As">
                                    <operand localId="415" locator="163:9-163:15" path="value" scope="E" xsi:type="Property"/>
                                 </operand>
                              </then>
                           </caseItem>
                           <caseItem localId="463">
                              <when localId="464" isType="fhir:uri" xsi:type="Is">
                                 <operand localId="415" locator="163:9-163:15" path="value" scope="E" xsi:type="Property"/>
                              </when>
                              <then localId="466" name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <signature localId="467" name="fhir:uri" xsi:type="NamedTypeSpecifier"/>
                                 <operand localId="465" asType="fhir:uri" xsi:type="As">
                                    <operand localId="415" locator="163:9-163:15" path="value" scope="E" xsi:type="Property"/>
                                 </operand>
                              </then>
                           </caseItem>
                           <else localId="468" xsi:type="Null"/>
                        </operand>
                        <operand localId="416" locator="163:19-163:24" valueType="t:String" value="ASKU" xsi:type="Literal"/>
                     </operand>
                     <operand localId="471" locator="164:9-164:23" xsi:type="Equal">
                        <signature localId="527" name="t:String" xsi:type="NamedTypeSpecifier"/>
                        <signature localId="528" name="t:String" xsi:type="NamedTypeSpecifier"/>
                        <operand localId="478" xsi:type="Case">
                           <caseItem localId="479">
                              <when localId="480" isType="fhir:base64Binary" xsi:type="Is">
                                 <operand localId="473" locator="164:9-164:15" path="value" scope="E" xsi:type="Property"/>
                              </when>
                              <then localId="476" name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <signature localId="477" name="fhir:base64Binary" xsi:type="NamedTypeSpecifier"/>
                                 <operand localId="475" asType="fhir:base64Binary" xsi:type="As">
                                    <operand localId="473" locator="164:9-164:15" path="value" scope="E" xsi:type="Property"/>
                                 </operand>
                              </then>
                           </caseItem>
                           <caseItem localId="481">
                              <when localId="482" isType="fhir:uri" xsi:type="Is">
                                 <operand localId="473" locator="164:9-164:15" path="value" scope="E" xsi:type="Property"/>
                              </when>
                              <then localId="484" name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <signature localId="485" name="fhir:uri" xsi:type="NamedTypeSpecifier"/>
                                 <operand localId="483" asType="fhir:uri" xsi:type="As">
                                    <operand localId="473" locator="164:9-164:15" path="value" scope="E" xsi:type="Property"/>
                                 </operand>
                              </then>
                           </caseItem>
                           <caseItem localId="486">
                              <when localId="487" isType="fhir:string" xsi:type="Is">
                                 <operand localId="473" locator="164:9-164:15" path="value" scope="E" xsi:type="Property"/>
                              </when>
                              <then localId="489" name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <signature localId="490" name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                                 <operand localId="488" asType="fhir:string" xsi:type="As">
                                    <operand localId="473" locator="164:9-164:15" path="value" scope="E" xsi:type="Property"/>
                                 </operand>
                              </then>
                           </caseItem>
                           <caseItem localId="491">
                              <when localId="492" isType="fhir:string" xsi:type="Is">
                                 <operand localId="473" locator="164:9-164:15" path="value" scope="E" xsi:type="Property"/>
                              </when>
                              <then localId="494" name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <signature localId="495" name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                                 <operand localId="493" asType="fhir:string" xsi:type="As">
                                    <operand localId="473" locator="164:9-164:15" path="value" scope="E" xsi:type="Property"/>
                                 </operand>
                              </then>
                           </caseItem>
                           <caseItem localId="496">
                              <when localId="497" isType="fhir:string" xsi:type="Is">
                                 <operand localId="473" locator="164:9-164:15" path="value" scope="E" xsi:type="Property"/>
                              </when>
                              <then localId="499" name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <signature localId="500" name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                                 <operand localId="498" asType="fhir:string" xsi:type="As">
                                    <operand localId="473" locator="164:9-164:15" path="value" scope="E" xsi:type="Property"/>
                                 </operand>
                              </then>
                           </caseItem>
                           <caseItem localId="501">
                              <when localId="502" isType="fhir:uri" xsi:type="Is">
                                 <operand localId="473" locator="164:9-164:15" path="value" scope="E" xsi:type="Property"/>
                              </when>
                              <then localId="504" name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <signature localId="505" name="fhir:uri" xsi:type="NamedTypeSpecifier"/>
                                 <operand localId="503" asType="fhir:uri" xsi:type="As">
                                    <operand localId="473" locator="164:9-164:15" path="value" scope="E" xsi:type="Property"/>
                                 </operand>
                              </then>
                           </caseItem>
                           <caseItem localId="506">
                              <when localId="507" isType="fhir:string" xsi:type="Is">
                                 <operand localId="473" locator="164:9-164:15" path="value" scope="E" xsi:type="Property"/>
                              </when>
                              <then localId="509" name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <signature localId="510" name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                                 <operand localId="508" asType="fhir:string" xsi:type="As">
                                    <operand localId="473" locator="164:9-164:15" path="value" scope="E" xsi:type="Property"/>
                                 </operand>
                              </then>
                           </caseItem>
                           <caseItem localId="511">
                              <when localId="512" isType="fhir:uri" xsi:type="Is">
                                 <operand localId="473" locator="164:9-164:15" path="value" scope="E" xsi:type="Property"/>
                              </when>
                              <then localId="514" name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <signature localId="515" name="fhir:uri" xsi:type="NamedTypeSpecifier"/>
                                 <operand localId="513" asType="fhir:uri" xsi:type="As">
                                    <operand localId="473" locator="164:9-164:15" path="value" scope="E" xsi:type="Property"/>
                                 </operand>
                              </then>
                           </caseItem>
                           <caseItem localId="516">
                              <when localId="517" isType="fhir:uri" xsi:type="Is">
                                 <operand localId="473" locator="164:9-164:15" path="value" scope="E" xsi:type="Property"/>
                              </when>
                              <then localId="519" name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <signature localId="520" name="fhir:uri" xsi:type="NamedTypeSpecifier"/>
                                 <operand localId="518" asType="fhir:uri" xsi:type="As">
                                    <operand localId="473" locator="164:9-164:15" path="value" scope="E" xsi:type="Property"/>
                                 </operand>
                              </then>
                           </caseItem>
                           <caseItem localId="521">
                              <when localId="522" isType="fhir:uri" xsi:type="Is">
                                 <operand localId="473" locator="164:9-164:15" path="value" scope="E" xsi:type="Property"/>
                              </when>
                              <then localId="524" name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <signature localId="525" name="fhir:uri" xsi:type="NamedTypeSpecifier"/>
                                 <operand localId="523" asType="fhir:uri" xsi:type="As">
                                    <operand localId="473" locator="164:9-164:15" path="value" scope="E" xsi:type="Property"/>
                                 </operand>
                              </then>
                           </caseItem>
                           <else localId="526" xsi:type="Null"/>
                        </operand>
                        <operand localId="474" locator="164:19-164:23" valueType="t:String" value="OTH" xsi:type="Literal"/>
                     </operand>
                  </operand>
                  <operand localId="529" locator="165:9-165:23" xsi:type="Equal">
                     <signature localId="585" name="t:String" xsi:type="NamedTypeSpecifier"/>
                     <signature localId="586" name="t:String" xsi:type="NamedTypeSpecifier"/>
                     <operand localId="536" xsi:type="Case">
                        <caseItem localId="537">
                           <when localId="538" isType="fhir:base64Binary" xsi:type="Is">
                              <operand localId="531" locator="165:9-165:15" path="value" scope="E" xsi:type="Property"/>
                           </when>
                           <then localId="534" name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <signature localId="535" name="fhir:base64Binary" xsi:type="NamedTypeSpecifier"/>
                              <operand localId="533" asType="fhir:base64Binary" xsi:type="As">
                                 <operand localId="531" locator="165:9-165:15" path="value" scope="E" xsi:type="Property"/>
                              </operand>
                           </then>
                        </caseItem>
                        <caseItem localId="539">
                           <when localId="540" isType="fhir:uri" xsi:type="Is">
                              <operand localId="531" locator="165:9-165:15" path="value" scope="E" xsi:type="Property"/>
                           </when>
                           <then localId="542" name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <signature localId="543" name="fhir:uri" xsi:type="NamedTypeSpecifier"/>
                              <operand localId="541" asType="fhir:uri" xsi:type="As">
                                 <operand localId="531" locator="165:9-165:15" path="value" scope="E" xsi:type="Property"/>
                              </operand>
                           </then>
                        </caseItem>
                        <caseItem localId="544">
                           <when localId="545" isType="fhir:string" xsi:type="Is">
                              <operand localId="531" locator="165:9-165:15" path="value" scope="E" xsi:type="Property"/>
                           </when>
                           <then localId="547" name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <signature localId="548" name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                              <operand localId="546" asType="fhir:string" xsi:type="As">
                                 <operand localId="531" locator="165:9-165:15" path="value" scope="E" xsi:type="Property"/>
                              </operand>
                           </then>
                        </caseItem>
                        <caseItem localId="549">
                           <when localId="550" isType="fhir:string" xsi:type="Is">
                              <operand localId="531" locator="165:9-165:15" path="value" scope="E" xsi:type="Property"/>
                           </when>
                           <then localId="552" name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <signature localId="553" name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                              <operand localId="551" asType="fhir:string" xsi:type="As">
                                 <operand localId="531" locator="165:9-165:15" path="value" scope="E" xsi:type="Property"/>
                              </operand>
                           </then>
                        </caseItem>
                        <caseItem localId="554">
                           <when localId="555" isType="fhir:string" xsi:type="Is">
                              <operand localId="531" locator="165:9-165:15" path="value" scope="E" xsi:type="Property"/>
                           </when>
                           <then localId="557" name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <signature localId="558" name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                              <operand localId="556" asType="fhir:string" xsi:type="As">
                                 <operand localId="531" locator="165:9-165:15" path="value" scope="E" xsi:type="Property"/>
                              </operand>
                           </then>
                        </caseItem>
                        <caseItem localId="559">
                           <when localId="560" isType="fhir:uri" xsi:type="Is">
                              <operand localId="531" locator="165:9-165:15" path="value" scope="E" xsi:type="Property"/>
                           </when>
                           <then localId="562" name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <signature localId="563" name="fhir:uri" xsi:type="NamedTypeSpecifier"/>
                              <operand localId="561" asType="fhir:uri" xsi:type="As">
                                 <operand localId="531" locator="165:9-165:15" path="value" scope="E" xsi:type="Property"/>
                              </operand>
                           </then>
                        </caseItem>
                        <caseItem localId="564">
                           <when localId="565" isType="fhir:string" xsi:type="Is">
                              <operand localId="531" locator="165:9-165:15" path="value" scope="E" xsi:type="Property"/>
                           </when>
                           <then localId="567" name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <signature localId="568" name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                              <operand localId="566" asType="fhir:string" xsi:type="As">
                                 <operand localId="531" locator="165:9-165:15" path="value" scope="E" xsi:type="Property"/>
                              </operand>
                           </then>
                        </caseItem>
                        <caseItem localId="569">
                           <when localId="570" isType="fhir:uri" xsi:type="Is">
                              <operand localId="531" locator="165:9-165:15" path="value" scope="E" xsi:type="Property"/>
                           </when>
                           <then localId="572" name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <signature localId="573" name="fhir:uri" xsi:type="NamedTypeSpecifier"/>
                              <operand localId="571" asType="fhir:uri" xsi:type="As">
                                 <operand localId="531" locator="165:9-165:15" path="value" scope="E" xsi:type="Property"/>
                              </operand>
                           </then>
                        </caseItem>
                        <caseItem localId="574">
                           <when localId="575" isType="fhir:uri" xsi:type="Is">
                              <operand localId="531" locator="165:9-165:15" path="value" scope="E" xsi:type="Property"/>
                           </when>
                           <then localId="577" name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <signature localId="578" name="fhir:uri" xsi:type="NamedTypeSpecifier"/>
                              <operand localId="576" asType="fhir:uri" xsi:type="As">
                                 <operand localId="531" locator="165:9-165:15" path="value" scope="E" xsi:type="Property"/>
                              </operand>
                           </then>
                        </caseItem>
                        <caseItem localId="579">
                           <when localId="580" isType="fhir:uri" xsi:type="Is">
                              <operand localId="531" locator="165:9-165:15" path="value" scope="E" xsi:type="Property"/>
                           </when>
                           <then localId="582" name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <signature localId="583" name="fhir:uri" xsi:type="NamedTypeSpecifier"/>
                              <operand localId="581" asType="fhir:uri" xsi:type="As">
                                 <operand localId="531" locator="165:9-165:15" path="value" scope="E" xsi:type="Property"/>
                              </operand>
                           </then>
                        </caseItem>
                        <else localId="584" xsi:type="Null"/>
                     </operand>
                     <operand localId="532" locator="165:19-165:23" valueType="t:String" value="UNK" xsi:type="Literal"/>
                  </operand>
               </where>
            </operand>
         </expression>
      </def>
      <def localId="589" locator="169:1-171:17" name="BirthSexMissingOrUnknown" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="589">
               <a:s>define BirthSexMissingOrUnknown:
  </a:s>
               <a:s r="590">
                  <a:s r="591">
                     <a:s>not </a:s>
                     <a:s r="592">
                        <a:s>BirthSexPresent</a:s>
                     </a:s>
                  </a:s>
                  <a:s> or
  </a:s>
                  <a:s r="593">
                     <a:s>UnknownBirthSex</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="590" locator="170:3-171:17" xsi:type="Or">
            <operand localId="591" locator="170:3-170:21" xsi:type="Not">
               <operand localId="592" locator="170:7-170:21" name="BirthSexPresent" xsi:type="ExpressionRef"/>
            </operand>
            <operand localId="593" locator="171:3-171:17" name="UnknownBirthSex" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def localId="595" locator="173:1-175:37" name="BirthSexCode" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="595">
               <a:s>define BirthSexCode:
  </a:s>
               <a:s r="596">
                  <a:s>if </a:s>
                  <a:s r="597">
                     <a:s>BirthSexMissingOrUnknown</a:s>
                  </a:s>
                  <a:s> then </a:s>
                  <a:s r="598">
                     <a:s>'Unknown'</a:s>
                  </a:s>
                  <a:s>
  else </a:s>
                  <a:s r="620">
                     <a:s>Coalesce(</a:s>
                     <a:s r="616">
                        <a:s r="607">
                           <a:s r="599">
                              <a:s>BirthSex</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="607">
                              <a:s>value</a:s>
                           </a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="616">
                           <a:s>value</a:s>
                        </a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="596" locator="174:3-175:37" xsi:type="If">
            <condition localId="597" locator="174:6-174:29" name="BirthSexMissingOrUnknown" xsi:type="ExpressionRef"/>
            <then localId="598" locator="174:36-174:44" valueType="t:String" value="Unknown" xsi:type="Literal"/>
            <else localId="621" asType="t:String" xsi:type="As">
               <operand localId="620" locator="175:8-175:37" xsi:type="Coalesce">
                  <operand localId="616" locator="175:17-175:36" xsi:type="Query">
                     <source localId="615" alias="$this">
                        <expression localId="607" locator="175:17-175:30" xsi:type="Query">
                           <source localId="606" alias="$this">
                              <expression localId="599" locator="175:17-175:24" name="BirthSex" xsi:type="ExpressionRef"/>
                           </source>
                           <where localId="603" xsi:type="Not">
                              <operand localId="602" xsi:type="IsNull">
                                 <operand localId="601" path="value" xsi:type="Property">
                                    <source localId="600" name="$this" xsi:type="AliasRef"/>
                                 </operand>
                              </operand>
                           </where>
                           <return localId="608" distinct="false">
                              <expression localId="605" path="value" xsi:type="Property">
                                 <source localId="604" name="$this" xsi:type="AliasRef"/>
                              </expression>
                           </return>
                        </expression>
                     </source>
                     <where localId="612" xsi:type="Not">
                        <operand localId="611" xsi:type="IsNull">
                           <operand localId="610" path="value" xsi:type="Property">
                              <source localId="609" name="$this" xsi:type="AliasRef"/>
                           </operand>
                        </operand>
                     </where>
                     <return localId="617" distinct="false">
                        <expression localId="614" path="value" xsi:type="Property">
                           <source localId="613" name="$this" xsi:type="AliasRef"/>
                        </expression>
                     </return>
                  </operand>
               </operand>
            </else>
         </expression>
      </def>
      <def localId="623" locator="177:1-181:86" name="GenderIdentityExtension" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="623">
               <a:s>define GenderIdentityExtension:
  </a:s>
               <a:s r="644">
                  <a:s>
                     <a:s r="624">
                        <a:s r="626">
                           <a:s>(</a:s>
                           <a:s r="626">
                              <a:s r="625">
                                 <a:s>Patient</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="626">
                                 <a:s>extension</a:s>
                              </a:s>
                           </a:s>
                           <a:s>)</a:s>
                        </a:s>
                        <a:s> E</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="627">
                     <a:s>where
      </a:s>
                     <a:s r="627">
                        <a:s r="628">
                           <a:s r="630">
                              <a:s r="629">
                                 <a:s>E</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="630">
                                 <a:s>url</a:s>
                              </a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="631">
                              <a:s>'http://hl7.org/fhir/StructureDefinition/patient-genderIdentity'</a:s>
                           </a:s>
                        </a:s>
                        <a:s> or
      </a:s>
                        <a:s r="636">
                           <a:s r="638">
                              <a:s r="637">
                                 <a:s>E</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="638">
                                 <a:s>url</a:s>
                              </a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="639">
                              <a:s>'http://hl7.org/fhir/us/core/StructureDefinition/us-core-genderIdentity'</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="644" locator="178:3-181:86" xsi:type="Query">
            <source localId="624" locator="178:3-178:23" alias="E">
               <expression localId="626" locator="178:3-178:21" path="extension" xsi:type="Property">
                  <source localId="625" locator="178:4-178:10" name="Patient" xsi:type="ExpressionRef"/>
               </expression>
            </source>
            <where localId="627" locator="179:5-181:86" xsi:type="Or">
               <operand localId="628" locator="180:7-180:78" xsi:type="Equal">
                  <signature localId="634" name="t:String" xsi:type="NamedTypeSpecifier"/>
                  <signature localId="635" name="t:String" xsi:type="NamedTypeSpecifier"/>
                  <operand localId="632" name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <signature localId="633" name="fhir:uri" xsi:type="NamedTypeSpecifier"/>
                     <operand localId="630" locator="180:7-180:11" path="url" scope="E" xsi:type="Property"/>
                  </operand>
                  <operand localId="631" locator="180:15-180:78" valueType="t:String" value="http://hl7.org/fhir/StructureDefinition/patient-genderIdentity" xsi:type="Literal"/>
               </operand>
               <operand localId="636" locator="181:7-181:86" xsi:type="Equal">
                  <signature localId="642" name="t:String" xsi:type="NamedTypeSpecifier"/>
                  <signature localId="643" name="t:String" xsi:type="NamedTypeSpecifier"/>
                  <operand localId="640" name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <signature localId="641" name="fhir:uri" xsi:type="NamedTypeSpecifier"/>
                     <operand localId="638" locator="181:7-181:11" path="url" scope="E" xsi:type="Property"/>
                  </operand>
                  <operand localId="639" locator="181:15-181:86" valueType="t:String" value="http://hl7.org/fhir/us/core/StructureDefinition/us-core-genderIdentity" xsi:type="Literal"/>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="654" locator="215:1-220:5" name="PregnancyEpisodesOfCare" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="654">
               <a:s>define PregnancyEpisodesOfCare:
  </a:s>
               <a:s r="674">
                  <a:s>
                     <a:s r="655">
                        <a:s r="656">
                           <a:s r="656">
                              <a:s>[EpisodeOfCare]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> E</a:s>
                     </a:s>
                  </a:s>
                  <a:s> </a:s>
                  <a:s r="673">
                     <a:s>where
    </a:s>
                     <a:s r="673">
                        <a:s>AnyTrue(
      </a:s>
                        <a:s r="670">
                           <a:s>
                              <a:s r="657">
                                 <a:s r="659">
                                    <a:s>(</a:s>
                                    <a:s r="659">
                                       <a:s r="658">
                                          <a:s>E</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="659">
                                          <a:s>type</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>)</a:s>
                                 </a:s>
                                 <a:s> t</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
        </a:s>
                           <a:s r="660">
                              <a:s>return </a:s>
                              <a:s r="661">
                                 <a:s r="662">
                                    <a:s>t</a:s>
                                 </a:s>
                                 <a:s> ~ </a:s>
                                 <a:s r="663">
                                    <a:s>&quot;Pregnancy Episode Of Care&quot;</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
    )</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="674" locator="216:3-220:5" xsi:type="Query">
            <source localId="655" locator="216:3-216:19" alias="E">
               <expression localId="656" locator="216:3-216:17" dataType="fhir:EpisodeOfCare" templateId="http://hl7.org/fhir/StructureDefinition/EpisodeOfCare" xsi:type="Retrieve"/>
            </source>
            <where localId="673" locator="216:21-220:5" xsi:type="AnyTrue">
               <source localId="670" locator="218:7-219:46" xsi:type="Query">
                  <source localId="657" locator="218:7-218:16" alias="t">
                     <expression localId="659" locator="218:7-218:14" path="type" scope="E" xsi:type="Property"/>
                  </source>
                  <return localId="660" locator="219:9-219:46">
                     <expression localId="661" locator="219:16-219:46" xsi:type="Equivalent">
                        <signature localId="668" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                        <signature localId="669" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                        <operand localId="664" name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="662" locator="219:16" name="t" xsi:type="AliasRef"/>
                        </operand>
                        <operand localId="666" xsi:type="ToConcept">
                           <signature localId="667" name="t:Code" xsi:type="NamedTypeSpecifier"/>
                           <operand localId="663" locator="219:20-219:46" name="Pregnancy Episode Of Care" xsi:type="CodeRef"/>
                        </operand>
                     </expression>
                  </return>
               </source>
            </where>
         </expression>
      </def>
      <def localId="651" locator="222:1-224:27" name="ActivePregnancyEpisodesOfCare" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="651">
               <a:s>define ActivePregnancyEpisodesOfCare:
  </a:s>
               <a:s r="684">
                  <a:s>
                     <a:s r="652">
                        <a:s r="675">
                           <a:s>
                              <a:s>PregnancyEpisodesOfCare</a:s>
                           </a:s>
                        </a:s>
                        <a:s> P</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
  </a:s>
                  <a:s r="676">
                     <a:s>where </a:s>
                     <a:s r="676">
                        <a:s r="678">
                           <a:s r="677">
                              <a:s>P</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="678">
                              <a:s>status</a:s>
                           </a:s>
                        </a:s>
                        <a:s> ~ </a:s>
                        <a:s r="679">
                           <a:s>'active'</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="684" locator="223:3-224:27" xsi:type="Query">
            <source localId="652" locator="223:3-223:27" alias="P">
               <expression localId="675" locator="223:3-223:25" name="PregnancyEpisodesOfCare" xsi:type="ExpressionRef"/>
            </source>
            <where localId="676" locator="224:3-224:27" xsi:type="Equivalent">
               <signature localId="682" name="t:String" xsi:type="NamedTypeSpecifier"/>
               <signature localId="683" name="t:String" xsi:type="NamedTypeSpecifier"/>
               <operand localId="680" name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                  <signature localId="681" name="fhir:EpisodeOfCareStatus" xsi:type="NamedTypeSpecifier"/>
                  <operand localId="678" locator="224:9-224:16" path="status" scope="P" xsi:type="Property"/>
               </operand>
               <operand localId="679" locator="224:20-224:27" valueType="t:String" value="active" xsi:type="Literal"/>
            </where>
         </expression>
      </def>
      <def localId="649" locator="230:1-231:39" name="HasActivePregnancyEpisodesOfCare" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="649">
               <a:s>define HasActivePregnancyEpisodesOfCare:
  </a:s>
               <a:s r="690">
                  <a:s>Exists(</a:s>
                  <a:s r="685">
                     <a:s>ActivePregnancyEpisodesOfCare</a:s>
                  </a:s>
                  <a:s>)</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="690" locator="231:3-231:39" xsi:type="Exists">
            <signature localId="691" xsi:type="ListTypeSpecifier">
               <elementType localId="692" name="fhir:EpisodeOfCare" xsi:type="NamedTypeSpecifier"/>
            </signature>
            <operand localId="685" locator="231:10-231:38" name="ActivePregnancyEpisodesOfCare" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def localId="699" locator="226:1-228:29" name="FinishedPregnancyEpisodesOfCare" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="699">
               <a:s>define FinishedPregnancyEpisodesOfCare:
  </a:s>
               <a:s r="710">
                  <a:s>
                     <a:s r="700">
                        <a:s r="701">
                           <a:s>
                              <a:s>PregnancyEpisodesOfCare</a:s>
                           </a:s>
                        </a:s>
                        <a:s> P</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
  </a:s>
                  <a:s r="702">
                     <a:s>where </a:s>
                     <a:s r="702">
                        <a:s r="704">
                           <a:s r="703">
                              <a:s>P</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="704">
                              <a:s>status</a:s>
                           </a:s>
                        </a:s>
                        <a:s> ~ </a:s>
                        <a:s r="705">
                           <a:s>'finished'</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="710" locator="227:3-228:29" xsi:type="Query">
            <source localId="700" locator="227:3-227:27" alias="P">
               <expression localId="701" locator="227:3-227:25" name="PregnancyEpisodesOfCare" xsi:type="ExpressionRef"/>
            </source>
            <where localId="702" locator="228:3-228:29" xsi:type="Equivalent">
               <signature localId="708" name="t:String" xsi:type="NamedTypeSpecifier"/>
               <signature localId="709" name="t:String" xsi:type="NamedTypeSpecifier"/>
               <operand localId="706" name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                  <signature localId="707" name="fhir:EpisodeOfCareStatus" xsi:type="NamedTypeSpecifier"/>
                  <operand localId="704" locator="228:9-228:16" path="status" scope="P" xsi:type="Property"/>
               </operand>
               <operand localId="705" locator="228:20-228:29" valueType="t:String" value="finished" xsi:type="Literal"/>
            </where>
         </expression>
      </def>
      <def localId="697" locator="233:1-234:41" name="HasFinishedPregnancyEpisodesOfCare" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="697">
               <a:s>define HasFinishedPregnancyEpisodesOfCare:
  </a:s>
               <a:s r="716">
                  <a:s>Exists(</a:s>
                  <a:s r="711">
                     <a:s>FinishedPregnancyEpisodesOfCare</a:s>
                  </a:s>
                  <a:s>)</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="716" locator="234:3-234:41" xsi:type="Exists">
            <signature localId="717" xsi:type="ListTypeSpecifier">
               <elementType localId="718" name="fhir:EpisodeOfCare" xsi:type="NamedTypeSpecifier"/>
            </signature>
            <operand localId="711" locator="234:10-234:40" name="FinishedPregnancyEpisodesOfCare" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def localId="723" locator="196:1-204:3" name="PregnancyDiagnoses" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="723">
               <a:s>define PregnancyDiagnoses:
  </a:s>
               <a:s r="743">
                  <a:s r="724">
                     <a:s>C3F</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="743">
                     <a:s>Confirmed(
    </a:s>
                     <a:s r="742">
                        <a:s r="725">
                           <a:s>C3F</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="742">
                           <a:s>ActiveCondition(
      </a:s>
                           <a:s r="741">
                              <a:s r="726">
                                 <a:s>C3F</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="741">
                                 <a:s>ConditionLookBack(
        </a:s>
                                 <a:s r="739">
                                    <a:s r="729">
                                       <a:s>[Condition: </a:s>
                                       <a:s>
                                          <a:s>&quot;Pregnancy&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                    <a:s> union </a:s>
                                    <a:s r="735">
                                       <a:s>[Condition: </a:s>
                                       <a:s>
                                          <a:s>&quot;Pregnancy (New ICD10 codes published in 2018 and 2020)&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>,
        </a:s>
                                 <a:s r="740">
                                    <a:s>42 weeks</a:s>
                                 </a:s>
                                 <a:s>
      )</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>
  )</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="743" locator="197:3-204:3" name="Confirmed" libraryName="C3F" xsi:type="FunctionRef">
            <operand localId="742" locator="198:5-203:5" name="ActiveCondition" libraryName="C3F" xsi:type="FunctionRef">
               <operand localId="741" locator="199:7-202:7" name="ConditionLookBack" libraryName="C3F" xsi:type="FunctionRef">
                  <operand localId="739" locator="200:9-200:108" xsi:type="Union">
                     <operand localId="729" locator="200:9-200:32" dataType="fhir:Condition" templateId="http://hl7.org/fhir/StructureDefinition/Condition" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes localId="728" locator="200:21-200:31" name="Pregnancy" preserve="true" xsi:type="ValueSetRef"/>
                     </operand>
                     <operand localId="735" locator="200:40-200:108" dataType="fhir:Condition" templateId="http://hl7.org/fhir/StructureDefinition/Condition" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes localId="734" locator="200:52-200:107" name="Pregnancy (New ICD10 codes published in 2018 and 2020)" preserve="true" xsi:type="ValueSetRef"/>
                     </operand>
                  </operand>
                  <operand localId="740" locator="201:9-201:16" value="42" unit="weeks" xsi:type="Quantity"/>
               </operand>
            </operand>
         </expression>
      </def>
      <def localId="753" locator="206:1-213:3" name="PregnancyObservations" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="753">
               <a:s>define PregnancyObservations:
  </a:s>
               <a:s r="782">
                  <a:s r="754">
                     <a:s>C3F</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="782">
                     <a:s>ObservationLookBack(
    </a:s>
                     <a:s r="780">
                        <a:s r="755">
                           <a:s>C3F</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="780">
                           <a:s>Verified(
      </a:s>
                           <a:s r="779">
                              <a:s>
                                 <a:s r="756">
                                    <a:s r="759">
                                       <a:s r="759">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>&quot;Pregnancy Status&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> P</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
        </a:s>
                              <a:s r="768">
                                 <a:s>where </a:s>
                                 <a:s r="768">
                                    <a:s r="770">
                                       <a:s r="769">
                                          <a:s>P</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="770">
                                          <a:s>value</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> ~ </a:s>
                                    <a:s r="771">
                                       <a:s>&quot;Patient currently pregnant&quot;</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>,
    </a:s>
                     <a:s r="781">
                        <a:s>42 weeks</a:s>
                     </a:s>
                     <a:s>
  )</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="782" locator="207:3-213:3" name="ObservationLookBack" libraryName="C3F" xsi:type="FunctionRef">
            <operand localId="780" locator="208:5-211:5" name="Verified" libraryName="C3F" xsi:type="FunctionRef">
               <operand localId="779" locator="209:7-210:52" xsi:type="Query">
                  <source localId="756" locator="209:7-209:41" alias="P">
                     <expression localId="759" locator="209:7-209:39" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="~" xsi:type="Retrieve">
                        <codes localId="767" xsi:type="ToList">
                           <operand localId="758" locator="209:21-209:38" name="Pregnancy Status" xsi:type="CodeRef"/>
                        </codes>
                     </expression>
                  </source>
                  <where localId="768" locator="210:9-210:52" xsi:type="Equivalent">
                     <signature localId="777" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                     <signature localId="778" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                     <operand localId="773" name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="772" asType="fhir:CodeableConcept" xsi:type="As">
                           <operand localId="770" locator="210:15-210:21" path="value" scope="P" xsi:type="Property"/>
                        </operand>
                     </operand>
                     <operand localId="775" xsi:type="ToConcept">
                        <signature localId="776" name="t:Code" xsi:type="NamedTypeSpecifier"/>
                        <operand localId="771" locator="210:25-210:52" name="Patient currently pregnant" xsi:type="CodeRef"/>
                     </operand>
                  </where>
               </operand>
            </operand>
            <operand localId="781" locator="212:5-212:12" value="42" unit="weeks" xsi:type="Quantity"/>
         </expression>
      </def>
      <def localId="646" locator="183:1-194:63" name="Pregnant" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="646">
               <a:s>define Pregnant:
  // IF any Epsidose of care with status = active
  //    Pregnant = true
  // If any Episode of care with status = finished
  //    Pregnant = false
  // Use existing logic with conditions and observations
  </a:s>
               <a:s r="647">
                  <a:s>if </a:s>
                  <a:s r="693">
                     <a:s>(</a:s>
                     <a:s r="693">
                        <a:s>HasActivePregnancyEpisodesOfCare</a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
                  <a:s r="694"> then
    true
  else </a:s>
                  <a:s r="695">
                     <a:s>if </a:s>
                     <a:s r="719">
                        <a:s>(</a:s>
                        <a:s r="719">
                           <a:s>HasFinishedPregnancyEpisodesOfCare</a:s>
                        </a:s>
                        <a:s>)</a:s>
                     </a:s>
                     <a:s r="720"> then
    false
  else
    </a:s>
                     <a:s r="721">
                        <a:s r="749">
                           <a:s>Exists(</a:s>
                           <a:s r="744">
                              <a:s>PregnancyDiagnoses</a:s>
                           </a:s>
                           <a:s>)</a:s>
                        </a:s>
                        <a:s> or </a:s>
                        <a:s r="788">
                           <a:s>Exists(</a:s>
                           <a:s r="783">
                              <a:s>PregnancyObservations</a:s>
                           </a:s>
                           <a:s>)</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="647" locator="189:3-194:63" xsi:type="If">
            <condition localId="693" locator="189:6-189:39" name="HasActivePregnancyEpisodesOfCare" xsi:type="ExpressionRef"/>
            <then localId="694" locator="190:5-190:8" valueType="t:Boolean" value="true" xsi:type="Literal"/>
            <else localId="695" locator="191:8-194:63" xsi:type="If">
               <condition localId="719" locator="191:11-191:46" name="HasFinishedPregnancyEpisodesOfCare" xsi:type="ExpressionRef"/>
               <then localId="720" locator="192:5-192:9" valueType="t:Boolean" value="false" xsi:type="Literal"/>
               <else localId="721" locator="194:5-194:63" xsi:type="Or">
                  <operand localId="749" locator="194:5-194:30" xsi:type="Exists">
                     <signature localId="750" xsi:type="ListTypeSpecifier">
                        <elementType localId="751" name="fhir:Condition" xsi:type="NamedTypeSpecifier"/>
                     </signature>
                     <operand localId="744" locator="194:12-194:29" name="PregnancyDiagnoses" xsi:type="ExpressionRef"/>
                  </operand>
                  <operand localId="788" locator="194:35-194:63" xsi:type="Exists">
                     <signature localId="789" xsi:type="ListTypeSpecifier">
                        <elementType localId="790" name="fhir:Observation" xsi:type="NamedTypeSpecifier"/>
                     </signature>
                     <operand localId="783" locator="194:42-194:62" name="PregnancyObservations" xsi:type="ExpressionRef"/>
                  </operand>
               </else>
            </else>
         </expression>
      </def>
      <def localId="796" locator="249:1-250:57" name="ColorectalCancerDiagnoses" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="796">
               <a:s>define ColorectalCancerDiagnoses:
  </a:s>
               <a:s r="804">
                  <a:s r="797">
                     <a:s>Common</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="804">
                     <a:s>ValidCondition(</a:s>
                     <a:s r="800">
                        <a:s>[Condition: </a:s>
                        <a:s>
                           <a:s>&quot;COLORECTAL CANCER&quot;</a:s>
                        </a:s>
                        <a:s>]</a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="804" locator="250:3-250:57" name="ValidCondition" libraryName="Common" xsi:type="FunctionRef">
            <operand localId="800" locator="250:25-250:56" dataType="fhir:Condition" templateId="http://hl7.org/fhir/StructureDefinition/Condition" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
               <codes localId="799" locator="250:37-250:55" name="COLORECTAL CANCER" preserve="true" xsi:type="ValueSetRef"/>
            </operand>
         </expression>
      </def>
      <def localId="792" locator="243:1-247:50" name="de-CurrentCRC" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="792">
               <a:s>//------------------------------------------------------------------------------
// Current colorectal cancer
//------------------------------------------------------------------------------

// Conditions relevant to colorectal cancer
//    No lookback restriction

define &quot;de-CurrentCRC&quot;:
  </a:s>
               <a:s r="793">
                  <a:s>exists </a:s>
                  <a:s r="832">
                     <a:s>
                        <a:s r="794">
                           <a:s r="805">
                              <a:s>
                                 <a:s>ColorectalCancerDiagnoses</a:s>
                              </a:s>
                           </a:s>
                           <a:s> C</a:s>
                        </a:s>
                     </a:s>
                     <a:s>
    </a:s>
                     <a:s r="806">
                        <a:s>where </a:s>
                        <a:s r="806">
                           <a:s r="807">
                              <a:s r="815">
                                 <a:s r="810">
                                    <a:s r="809">
                                       <a:s>C</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="810">
                                       <a:s>clinicalStatus</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> !~ </a:s>
                                 <a:s r="811">
                                    <a:s>&quot;Condition inactive&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
      and </a:s>
                              <a:s r="823">
                                 <a:s r="818">
                                    <a:s r="817">
                                       <a:s>C</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="818">
                                       <a:s>clinicalStatus</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> !~ </a:s>
                                 <a:s r="819">
                                    <a:s>&quot;Condition remission&quot;</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
      and </a:s>
                           <a:s r="831">
                              <a:s r="826">
                                 <a:s r="825">
                                    <a:s>C</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="826">
                                    <a:s>clinicalStatus</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> !~ </a:s>
                              <a:s r="827">
                                 <a:s>&quot;Condition resolved&quot;</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="793" locator="244:3-247:50" xsi:type="Exists">
            <signature localId="833" xsi:type="ListTypeSpecifier">
               <elementType localId="834" name="fhir:Condition" xsi:type="NamedTypeSpecifier"/>
            </signature>
            <operand localId="832" locator="244:10-247:50" xsi:type="Query">
               <source localId="794" locator="244:10-244:36" alias="C">
                  <expression localId="805" locator="244:10-244:34" name="ColorectalCancerDiagnoses" xsi:type="ExpressionRef"/>
               </source>
               <where localId="806" locator="245:5-247:50" xsi:type="And">
                  <operand localId="807" locator="245:11-246:51" xsi:type="And">
                     <operand localId="815" locator="245:11-245:50" xsi:type="Not">
                        <operand localId="808" locator="245:11-245:50" xsi:type="Equivalent">
                           <signature localId="813" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                           <signature localId="814" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                           <operand localId="812" name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="810" locator="245:11-245:26" path="clinicalStatus" scope="C" xsi:type="Property"/>
                           </operand>
                           <operand localId="811" locator="245:31-245:50" name="Condition inactive" xsi:type="ConceptRef"/>
                        </operand>
                     </operand>
                     <operand localId="823" locator="246:11-246:51" xsi:type="Not">
                        <operand localId="816" locator="246:11-246:51" xsi:type="Equivalent">
                           <signature localId="821" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                           <signature localId="822" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                           <operand localId="820" name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="818" locator="246:11-246:26" path="clinicalStatus" scope="C" xsi:type="Property"/>
                           </operand>
                           <operand localId="819" locator="246:31-246:51" name="Condition remission" xsi:type="ConceptRef"/>
                        </operand>
                     </operand>
                  </operand>
                  <operand localId="831" locator="247:11-247:50" xsi:type="Not">
                     <operand localId="824" locator="247:11-247:50" xsi:type="Equivalent">
                        <signature localId="829" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                        <signature localId="830" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                        <operand localId="828" name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="826" locator="247:11-247:26" path="clinicalStatus" scope="C" xsi:type="Property"/>
                        </operand>
                        <operand localId="827" locator="247:31-247:50" name="Condition resolved" xsi:type="ConceptRef"/>
                     </operand>
                  </operand>
               </where>
            </operand>
         </expression>
      </def>
      <def localId="839" locator="259:1-260:57" name="TotalColectomyProcedures" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="839">
               <a:s>define TotalColectomyProcedures:
  </a:s>
               <a:s r="847">
                  <a:s r="840">
                     <a:s>C3F</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="847">
                     <a:s>Completed(</a:s>
                     <a:s r="843">
                        <a:s>[Procedure: </a:s>
                        <a:s>
                           <a:s>&quot;TOTAL COLECTOMY PROCEDURE&quot;</a:s>
                        </a:s>
                        <a:s>]</a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="847" locator="260:3-260:57" name="Completed" libraryName="C3F" xsi:type="FunctionRef">
            <operand localId="843" locator="260:17-260:56" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
               <codes localId="842" locator="260:29-260:55" name="TOTAL COLECTOMY PROCEDURE" preserve="true" xsi:type="ValueSetRef"/>
            </operand>
         </expression>
      </def>
      <def localId="836" locator="256:1-257:33" name="de-TotalColectomy" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="836">
               <a:s>//------------------------------------------------------------------------------
// History of total colectomy procedure
//------------------------------------------------------------------------------

define &quot;de-TotalColectomy&quot;:
  </a:s>
               <a:s r="837">
                  <a:s>exists </a:s>
                  <a:s r="848">
                     <a:s>TotalColectomyProcedures</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="837" locator="257:3-257:33" xsi:type="Exists">
            <signature localId="849" xsi:type="ListTypeSpecifier">
               <elementType localId="850" name="fhir:Procedure" xsi:type="NamedTypeSpecifier"/>
            </signature>
            <operand localId="848" locator="257:10-257:33" name="TotalColectomyProcedures" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def localId="863" locator="307:1-311:3" name="NewOrWorseningColorectalSymptomsObservations" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="863">
               <a:s>define NewOrWorseningColorectalSymptomsObservations:
  </a:s>
               <a:s r="877">
                  <a:s r="864">
                     <a:s>C3F</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="877">
                     <a:s>ObservationLookBack(
    </a:s>
                     <a:s r="867">
                        <a:s>[Observation: </a:s>
                        <a:s>
                           <a:s>&quot;New or worsening colorectal symptoms&quot;</a:s>
                        </a:s>
                        <a:s>]</a:s>
                     </a:s>
                     <a:s>,
    </a:s>
                     <a:s r="876">
                        <a:s>ObservationLookbackPeriod</a:s>
                     </a:s>
                     <a:s>
  )</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="877" locator="308:3-311:3" name="ObservationLookBack" libraryName="C3F" xsi:type="FunctionRef">
            <operand localId="867" locator="309:5-309:57" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="~" xsi:type="Retrieve">
               <codes localId="875" xsi:type="ToList">
                  <operand localId="866" locator="309:19-309:56" name="New or worsening colorectal symptoms" xsi:type="CodeRef"/>
               </codes>
            </operand>
            <operand localId="876" locator="310:5-310:29" name="ObservationLookbackPeriod" xsi:type="ParameterRef"/>
         </expression>
      </def>
      <def localId="860" locator="298:1-299:88" name="NewOrWorseningColorectalSymptomsEncounter" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="860">
               <a:s>define NewOrWorseningColorectalSymptomsEncounter:
  </a:s>
               <a:s r="888">
                  <a:s>
                     <a:s r="861">
                        <a:s r="878">
                           <a:s>
                              <a:s>NewOrWorseningColorectalSymptomsObservations</a:s>
                           </a:s>
                        </a:s>
                        <a:s> O</a:s>
                     </a:s>
                  </a:s>
                  <a:s> </a:s>
                  <a:s r="879">
                     <a:s>where </a:s>
                     <a:s r="879">
                        <a:s r="882">
                           <a:s r="881">
                              <a:s r="880">
                                 <a:s>O</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="881">
                                 <a:s>encounter</a:s>
                              </a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="882">
                              <a:s>reference</a:s>
                           </a:s>
                        </a:s>
                        <a:s> = </a:s>
                        <a:s r="883">
                           <a:s>encounter</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="888" locator="299:3-299:88" xsi:type="Query">
            <source localId="861" locator="299:3-299:48" alias="O">
               <expression localId="878" locator="299:3-299:46" name="NewOrWorseningColorectalSymptomsObservations" xsi:type="ExpressionRef"/>
            </source>
            <where localId="879" locator="299:50-299:88" xsi:type="Equal">
               <signature localId="886" name="t:String" xsi:type="NamedTypeSpecifier"/>
               <signature localId="887" name="t:String" xsi:type="NamedTypeSpecifier"/>
               <operand localId="884" name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                  <signature localId="885" name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                  <operand localId="882" locator="299:56-299:76" path="reference" xsi:type="Property">
                     <source localId="881" locator="299:56-299:66" path="encounter" scope="O" xsi:type="Property"/>
                  </operand>
               </operand>
               <operand localId="883" locator="299:80-299:88" name="encounter" xsi:type="ParameterRef"/>
            </where>
         </expression>
      </def>
      <def localId="891" locator="301:1-305:3" name="NewOrWorseningColorectalSymptomsLookback" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="891">
               <a:s>define NewOrWorseningColorectalSymptomsLookback:
  </a:s>
               <a:s r="895">
                  <a:s r="892">
                     <a:s>C3F</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="895">
                     <a:s>ObservationLookBack(
    </a:s>
                     <a:s r="893">
                        <a:s>NewOrWorseningColorectalSymptomsObservations</a:s>
                     </a:s>
                     <a:s>,
    </a:s>
                     <a:s r="894">
                        <a:s>SymptomaticLookBack</a:s>
                     </a:s>
                     <a:s>
  )</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="895" locator="302:3-305:3" name="ObservationLookBack" libraryName="C3F" xsi:type="FunctionRef">
            <operand localId="893" locator="303:5-303:48" name="NewOrWorseningColorectalSymptomsObservations" xsi:type="ExpressionRef"/>
            <operand localId="894" locator="304:5-304:23" name="SymptomaticLookBack" xsi:type="ParameterRef"/>
         </expression>
      </def>
      <def localId="856" locator="290:1-296:3" name="MostRecentNewOrWorseningColorectalSymptoms" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="856">
               <a:s>// union Common.ValidCondition([Condition: &quot;Iron Decifiency Anemia without Specified Cause&quot;]) 

define MostRecentNewOrWorseningColorectalSymptoms:
  </a:s>
               <a:s r="908">
                  <a:s r="857">
                     <a:s>C3F</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="908">
                     <a:s>MostRecent(
    </a:s>
                     <a:s r="902">
                        <a:s r="899">
                           <a:s>Flatten(</a:s>
                           <a:s r="858">
                              <a:s>{
      </a:s>
                              <a:s r="889">
                                 <a:s>NewOrWorseningColorectalSymptomsEncounter</a:s>
                              </a:s>
                              <a:s>,
      </a:s>
                              <a:s r="896">
                                 <a:s>NewOrWorseningColorectalSymptomsLookback</a:s>
                              </a:s>
                              <a:s>
    }</a:s>
                           </a:s>
                           <a:s>)</a:s>
                        </a:s>
                        <a:s> except </a:s>
                        <a:s r="900">
                           <a:s r="901">{null}</a:s>
                        </a:s>
                     </a:s>
                     <a:s>
  )</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="908" locator="291:3-296:3" name="MostRecent" libraryName="C3F" xsi:type="FunctionRef">
            <operand localId="902" locator="292:5-295:20" xsi:type="Except">
               <operand localId="899" locator="292:5-295:6" xsi:type="Flatten">
                  <operand localId="858" locator="292:13-295:5" xsi:type="List">
                     <element localId="889" locator="293:7-293:47" name="NewOrWorseningColorectalSymptomsEncounter" xsi:type="ExpressionRef"/>
                     <element localId="896" locator="294:7-294:46" name="NewOrWorseningColorectalSymptomsLookback" xsi:type="ExpressionRef"/>
                  </operand>
               </operand>
               <operand localId="903" xsi:type="Query">
                  <source localId="904" alias="X">
                     <expression localId="900" locator="295:15-295:20" xsi:type="List">
                        <element localId="901" locator="295:16-295:19" xsi:type="Null"/>
                     </expression>
                  </source>
                  <return localId="905" distinct="false">
                     <expression localId="907" asType="fhir:Observation" xsi:type="As">
                        <operand localId="906" name="X" xsi:type="AliasRef"/>
                     </expression>
                  </return>
               </operand>
            </operand>
         </expression>
      </def>
      <def localId="919" locator="287:1-288:148" name="ColorectalSymptomConditions" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="919">
               <a:s>define ColorectalSymptomConditions:
  </a:s>
               <a:s r="936">
                  <a:s r="927">
                     <a:s r="920">
                        <a:s>Common</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="927">
                        <a:s>ValidCondition(</a:s>
                        <a:s r="923">
                           <a:s>[Condition: </a:s>
                           <a:s>
                              <a:s>&quot;Non Bleeding Colorectal Cancer Signs and Symptoms&quot;</a:s>
                           </a:s>
                           <a:s>]</a:s>
                        </a:s>
                        <a:s>)</a:s>
                     </a:s>
                  </a:s>
                  <a:s> union </a:s>
                  <a:s r="935">
                     <a:s r="928">
                        <a:s>Common</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="935">
                        <a:s>ValidCondition(</a:s>
                        <a:s r="931">
                           <a:s>[Condition: </a:s>
                           <a:s>
                              <a:s>&quot;Blood in Stool&quot;</a:s>
                           </a:s>
                           <a:s>]</a:s>
                        </a:s>
                        <a:s>)</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="936" locator="288:3-288:148" xsi:type="Union">
            <operand localId="927" locator="288:3-288:89" name="ValidCondition" libraryName="Common" xsi:type="FunctionRef">
               <operand localId="923" locator="288:25-288:88" dataType="fhir:Condition" templateId="http://hl7.org/fhir/StructureDefinition/Condition" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                  <codes localId="922" locator="288:37-288:87" name="Non Bleeding Colorectal Cancer Signs and Symptoms" preserve="true" xsi:type="ValueSetRef"/>
               </operand>
            </operand>
            <operand localId="935" locator="288:97-288:148" name="ValidCondition" libraryName="Common" xsi:type="FunctionRef">
               <operand localId="931" locator="288:119-288:147" dataType="fhir:Condition" templateId="http://hl7.org/fhir/StructureDefinition/Condition" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                  <codes localId="930" locator="288:131-288:146" name="Blood in Stool" preserve="true" xsi:type="ValueSetRef"/>
               </operand>
            </operand>
         </expression>
      </def>
      <def localId="916" locator="283:1-285:43" name="EncounterColorectalSymptomConditions" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="916">
               <a:s>define EncounterColorectalSymptomConditions:
  </a:s>
               <a:s r="947">
                  <a:s>
                     <a:s r="917">
                        <a:s r="937">
                           <a:s>
                              <a:s>ColorectalSymptomConditions</a:s>
                           </a:s>
                        </a:s>
                        <a:s> C</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="938">
                     <a:s>where </a:s>
                     <a:s r="938">
                        <a:s r="941">
                           <a:s r="940">
                              <a:s r="939">
                                 <a:s>C</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="940">
                                 <a:s>encounter</a:s>
                              </a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="941">
                              <a:s>reference</a:s>
                           </a:s>
                        </a:s>
                        <a:s> = </a:s>
                        <a:s r="942">
                           <a:s>encounter</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="947" locator="284:3-285:43" xsi:type="Query">
            <source localId="917" locator="284:3-284:31" alias="C">
               <expression localId="937" locator="284:3-284:29" name="ColorectalSymptomConditions" xsi:type="ExpressionRef"/>
            </source>
            <where localId="938" locator="285:5-285:43" xsi:type="Equal">
               <signature localId="945" name="t:String" xsi:type="NamedTypeSpecifier"/>
               <signature localId="946" name="t:String" xsi:type="NamedTypeSpecifier"/>
               <operand localId="943" name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                  <signature localId="944" name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                  <operand localId="941" locator="285:11-285:31" path="reference" xsi:type="Property">
                     <source localId="940" locator="285:11-285:21" path="encounter" scope="C" xsi:type="Property"/>
                  </operand>
               </operand>
               <operand localId="942" locator="285:35-285:43" name="encounter" xsi:type="ParameterRef"/>
            </where>
         </expression>
      </def>
      <def localId="960" locator="276:1-281:3" name="AllColorectalSymptomEncounters" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="960">
               <a:s>define AllColorectalSymptomEncounters:
  </a:s>
               <a:s r="988">
                  <a:s r="961">
                     <a:s>Common</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="988">
                     <a:s>RelevantEncounterStatus(
    </a:s>
                     <a:s r="987">
                        <a:s>
                           <a:s r="962">
                              <a:s r="963">
                                 <a:s r="963">
                                    <a:s>[Encounter]</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> E</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      </a:s>
                        <a:s r="964">
                           <a:s>where
        </a:s>
                           <a:s r="964">
                              <a:s>(</a:s>
                              <a:s r="964">
                                 <a:s r="968">
                                    <a:s r="966">
                                       <a:s r="965">
                                          <a:s>E</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="966">
                                          <a:s>reasonCode</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> in </a:s>
                                    <a:s r="967">
                                       <a:s>&quot;Non Bleeding Colorectal Cancer Signs and Symptoms&quot;</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> or </a:s>
                                 <a:s r="979">
                                    <a:s r="977">
                                       <a:s r="976">
                                          <a:s>E</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="977">
                                          <a:s>reasonCode</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> in </a:s>
                                    <a:s r="978">
                                       <a:s>&quot;Blood in Stool&quot;</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s> // or E.reasonCode in &quot;Iron Decifiency Anemia without Specified Cause&quot;)     
  )</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="988" locator="277:3-281:3" name="RelevantEncounterStatus" libraryName="Common" xsi:type="FunctionRef">
            <operand localId="987" locator="278:5-280:113" xsi:type="Query">
               <source localId="962" locator="278:5-278:17" alias="E">
                  <expression localId="963" locator="278:5-278:15" dataType="fhir:Encounter" templateId="http://hl7.org/fhir/StructureDefinition/Encounter" xsi:type="Retrieve"/>
               </source>
               <where localId="964" locator="279:7-280:113" xsi:type="Or">
                  <operand localId="968" locator="280:10-280:76" xsi:type="AnyInValueSet">
                     <signature localId="974" xsi:type="ListTypeSpecifier">
                        <elementType localId="975" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                     </signature>
                     <codes localId="969" xsi:type="Query">
                        <source localId="970" alias="X">
                           <expression localId="966" locator="280:10-280:21" path="reasonCode" scope="E" xsi:type="Property"/>
                        </source>
                        <return localId="971" distinct="false">
                           <expression localId="973" name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="972" name="X" xsi:type="AliasRef"/>
                           </expression>
                        </return>
                     </codes>
                     <valueset localId="967" locator="280:26-280:76" name="Non Bleeding Colorectal Cancer Signs and Symptoms" preserve="true"/>
                  </operand>
                  <operand localId="979" locator="280:81-280:112" xsi:type="AnyInValueSet">
                     <signature localId="985" xsi:type="ListTypeSpecifier">
                        <elementType localId="986" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                     </signature>
                     <codes localId="980" xsi:type="Query">
                        <source localId="981" alias="X">
                           <expression localId="977" locator="280:81-280:92" path="reasonCode" scope="E" xsi:type="Property"/>
                        </source>
                        <return localId="982" distinct="false">
                           <expression localId="984" name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="983" name="X" xsi:type="AliasRef"/>
                           </expression>
                        </return>
                     </codes>
                     <valueset localId="978" locator="280:97-280:112" name="Blood in Stool" preserve="true"/>
                  </operand>
               </where>
            </operand>
         </expression>
      </def>
      <def localId="952" locator="272:1-274:81" name="EncounterReasonColorectalSymptoms" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="952">
               <a:s>define EncounterReasonColorectalSymptoms:
  </a:s>
               <a:s r="953">
                  <a:s r="956">
                     <a:s r="954">
                        <a:s>encounter</a:s>
                     </a:s>
                     <a:s> is not null</a:s>
                  </a:s>
                  <a:s> and 
    </a:s>
                  <a:s r="957">
                     <a:s>exists </a:s>
                     <a:s r="1003">
                        <a:s>
                           <a:s r="958">
                              <a:s r="989">
                                 <a:s>
                                    <a:s>AllColorectalSymptomEncounters</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> E</a:s>
                           </a:s>
                        </a:s>
                        <a:s> </a:s>
                        <a:s r="990">
                           <a:s>where </a:s>
                           <a:s r="990">
                              <a:s r="991">
                                 <a:s>encounter</a:s>
                              </a:s>
                              <a:s> = </a:s>
                              <a:s r="1000">
                                 <a:s r="993">
                                    <a:s>'Encounter/'</a:s>
                                 </a:s>
                                 <a:s> + </a:s>
                                 <a:s r="995">
                                    <a:s r="994">
                                       <a:s>E</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="995">
                                       <a:s>id</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="953" locator="273:3-274:81" xsi:type="And">
            <operand localId="956" locator="273:3-273:23" xsi:type="Not">
               <operand localId="955" locator="273:3-273:23" xsi:type="IsNull">
                  <operand localId="954" locator="273:3-273:11" name="encounter" xsi:type="ParameterRef"/>
               </operand>
            </operand>
            <operand localId="957" locator="274:5-274:81" xsi:type="Exists">
               <signature localId="1004" xsi:type="ListTypeSpecifier">
                  <elementType localId="1005" name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
               </signature>
               <operand localId="1003" locator="274:12-274:81" xsi:type="Query">
                  <source localId="958" locator="274:12-274:43" alias="E">
                     <expression localId="989" locator="274:12-274:41" name="AllColorectalSymptomEncounters" xsi:type="ExpressionRef"/>
                  </source>
                  <where localId="990" locator="274:45-274:81" xsi:type="Equal">
                     <signature localId="1001" name="t:String" xsi:type="NamedTypeSpecifier"/>
                     <signature localId="1002" name="t:String" xsi:type="NamedTypeSpecifier"/>
                     <operand localId="991" locator="274:51-274:59" name="encounter" xsi:type="ParameterRef"/>
                     <operand localId="1000" locator="274:63-274:81" xsi:type="Concatenate">
                        <operand localId="993" locator="274:63-274:74" valueType="t:String" value="Encounter/" xsi:type="Literal"/>
                        <operand localId="996" name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <signature localId="997" name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                           <operand localId="995" locator="274:78-274:81" path="id" scope="E" xsi:type="Property"/>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </operand>
         </expression>
      </def>
      <def localId="852" locator="267:1-270:40" name="de-ColorectalSignsSymptoms" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="852">
               <a:s>//------------------------------------------------------------------------------
// Colorectal symptoms
//------------------------------------------------------------------------------

// TODO: move this to events
define &quot;de-ColorectalSignsSymptoms&quot;:
  </a:s>
               <a:s r="853">
                  <a:s r="854">
                     <a:s r="911">
                        <a:s r="910">
                           <a:s r="909">
                              <a:s>MostRecentNewOrWorseningColorectalSymptoms</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="910">
                              <a:s>value</a:s>
                           </a:s>
                        </a:s>
                        <a:s> is true</a:s>
                     </a:s>
                     <a:s>
    or </a:s>
                     <a:s r="914">
                        <a:s>exists </a:s>
                        <a:s r="948">
                           <a:s>EncounterColorectalSymptomConditions</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    or </a:s>
                  <a:s r="1006">
                     <a:s>EncounterReasonColorectalSymptoms</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="853" locator="268:3-270:40" xsi:type="Or">
            <operand localId="854" locator="268:3-269:50" xsi:type="Or">
               <operand localId="911" locator="268:3-268:58" xsi:type="IsTrue">
                  <operand localId="913" name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="912" asType="fhir:boolean" xsi:type="As">
                        <operand localId="910" locator="268:3-268:50" path="value" xsi:type="Property">
                           <source localId="909" locator="268:3-268:44" name="MostRecentNewOrWorseningColorectalSymptoms" xsi:type="ExpressionRef"/>
                        </operand>
                     </operand>
                  </operand>
               </operand>
               <operand localId="914" locator="269:8-269:50" xsi:type="Exists">
                  <signature localId="949" xsi:type="ListTypeSpecifier">
                     <elementType localId="950" name="fhir:Condition" xsi:type="NamedTypeSpecifier"/>
                  </signature>
                  <operand localId="948" locator="269:15-269:50" name="EncounterColorectalSymptomConditions" xsi:type="ExpressionRef"/>
               </operand>
            </operand>
            <operand localId="1006" locator="270:8-270:40" name="EncounterReasonColorectalSymptoms" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def localId="1015" locator="329:1-333:3" name="ReducedLifeExpectancyObservations" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1015">
               <a:s>define ReducedLifeExpectancyObservations:
  </a:s>
               <a:s r="1029">
                  <a:s r="1016">
                     <a:s>C3F</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="1029">
                     <a:s>ObservationLookBack(
    </a:s>
                     <a:s r="1019">
                        <a:s>[Observation: </a:s>
                        <a:s>
                           <a:s>&quot;Reduced life expectancy indicator&quot;</a:s>
                        </a:s>
                        <a:s>]</a:s>
                     </a:s>
                     <a:s>,
    </a:s>
                     <a:s r="1028">
                        <a:s>ObservationLookbackPeriod</a:s>
                     </a:s>
                     <a:s>
  )</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1029" locator="330:3-333:3" name="ObservationLookBack" libraryName="C3F" xsi:type="FunctionRef">
            <operand localId="1019" locator="331:5-331:54" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="~" xsi:type="Retrieve">
               <codes localId="1027" xsi:type="ToList">
                  <operand localId="1018" locator="331:19-331:53" name="Reduced life expectancy indicator" xsi:type="CodeRef"/>
               </codes>
            </operand>
            <operand localId="1028" locator="332:5-332:29" name="ObservationLookbackPeriod" xsi:type="ParameterRef"/>
         </expression>
      </def>
      <def localId="1010" locator="320:1-327:15" name="ReducedLifeExpectancy" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1010">
               <a:s>define ReducedLifeExpectancy:
  </a:s>
               <a:s r="1041">
                  <a:s r="1039">
                     <a:s r="1011">
                        <a:s>C3F</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="1039">
                        <a:s>MostRecent(
    </a:s>
                        <a:s r="1038">
                           <a:s r="1012">
                              <a:s>C3F</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="1038">
                              <a:s>ObservationLookBack(
      </a:s>
                              <a:s r="1036">
                                 <a:s>
                                    <a:s r="1013">
                                       <a:s r="1030">
                                          <a:s>
                                             <a:s>ReducedLifeExpectancyObservations</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> R</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
        </a:s>
                                 <a:s r="1033">
                                    <a:s>where </a:s>
                                    <a:s r="1033">
                                       <a:s r="1032">
                                          <a:s r="1031">
                                             <a:s>R</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="1032">
                                             <a:s>value</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> is true</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s>,
      </a:s>
                              <a:s r="1037">
                                 <a:s>SymptomaticLookBack</a:s>
                              </a:s>
                              <a:s>
    )</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s> is not null</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1041" locator="321:3-327:15" xsi:type="Not">
            <operand localId="1040" locator="321:3-327:15" xsi:type="IsNull">
               <operand localId="1039" locator="321:3-327:3" name="MostRecent" libraryName="C3F" xsi:type="FunctionRef">
                  <operand localId="1038" locator="322:5-326:5" name="ObservationLookBack" libraryName="C3F" xsi:type="FunctionRef">
                     <operand localId="1036" locator="323:7-324:29" xsi:type="Query">
                        <source localId="1013" locator="323:7-323:41" alias="R">
                           <expression localId="1030" locator="323:7-323:39" name="ReducedLifeExpectancyObservations" xsi:type="ExpressionRef"/>
                        </source>
                        <where localId="1033" locator="324:9-324:29" xsi:type="IsTrue">
                           <operand localId="1035" name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="1034" asType="fhir:boolean" xsi:type="As">
                                 <operand localId="1032" locator="324:15-324:21" path="value" scope="R" xsi:type="Property"/>
                              </operand>
                           </operand>
                        </where>
                     </operand>
                     <operand localId="1037" locator="325:7-325:25" name="SymptomaticLookBack" xsi:type="ParameterRef"/>
                  </operand>
               </operand>
            </operand>
         </expression>
      </def>
      <def localId="1008" locator="317:1-318:23" name="de-lifeexp" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1008">
               <a:s>//------------------------------------------------------------------------------
// Life expectancy
//------------------------------------------------------------------------------

define &quot;de-lifeexp&quot;:
  </a:s>
               <a:s r="1042">
                  <a:s>ReducedLifeExpectancy</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1042" locator="318:3-318:23" name="ReducedLifeExpectancy" xsi:type="ExpressionRef"/>
      </def>
      <def localId="1054" locator="359:1-360:61" name="LynchSyndromeConditions" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1054">
               <a:s>define LynchSyndromeConditions:
  </a:s>
               <a:s r="1067">
                  <a:s r="1055">
                     <a:s>Common</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="1067">
                     <a:s>ValidCondition(</a:s>
                     <a:s r="1058">
                        <a:s>[Condition: </a:s>
                        <a:s>
                           <a:s>code</a:s>
                        </a:s>
                        <a:s> ~ </a:s>
                        <a:s>
                           <a:s>&quot;LYNCH SYNDROME&quot;</a:s>
                        </a:s>
                        <a:s>]</a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1067" locator="360:3-360:61" name="ValidCondition" libraryName="Common" xsi:type="FunctionRef">
            <operand localId="1058" locator="360:25-360:60" dataType="fhir:Condition" templateId="http://hl7.org/fhir/StructureDefinition/Condition" codeProperty="code" codeComparator="~" xsi:type="Retrieve">
               <codes localId="1066" xsi:type="ToList">
                  <operand localId="1057" locator="360:44-360:59" name="LYNCH SYNDROME" xsi:type="CodeRef"/>
               </codes>
            </operand>
         </expression>
      </def>
      <def localId="1073" locator="362:1-363:50" name="FamilialAdenomatousPolyposisConditions" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1073">
               <a:s>define FamilialAdenomatousPolyposisConditions:
  </a:s>
               <a:s r="1084">
                  <a:s r="1074">
                     <a:s>Common</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="1084">
                     <a:s>ValidCondition(</a:s>
                     <a:s r="1077">
                        <a:s>[Condition: </a:s>
                        <a:s>
                           <a:s>code</a:s>
                        </a:s>
                        <a:s> ~ </a:s>
                        <a:s>
                           <a:s>&quot;FAP&quot;</a:s>
                        </a:s>
                        <a:s>]</a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1084" locator="363:3-363:50" name="ValidCondition" libraryName="Common" xsi:type="FunctionRef">
            <operand localId="1077" locator="363:25-363:49" dataType="fhir:Condition" templateId="http://hl7.org/fhir/StructureDefinition/Condition" codeProperty="code" codeComparator="~" xsi:type="Retrieve">
               <codes localId="1083" path="codes" xsi:type="Property">
                  <source localId="1076" locator="363:44-363:48" name="FAP" xsi:type="ConceptRef"/>
               </codes>
            </operand>
         </expression>
      </def>
      <def localId="1090" locator="365:1-366:51" name="AttenuatedFamilialAdenomatousPolyposisConditions" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1090">
               <a:s>define AttenuatedFamilialAdenomatousPolyposisConditions:
  </a:s>
               <a:s r="1101">
                  <a:s r="1091">
                     <a:s>Common</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="1101">
                     <a:s>ValidCondition(</a:s>
                     <a:s r="1094">
                        <a:s>[Condition: </a:s>
                        <a:s>
                           <a:s>code</a:s>
                        </a:s>
                        <a:s> ~ </a:s>
                        <a:s>
                           <a:s>&quot;AFAP&quot;</a:s>
                        </a:s>
                        <a:s>]</a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1101" locator="366:3-366:51" name="ValidCondition" libraryName="Common" xsi:type="FunctionRef">
            <operand localId="1094" locator="366:25-366:50" dataType="fhir:Condition" templateId="http://hl7.org/fhir/StructureDefinition/Condition" codeProperty="code" codeComparator="~" xsi:type="Retrieve">
               <codes localId="1100" path="codes" xsi:type="Property">
                  <source localId="1093" locator="366:44-366:49" name="AFAP" xsi:type="ConceptRef"/>
               </codes>
            </operand>
         </expression>
      </def>
      <def localId="1107" locator="368:1-369:82" name="MUTYHAssociatedPolyposisConditions" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1107">
               <a:s>define MUTYHAssociatedPolyposisConditions:
  </a:s>
               <a:s r="1120">
                  <a:s r="1108">
                     <a:s>Common</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="1120">
                     <a:s>ValidCondition(</a:s>
                     <a:s r="1111">
                        <a:s>[Condition: </a:s>
                        <a:s>
                           <a:s>code</a:s>
                        </a:s>
                        <a:s> ~ </a:s>
                        <a:s>
                           <a:s>&quot;MUTYH-ASSOCIATED POLYPOSIS SYNDROME&quot;</a:s>
                        </a:s>
                        <a:s>]</a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1120" locator="369:3-369:82" name="ValidCondition" libraryName="Common" xsi:type="FunctionRef">
            <operand localId="1111" locator="369:25-369:81" dataType="fhir:Condition" templateId="http://hl7.org/fhir/StructureDefinition/Condition" codeProperty="code" codeComparator="~" xsi:type="Retrieve">
               <codes localId="1119" xsi:type="ToList">
                  <operand localId="1110" locator="369:44-369:80" name="MUTYH-ASSOCIATED POLYPOSIS SYNDROME" xsi:type="CodeRef"/>
               </codes>
            </operand>
         </expression>
      </def>
      <def localId="1126" locator="371:1-372:74" name="SerratedPolyposisConditions" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1126">
               <a:s>define SerratedPolyposisConditions:
  </a:s>
               <a:s r="1139">
                  <a:s r="1127">
                     <a:s>Common</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="1139">
                     <a:s>ValidCondition(</a:s>
                     <a:s r="1130">
                        <a:s>[Condition: </a:s>
                        <a:s>
                           <a:s>code</a:s>
                        </a:s>
                        <a:s> ~ </a:s>
                        <a:s>
                           <a:s>&quot;SERRATED POLYPOSIS SYNDROME&quot;</a:s>
                        </a:s>
                        <a:s>]</a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1139" locator="372:3-372:74" name="ValidCondition" libraryName="Common" xsi:type="FunctionRef">
            <operand localId="1130" locator="372:25-372:73" dataType="fhir:Condition" templateId="http://hl7.org/fhir/StructureDefinition/Condition" codeProperty="code" codeComparator="~" xsi:type="Retrieve">
               <codes localId="1138" xsi:type="ToList">
                  <operand localId="1129" locator="372:44-372:72" name="SERRATED POLYPOSIS SYNDROME" xsi:type="CodeRef"/>
               </codes>
            </operand>
         </expression>
      </def>
      <def localId="1145" locator="374:1-375:74" name="JuvenilePolyposisConditions" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1145">
               <a:s>define JuvenilePolyposisConditions:
  </a:s>
               <a:s r="1158">
                  <a:s r="1146">
                     <a:s>Common</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="1158">
                     <a:s>ValidCondition(</a:s>
                     <a:s r="1149">
                        <a:s>[Condition: </a:s>
                        <a:s>
                           <a:s>code</a:s>
                        </a:s>
                        <a:s> ~ </a:s>
                        <a:s>
                           <a:s>&quot;JUVENILE POLYPOSIS SYNDROME&quot;</a:s>
                        </a:s>
                        <a:s>]</a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1158" locator="375:3-375:74" name="ValidCondition" libraryName="Common" xsi:type="FunctionRef">
            <operand localId="1149" locator="375:25-375:73" dataType="fhir:Condition" templateId="http://hl7.org/fhir/StructureDefinition/Condition" codeProperty="code" codeComparator="~" xsi:type="Retrieve">
               <codes localId="1157" xsi:type="ToList">
                  <operand localId="1148" locator="375:44-375:72" name="JUVENILE POLYPOSIS SYNDROME" xsi:type="CodeRef"/>
               </codes>
            </operand>
         </expression>
      </def>
      <def localId="1164" locator="377:1-378:68" name="PeutzJegherSyndromeConditions" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1164">
               <a:s>define PeutzJegherSyndromeConditions:
  </a:s>
               <a:s r="1177">
                  <a:s r="1165">
                     <a:s>Common</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="1177">
                     <a:s>ValidCondition(</a:s>
                     <a:s r="1168">
                        <a:s>[Condition: </a:s>
                        <a:s>
                           <a:s>code</a:s>
                        </a:s>
                        <a:s> ~ </a:s>
                        <a:s>
                           <a:s>&quot;PEUTZ-JEGHER SYNDROME&quot;</a:s>
                        </a:s>
                        <a:s>]</a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1177" locator="378:3-378:68" name="ValidCondition" libraryName="Common" xsi:type="FunctionRef">
            <operand localId="1168" locator="378:25-378:67" dataType="fhir:Condition" templateId="http://hl7.org/fhir/StructureDefinition/Condition" codeProperty="code" codeComparator="~" xsi:type="Retrieve">
               <codes localId="1176" xsi:type="ToList">
                  <operand localId="1167" locator="378:44-378:66" name="PEUTZ-JEGHER SYNDROME" xsi:type="CodeRef"/>
               </codes>
            </operand>
         </expression>
      </def>
      <def localId="1183" locator="380:1-381:62" name="CowdenSyndromeConditions" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1183">
               <a:s>define CowdenSyndromeConditions:
  </a:s>
               <a:s r="1196">
                  <a:s r="1184">
                     <a:s>Common</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="1196">
                     <a:s>ValidCondition(</a:s>
                     <a:s r="1187">
                        <a:s>[Condition: </a:s>
                        <a:s>
                           <a:s>code</a:s>
                        </a:s>
                        <a:s> ~ </a:s>
                        <a:s>
                           <a:s>&quot;COWDEN SYNDROME&quot;</a:s>
                        </a:s>
                        <a:s>]</a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1196" locator="381:3-381:62" name="ValidCondition" libraryName="Common" xsi:type="FunctionRef">
            <operand localId="1187" locator="381:25-381:61" dataType="fhir:Condition" templateId="http://hl7.org/fhir/StructureDefinition/Condition" codeProperty="code" codeComparator="~" xsi:type="Retrieve">
               <codes localId="1195" xsi:type="ToList">
                  <operand localId="1186" locator="381:44-381:60" name="COWDEN SYNDROME" xsi:type="CodeRef"/>
               </codes>
            </operand>
         </expression>
      </def>
      <def localId="1044" locator="353:1-357:35" name="de-personalHxHereditarySyndrome" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1044">
               <a:s>//define &quot;de-hospice&quot;:
  // TODO: Implement logic for de-hospice

//define &quot;de-palliative&quot;:
  // TODO: Implement logic for de-palliative

//define &quot;de-snpltc&quot;:
  // TODO: Implement logic for de-snpltc

//define &quot;de-frailtydementiamed&quot;:
  // TODO: Implement logic for de-frailtydementiamed

//define &quot;de-frailtyadvillness&quot;:
  // TODO: Implement logic for de-frailtyadvillness

//------------------------------------------------------------------------------
// Personal or family history of hereditary syndrome
//------------------------------------------------------------------------------
define &quot;de-personalHxHereditarySyndrome&quot;:
  </a:s>
               <a:s r="1045">
                  <a:s r="1046">
                     <a:s r="1047">
                        <a:s r="1048">
                           <a:s r="1049">
                              <a:s r="1050">
                                 <a:s r="1051">
                                    <a:s r="1052">
                                       <a:s>exists </a:s>
                                       <a:s r="1068">
                                          <a:s>LynchSyndromeConditions</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> or </a:s>
                                    <a:s r="1071">
                                       <a:s>exists </a:s>
                                       <a:s r="1085">
                                          <a:s>FamilialAdenomatousPolyposisConditions</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> or
    </a:s>
                                 <a:s r="1088">
                                    <a:s>exists </a:s>
                                    <a:s r="1102">
                                       <a:s>AttenuatedFamilialAdenomatousPolyposisConditions</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s> or </a:s>
                              <a:s r="1105">
                                 <a:s>exists </a:s>
                                 <a:s r="1121">
                                    <a:s>MUTYHAssociatedPolyposisConditions</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s> or
    </a:s>
                           <a:s r="1124">
                              <a:s>exists </a:s>
                              <a:s r="1140">
                                 <a:s>SerratedPolyposisConditions</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s> or </a:s>
                        <a:s r="1143">
                           <a:s>exists </a:s>
                           <a:s r="1159">
                              <a:s>JuvenilePolyposisConditions</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s> or </a:s>
                     <a:s r="1162">
                        <a:s>exists </a:s>
                        <a:s r="1178">
                           <a:s>PeutzJegherSyndromeConditions</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s> or
    </a:s>
                  <a:s r="1181">
                     <a:s>exists </a:s>
                     <a:s r="1197">
                        <a:s>CowdenSyndromeConditions</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1045" locator="354:3-357:35" xsi:type="Or">
            <operand localId="1046" locator="354:3-356:116" xsi:type="Or">
               <operand localId="1047" locator="354:3-356:76" xsi:type="Or">
                  <operand localId="1048" locator="354:3-356:38" xsi:type="Or">
                     <operand localId="1049" locator="354:3-355:104" xsi:type="Or">
                        <operand localId="1050" locator="354:3-355:59" xsi:type="Or">
                           <operand localId="1051" locator="354:3-354:81" xsi:type="Or">
                              <operand localId="1052" locator="354:3-354:32" xsi:type="Exists">
                                 <signature localId="1069" xsi:type="ListTypeSpecifier">
                                    <elementType localId="1070" name="fhir:Condition" xsi:type="NamedTypeSpecifier"/>
                                 </signature>
                                 <operand localId="1068" locator="354:10-354:32" name="LynchSyndromeConditions" xsi:type="ExpressionRef"/>
                              </operand>
                              <operand localId="1071" locator="354:37-354:81" xsi:type="Exists">
                                 <signature localId="1086" xsi:type="ListTypeSpecifier">
                                    <elementType localId="1087" name="fhir:Condition" xsi:type="NamedTypeSpecifier"/>
                                 </signature>
                                 <operand localId="1085" locator="354:44-354:81" name="FamilialAdenomatousPolyposisConditions" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                           <operand localId="1088" locator="355:5-355:59" xsi:type="Exists">
                              <signature localId="1103" xsi:type="ListTypeSpecifier">
                                 <elementType localId="1104" name="fhir:Condition" xsi:type="NamedTypeSpecifier"/>
                              </signature>
                              <operand localId="1102" locator="355:12-355:59" name="AttenuatedFamilialAdenomatousPolyposisConditions" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                        <operand localId="1105" locator="355:64-355:104" xsi:type="Exists">
                           <signature localId="1122" xsi:type="ListTypeSpecifier">
                              <elementType localId="1123" name="fhir:Condition" xsi:type="NamedTypeSpecifier"/>
                           </signature>
                           <operand localId="1121" locator="355:71-355:104" name="MUTYHAssociatedPolyposisConditions" xsi:type="ExpressionRef"/>
                        </operand>
                     </operand>
                     <operand localId="1124" locator="356:5-356:38" xsi:type="Exists">
                        <signature localId="1141" xsi:type="ListTypeSpecifier">
                           <elementType localId="1142" name="fhir:Condition" xsi:type="NamedTypeSpecifier"/>
                        </signature>
                        <operand localId="1140" locator="356:12-356:38" name="SerratedPolyposisConditions" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
                  <operand localId="1143" locator="356:43-356:76" xsi:type="Exists">
                     <signature localId="1160" xsi:type="ListTypeSpecifier">
                        <elementType localId="1161" name="fhir:Condition" xsi:type="NamedTypeSpecifier"/>
                     </signature>
                     <operand localId="1159" locator="356:50-356:76" name="JuvenilePolyposisConditions" xsi:type="ExpressionRef"/>
                  </operand>
               </operand>
               <operand localId="1162" locator="356:81-356:116" xsi:type="Exists">
                  <signature localId="1179" xsi:type="ListTypeSpecifier">
                     <elementType localId="1180" name="fhir:Condition" xsi:type="NamedTypeSpecifier"/>
                  </signature>
                  <operand localId="1178" locator="356:88-356:116" name="PeutzJegherSyndromeConditions" xsi:type="ExpressionRef"/>
               </operand>
            </operand>
            <operand localId="1181" locator="357:5-357:35" xsi:type="Exists">
               <signature localId="1198" xsi:type="ListTypeSpecifier">
                  <elementType localId="1199" name="fhir:Condition" xsi:type="NamedTypeSpecifier"/>
               </signature>
               <operand localId="1197" locator="357:12-357:35" name="CowdenSyndromeConditions" xsi:type="ExpressionRef"/>
            </operand>
         </expression>
      </def>
      <def localId="1204" locator="386:1-390:15" name="RelativeSyndromeObservation" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1204">
               <a:s>define &quot;RelativeSyndromeObservation&quot;:
  </a:s>
               <a:s r="1226">
                  <a:s r="1224">
                     <a:s r="1205">
                        <a:s>C3F</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="1224">
                        <a:s>MostRecent(
      </a:s>
                        <a:s r="1223">
                           <a:s>
                              <a:s r="1206">
                                 <a:s r="1209">
                                    <a:s r="1209">
                                       <a:s>[Observation: </a:s>
                                       <a:s>
                                          <a:s>&quot;Relative with hereditary syndrome&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> R</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
        </a:s>
                           <a:s r="1220">
                              <a:s>where </a:s>
                              <a:s r="1220">
                                 <a:s r="1219">
                                    <a:s r="1218">
                                       <a:s>R</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="1219">
                                       <a:s>value</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> is true</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s> is not null</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1226" locator="387:3-390:15" xsi:type="Not">
            <operand localId="1225" locator="387:3-390:15" xsi:type="IsNull">
               <operand localId="1224" locator="387:3-390:3" name="MostRecent" libraryName="C3F" xsi:type="FunctionRef">
                  <operand localId="1223" locator="388:7-389:29" xsi:type="Query">
                     <source localId="1206" locator="388:7-388:58" alias="R">
                        <expression localId="1209" locator="388:7-388:56" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="~" xsi:type="Retrieve">
                           <codes localId="1217" xsi:type="ToList">
                              <operand localId="1208" locator="388:21-388:55" name="Relative with hereditary syndrome" xsi:type="CodeRef"/>
                           </codes>
                        </expression>
                     </source>
                     <where localId="1220" locator="389:9-389:29" xsi:type="IsTrue">
                        <operand localId="1222" name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="1221" asType="fhir:boolean" xsi:type="As">
                              <operand localId="1219" locator="389:15-389:21" path="value" scope="R" xsi:type="Property"/>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </operand>
            </operand>
         </expression>
      </def>
      <def localId="1230" locator="392:1-401:9" name="RelativeWithSyndrome" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1230">
               <a:s>define &quot;RelativeWithSyndrome&quot;:
  </a:s>
               <a:s r="1332">
                  <a:s>
                     <a:s r="1231">
                        <a:s r="1232">
                           <a:s r="1232">
                              <a:s>[FamilyMemberHistory]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> F</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="1233">
                     <a:s>where 
        </a:s>
                     <a:s r="1233">
                        <a:s>exists </a:s>
                        <a:s r="1329">
                           <a:s>(</a:s>
                           <a:s r="1329">
                              <a:s>
                                 <a:s r="1234">
                                    <a:s r="1236">
                                       <a:s>
                                          <a:s>F.condition</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> C</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
          </a:s>
                              <a:s r="1237">
                                 <a:s>where 
          </a:s>
                                 <a:s r="1237">
                                    <a:s r="1238">
                                       <a:s r="1239">
                                          <a:s r="1240">
                                             <a:s r="1241">
                                                <a:s r="1242">
                                                   <a:s r="1243">
                                                      <a:s r="1244">
                                                         <a:s r="1245">
                                                            <a:s r="1247">
                                                               <a:s r="1246">
                                                                  <a:s>C</a:s>
                                                               </a:s>
                                                               <a:s>.</a:s>
                                                               <a:s r="1247">
                                                                  <a:s>code</a:s>
                                                               </a:s>
                                                            </a:s>
                                                            <a:s> ~ </a:s>
                                                            <a:s r="1248">
                                                               <a:s>&quot;LYNCH SYNDROME&quot;</a:s>
                                                            </a:s>
                                                         </a:s>
                                                         <a:s> or </a:s>
                                                         <a:s r="1255">
                                                            <a:s r="1257">
                                                               <a:s r="1256">
                                                                  <a:s>C</a:s>
                                                               </a:s>
                                                               <a:s>.</a:s>
                                                               <a:s r="1257">
                                                                  <a:s>code</a:s>
                                                               </a:s>
                                                            </a:s>
                                                            <a:s> ~ </a:s>
                                                            <a:s r="1258">
                                                               <a:s>&quot;FAP&quot;</a:s>
                                                            </a:s>
                                                         </a:s>
                                                      </a:s>
                                                      <a:s> or
          </a:s>
                                                      <a:s r="1262">
                                                         <a:s r="1264">
                                                            <a:s r="1263">
                                                               <a:s>C</a:s>
                                                            </a:s>
                                                            <a:s>.</a:s>
                                                            <a:s r="1264">
                                                               <a:s>code</a:s>
                                                            </a:s>
                                                         </a:s>
                                                         <a:s> ~ </a:s>
                                                         <a:s r="1265">
                                                            <a:s>&quot;AFAP&quot;</a:s>
                                                         </a:s>
                                                      </a:s>
                                                   </a:s>
                                                   <a:s> or </a:s>
                                                   <a:s r="1269">
                                                      <a:s r="1271">
                                                         <a:s r="1270">
                                                            <a:s>C</a:s>
                                                         </a:s>
                                                         <a:s>.</a:s>
                                                         <a:s r="1271">
                                                            <a:s>code</a:s>
                                                         </a:s>
                                                      </a:s>
                                                      <a:s> ~ </a:s>
                                                      <a:s r="1272">
                                                         <a:s>&quot;MUTYH-ASSOCIATED POLYPOSIS SYNDROME&quot;</a:s>
                                                      </a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s> or 
          </a:s>
                                                <a:s r="1279">
                                                   <a:s r="1281">
                                                      <a:s r="1280">
                                                         <a:s>C</a:s>
                                                      </a:s>
                                                      <a:s>.</a:s>
                                                      <a:s r="1281">
                                                         <a:s>code</a:s>
                                                      </a:s>
                                                   </a:s>
                                                   <a:s> ~ </a:s>
                                                   <a:s r="1282">
                                                      <a:s>&quot;SERRATED POLYPOSIS SYNDROME&quot;</a:s>
                                                   </a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s> or </a:s>
                                             <a:s r="1289">
                                                <a:s r="1291">
                                                   <a:s r="1290">
                                                      <a:s>C</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="1291">
                                                      <a:s>code</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s> ~ </a:s>
                                                <a:s r="1292">
                                                   <a:s>&quot;JUVENILE POLYPOSIS SYNDROME&quot;</a:s>
                                                </a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> or
          </a:s>
                                          <a:s r="1299">
                                             <a:s r="1301">
                                                <a:s r="1300">
                                                   <a:s>C</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="1301">
                                                   <a:s>code</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s> ~ </a:s>
                                             <a:s r="1302">
                                                <a:s>&quot;PEUTZ-JEGHER SYNDROME&quot;</a:s>
                                             </a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> or </a:s>
                                       <a:s r="1309">
                                          <a:s r="1311">
                                             <a:s r="1310">
                                                <a:s>C</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="1311">
                                                <a:s>code</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> ~ </a:s>
                                          <a:s r="1312">
                                             <a:s>&quot;COWDEN SYNDROME&quot;</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> or </a:s>
                                    <a:s r="1319">
                                       <a:s r="1321">
                                          <a:s r="1320">
                                             <a:s>C</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="1321">
                                             <a:s>code</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> ~ </a:s>
                                       <a:s r="1322">
                                          <a:s>&quot;FAMILIAL COLORECTAL CANCER TYPE X&quot;</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
        )</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1332" locator="393:3-401:9" xsi:type="Query">
            <source localId="1231" locator="393:3-393:25" alias="F">
               <expression localId="1232" locator="393:3-393:23" dataType="fhir:FamilyMemberHistory" templateId="http://hl7.org/fhir/StructureDefinition/FamilyMemberHistory" xsi:type="Retrieve"/>
            </source>
            <where localId="1233" locator="394:5-401:9" xsi:type="Exists">
               <signature localId="1330" xsi:type="ListTypeSpecifier">
                  <elementType localId="1331" name="fhir:FamilyMemberHistory.Condition" xsi:type="NamedTypeSpecifier"/>
               </signature>
               <operand localId="1329" locator="395:16-401:9" xsi:type="Query">
                  <source localId="1234" locator="395:17-395:29" alias="C">
                     <expression localId="1236" locator="395:17-395:27" path="condition" scope="F" xsi:type="Property"/>
                  </source>
                  <where localId="1237" locator="396:11-400:120" xsi:type="Or">
                     <operand localId="1238" locator="397:11-400:72" xsi:type="Or">
                        <operand localId="1239" locator="397:11-400:42" xsi:type="Or">
                           <operand localId="1240" locator="397:11-399:90" xsi:type="Or">
                              <operand localId="1241" locator="397:11-399:48" xsi:type="Or">
                                 <operand localId="1242" locator="397:11-398:75" xsi:type="Or">
                                    <operand localId="1243" locator="397:11-398:25" xsi:type="Or">
                                       <operand localId="1244" locator="397:11-397:53" xsi:type="Or">
                                          <operand localId="1245" locator="397:11-397:35" xsi:type="Equivalent">
                                             <signature localId="1253" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                                             <signature localId="1254" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                                             <operand localId="1249" name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                <operand localId="1247" locator="397:11-397:16" path="code" scope="C" xsi:type="Property"/>
                                             </operand>
                                             <operand localId="1251" xsi:type="ToConcept">
                                                <signature localId="1252" name="t:Code" xsi:type="NamedTypeSpecifier"/>
                                                <operand localId="1248" locator="397:20-397:35" name="LYNCH SYNDROME" xsi:type="CodeRef"/>
                                             </operand>
                                          </operand>
                                          <operand localId="1255" locator="397:40-397:53" xsi:type="Equivalent">
                                             <signature localId="1260" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                                             <signature localId="1261" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                                             <operand localId="1259" name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                <operand localId="1257" locator="397:40-397:45" path="code" scope="C" xsi:type="Property"/>
                                             </operand>
                                             <operand localId="1258" locator="397:49-397:53" name="FAP" xsi:type="ConceptRef"/>
                                          </operand>
                                       </operand>
                                       <operand localId="1262" locator="398:11-398:25" xsi:type="Equivalent">
                                          <signature localId="1267" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                                          <signature localId="1268" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                                          <operand localId="1266" name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                             <operand localId="1264" locator="398:11-398:16" path="code" scope="C" xsi:type="Property"/>
                                          </operand>
                                          <operand localId="1265" locator="398:20-398:25" name="AFAP" xsi:type="ConceptRef"/>
                                       </operand>
                                    </operand>
                                    <operand localId="1269" locator="398:30-398:75" xsi:type="Equivalent">
                                       <signature localId="1277" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                                       <signature localId="1278" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                                       <operand localId="1273" name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                          <operand localId="1271" locator="398:30-398:35" path="code" scope="C" xsi:type="Property"/>
                                       </operand>
                                       <operand localId="1275" xsi:type="ToConcept">
                                          <signature localId="1276" name="t:Code" xsi:type="NamedTypeSpecifier"/>
                                          <operand localId="1272" locator="398:39-398:75" name="MUTYH-ASSOCIATED POLYPOSIS SYNDROME" xsi:type="CodeRef"/>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="1279" locator="399:11-399:48" xsi:type="Equivalent">
                                    <signature localId="1287" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                                    <signature localId="1288" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                                    <operand localId="1283" name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                       <operand localId="1281" locator="399:11-399:16" path="code" scope="C" xsi:type="Property"/>
                                    </operand>
                                    <operand localId="1285" xsi:type="ToConcept">
                                       <signature localId="1286" name="t:Code" xsi:type="NamedTypeSpecifier"/>
                                       <operand localId="1282" locator="399:20-399:48" name="SERRATED POLYPOSIS SYNDROME" xsi:type="CodeRef"/>
                                    </operand>
                                 </operand>
                              </operand>
                              <operand localId="1289" locator="399:53-399:90" xsi:type="Equivalent">
                                 <signature localId="1297" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                                 <signature localId="1298" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                                 <operand localId="1293" name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="1291" locator="399:53-399:58" path="code" scope="C" xsi:type="Property"/>
                                 </operand>
                                 <operand localId="1295" xsi:type="ToConcept">
                                    <signature localId="1296" name="t:Code" xsi:type="NamedTypeSpecifier"/>
                                    <operand localId="1292" locator="399:62-399:90" name="JUVENILE POLYPOSIS SYNDROME" xsi:type="CodeRef"/>
                                 </operand>
                              </operand>
                           </operand>
                           <operand localId="1299" locator="400:11-400:42" xsi:type="Equivalent">
                              <signature localId="1307" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                              <signature localId="1308" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                              <operand localId="1303" name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="1301" locator="400:11-400:16" path="code" scope="C" xsi:type="Property"/>
                              </operand>
                              <operand localId="1305" xsi:type="ToConcept">
                                 <signature localId="1306" name="t:Code" xsi:type="NamedTypeSpecifier"/>
                                 <operand localId="1302" locator="400:20-400:42" name="PEUTZ-JEGHER SYNDROME" xsi:type="CodeRef"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="1309" locator="400:47-400:72" xsi:type="Equivalent">
                           <signature localId="1317" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                           <signature localId="1318" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                           <operand localId="1313" name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="1311" locator="400:47-400:52" path="code" scope="C" xsi:type="Property"/>
                           </operand>
                           <operand localId="1315" xsi:type="ToConcept">
                              <signature localId="1316" name="t:Code" xsi:type="NamedTypeSpecifier"/>
                              <operand localId="1312" locator="400:56-400:72" name="COWDEN SYNDROME" xsi:type="CodeRef"/>
                           </operand>
                        </operand>
                     </operand>
                     <operand localId="1319" locator="400:77-400:120" xsi:type="Equivalent">
                        <signature localId="1327" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                        <signature localId="1328" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                        <operand localId="1323" name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="1321" locator="400:77-400:82" path="code" scope="C" xsi:type="Property"/>
                        </operand>
                        <operand localId="1325" xsi:type="ToConcept">
                           <signature localId="1326" name="t:Code" xsi:type="NamedTypeSpecifier"/>
                           <operand localId="1322" locator="400:86-400:120" name="FAMILIAL COLORECTAL CANCER TYPE X" xsi:type="CodeRef"/>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="1201" locator="383:1-384:60" name="de-famHxSyndrome" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1201">
               <a:s>define &quot;de-famHxSyndrome&quot;:
  </a:s>
               <a:s r="1202">
                  <a:s r="1227">
                     <a:s>RelativeSyndromeObservation</a:s>
                  </a:s>
                  <a:s> or </a:s>
                  <a:s r="1228">
                     <a:s>exists </a:s>
                     <a:s r="1333">
                        <a:s>RelativeWithSyndrome</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1202" locator="384:3-384:60" xsi:type="Or">
            <operand localId="1227" locator="384:3-384:29" name="RelativeSyndromeObservation" xsi:type="ExpressionRef"/>
            <operand localId="1228" locator="384:34-384:60" xsi:type="Exists">
               <signature localId="1334" xsi:type="ListTypeSpecifier">
                  <elementType localId="1335" name="fhir:FamilyMemberHistory" xsi:type="NamedTypeSpecifier"/>
               </signature>
               <operand localId="1333" locator="384:41-384:60" name="RelativeWithSyndrome" xsi:type="ExpressionRef"/>
            </operand>
         </expression>
      </def>
      <def localId="1344" locator="420:1-421:58" name="UlcerativeColitisConditions" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1344">
               <a:s>define UlcerativeColitisConditions:
  </a:s>
               <a:s r="1352">
                  <a:s r="1345">
                     <a:s>Common</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="1352">
                     <a:s>ValidCondition(</a:s>
                     <a:s r="1348">
                        <a:s>[Condition: </a:s>
                        <a:s>
                           <a:s>&quot;ULCERATIVE COLITIS&quot;</a:s>
                        </a:s>
                        <a:s>]</a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1352" locator="421:3-421:58" name="ValidCondition" libraryName="Common" xsi:type="FunctionRef">
            <operand localId="1348" locator="421:25-421:57" dataType="fhir:Condition" templateId="http://hl7.org/fhir/StructureDefinition/Condition" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
               <codes localId="1347" locator="421:37-421:56" name="ULCERATIVE COLITIS" preserve="true" xsi:type="ValueSetRef"/>
            </operand>
         </expression>
      </def>
      <def localId="1340" locator="415:1-418:49" name="de-UlcerativeColitis" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1340">
               <a:s>define &quot;de-UlcerativeColitis&quot;:
  </a:s>
               <a:s r="1341">
                  <a:s>exists </a:s>
                  <a:s r="1369">
                     <a:s>
                        <a:s r="1342">
                           <a:s r="1353">
                              <a:s>
                                 <a:s>UlcerativeColitisConditions</a:s>
                              </a:s>
                           </a:s>
                           <a:s> C</a:s>
                        </a:s>
                     </a:s>
                     <a:s>
    </a:s>
                     <a:s r="1354">
                        <a:s>where </a:s>
                        <a:s r="1354">
                           <a:s r="1355">
                              <a:s r="1357">
                                 <a:s r="1356">
                                    <a:s>C</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="1357">
                                    <a:s>clinicalStatus</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> ~ </a:s>
                              <a:s r="1358">
                                 <a:s>&quot;Condition Active&quot;</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
      or </a:s>
                           <a:s r="1362">
                              <a:s r="1364">
                                 <a:s r="1363">
                                    <a:s>C</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="1364">
                                    <a:s>clinicalStatus</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> ~ </a:s>
                              <a:s r="1365">
                                 <a:s>&quot;Condition remission&quot;</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1341" locator="416:3-418:49" xsi:type="Exists">
            <signature localId="1370" xsi:type="ListTypeSpecifier">
               <elementType localId="1371" name="fhir:Condition" xsi:type="NamedTypeSpecifier"/>
            </signature>
            <operand localId="1369" locator="416:10-418:49" xsi:type="Query">
               <source localId="1342" locator="416:10-416:38" alias="C">
                  <expression localId="1353" locator="416:10-416:36" name="UlcerativeColitisConditions" xsi:type="ExpressionRef"/>
               </source>
               <where localId="1354" locator="417:5-418:49" xsi:type="Or">
                  <operand localId="1355" locator="417:11-417:47" xsi:type="Equivalent">
                     <signature localId="1360" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                     <signature localId="1361" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                     <operand localId="1359" name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="1357" locator="417:11-417:26" path="clinicalStatus" scope="C" xsi:type="Property"/>
                     </operand>
                     <operand localId="1358" locator="417:30-417:47" name="Condition Active" xsi:type="ConceptRef"/>
                  </operand>
                  <operand localId="1362" locator="418:10-418:49" xsi:type="Equivalent">
                     <signature localId="1367" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                     <signature localId="1368" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                     <operand localId="1366" name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="1364" locator="418:10-418:25" path="clinicalStatus" scope="C" xsi:type="Property"/>
                     </operand>
                     <operand localId="1365" locator="418:29-418:49" name="Condition remission" xsi:type="ConceptRef"/>
                  </operand>
               </where>
            </operand>
         </expression>
      </def>
      <def localId="1378" locator="428:1-429:54" name="CrohnsDiseaseConditions" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1378">
               <a:s>define CrohnsDiseaseConditions:
  </a:s>
               <a:s r="1386">
                  <a:s r="1379">
                     <a:s>Common</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="1386">
                     <a:s>ValidCondition(</a:s>
                     <a:s r="1382">
                        <a:s>[Condition: </a:s>
                        <a:s>
                           <a:s>&quot;CROHNS DISEASE&quot;</a:s>
                        </a:s>
                        <a:s>]</a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1386" locator="429:3-429:54" name="ValidCondition" libraryName="Common" xsi:type="FunctionRef">
            <operand localId="1382" locator="429:25-429:53" dataType="fhir:Condition" templateId="http://hl7.org/fhir/StructureDefinition/Condition" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
               <codes localId="1381" locator="429:37-429:52" name="CROHNS DISEASE" preserve="true" xsi:type="ValueSetRef"/>
            </operand>
         </expression>
      </def>
      <def localId="1374" locator="423:1-426:49" name="de-CrohnsDisease" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1374">
               <a:s>define &quot;de-CrohnsDisease&quot;:
  </a:s>
               <a:s r="1375">
                  <a:s>exists </a:s>
                  <a:s r="1403">
                     <a:s>
                        <a:s r="1376">
                           <a:s r="1387">
                              <a:s>
                                 <a:s>CrohnsDiseaseConditions</a:s>
                              </a:s>
                           </a:s>
                           <a:s> C</a:s>
                        </a:s>
                     </a:s>
                     <a:s>
    </a:s>
                     <a:s r="1388">
                        <a:s>where </a:s>
                        <a:s r="1388">
                           <a:s r="1389">
                              <a:s r="1391">
                                 <a:s r="1390">
                                    <a:s>C</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="1391">
                                    <a:s>clinicalStatus</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> ~ </a:s>
                              <a:s r="1392">
                                 <a:s>&quot;Condition Active&quot;</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
      or </a:s>
                           <a:s r="1396">
                              <a:s r="1398">
                                 <a:s r="1397">
                                    <a:s>C</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="1398">
                                    <a:s>clinicalStatus</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> ~ </a:s>
                              <a:s r="1399">
                                 <a:s>&quot;Condition remission&quot;</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1375" locator="424:3-426:49" xsi:type="Exists">
            <signature localId="1404" xsi:type="ListTypeSpecifier">
               <elementType localId="1405" name="fhir:Condition" xsi:type="NamedTypeSpecifier"/>
            </signature>
            <operand localId="1403" locator="424:10-426:49" xsi:type="Query">
               <source localId="1376" locator="424:10-424:34" alias="C">
                  <expression localId="1387" locator="424:10-424:32" name="CrohnsDiseaseConditions" xsi:type="ExpressionRef"/>
               </source>
               <where localId="1388" locator="425:5-426:49" xsi:type="Or">
                  <operand localId="1389" locator="425:11-425:47" xsi:type="Equivalent">
                     <signature localId="1394" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                     <signature localId="1395" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                     <operand localId="1393" name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="1391" locator="425:11-425:26" path="clinicalStatus" scope="C" xsi:type="Property"/>
                     </operand>
                     <operand localId="1392" locator="425:30-425:47" name="Condition Active" xsi:type="ConceptRef"/>
                  </operand>
                  <operand localId="1396" locator="426:10-426:49" xsi:type="Equivalent">
                     <signature localId="1401" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                     <signature localId="1402" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                     <operand localId="1400" name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="1398" locator="426:10-426:25" path="clinicalStatus" scope="C" xsi:type="Property"/>
                     </operand>
                     <operand localId="1399" locator="426:29-426:49" name="Condition remission" xsi:type="ConceptRef"/>
                  </operand>
               </where>
            </operand>
         </expression>
      </def>
      <def localId="1337" locator="412:1-413:46" name="de-IBD" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1337">
               <a:s>//define &quot;de-SyndromeGeneticMarker&quot;:
//TODO: define genetic marker

//define &quot;de-famHxGeneticMarkerSyndrome&quot;:
//TODO: define genetic marker

//------------------------------------------------------------------------------
// Personal history of IBD
//------------------------------------------------------------------------------
define &quot;de-IBD&quot;:
  </a:s>
               <a:s r="1338">
                  <a:s r="1372">
                     <a:s>&quot;de-UlcerativeColitis&quot;</a:s>
                  </a:s>
                  <a:s> or </a:s>
                  <a:s r="1406">
                     <a:s>&quot;de-CrohnsDisease&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1338" locator="413:3-413:46" xsi:type="Or">
            <operand localId="1372" locator="413:3-413:24" name="de-UlcerativeColitis" xsi:type="ExpressionRef"/>
            <operand localId="1406" locator="413:29-413:46" name="de-CrohnsDisease" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def localId="1415" locator="442:1-443:57" name="ColorectalCancerConditions" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1415">
               <a:s>define ColorectalCancerConditions:
  </a:s>
               <a:s r="1423">
                  <a:s r="1416">
                     <a:s>Common</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="1423">
                     <a:s>ValidCondition(</a:s>
                     <a:s r="1419">
                        <a:s>[Condition: </a:s>
                        <a:s>
                           <a:s>&quot;COLORECTAL CANCER&quot;</a:s>
                        </a:s>
                        <a:s>]</a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1423" locator="443:3-443:57" name="ValidCondition" libraryName="Common" xsi:type="FunctionRef">
            <operand localId="1419" locator="443:25-443:56" dataType="fhir:Condition" templateId="http://hl7.org/fhir/StructureDefinition/Condition" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
               <codes localId="1418" locator="443:37-443:55" name="COLORECTAL CANCER" preserve="true" xsi:type="ValueSetRef"/>
            </operand>
         </expression>
      </def>
      <def localId="1411" locator="437:1-440:49" name="InactiveOrRemissionColorectalCancerConditions" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1411">
               <a:s>define InactiveOrRemissionColorectalCancerConditions:
  </a:s>
               <a:s r="1412">
                  <a:s>exists </a:s>
                  <a:s r="1440">
                     <a:s>
                        <a:s r="1413">
                           <a:s r="1424">
                              <a:s>
                                 <a:s>ColorectalCancerConditions</a:s>
                              </a:s>
                           </a:s>
                           <a:s> C</a:s>
                        </a:s>
                     </a:s>
                     <a:s>
    </a:s>
                     <a:s r="1425">
                        <a:s>where </a:s>
                        <a:s r="1425">
                           <a:s r="1426">
                              <a:s r="1428">
                                 <a:s r="1427">
                                    <a:s>C</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="1428">
                                    <a:s>clinicalStatus</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> ~ </a:s>
                              <a:s r="1429">
                                 <a:s>&quot;Condition inactive&quot;</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
      or </a:s>
                           <a:s r="1433">
                              <a:s r="1435">
                                 <a:s r="1434">
                                    <a:s>C</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="1435">
                                    <a:s>clinicalStatus</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> ~ </a:s>
                              <a:s r="1436">
                                 <a:s>&quot;Condition remission&quot;</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1412" locator="438:3-440:49" xsi:type="Exists">
            <signature localId="1441" xsi:type="ListTypeSpecifier">
               <elementType localId="1442" name="fhir:Condition" xsi:type="NamedTypeSpecifier"/>
            </signature>
            <operand localId="1440" locator="438:10-440:49" xsi:type="Query">
               <source localId="1413" locator="438:10-438:37" alias="C">
                  <expression localId="1424" locator="438:10-438:35" name="ColorectalCancerConditions" xsi:type="ExpressionRef"/>
               </source>
               <where localId="1425" locator="439:5-440:49" xsi:type="Or">
                  <operand localId="1426" locator="439:11-439:49" xsi:type="Equivalent">
                     <signature localId="1431" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                     <signature localId="1432" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                     <operand localId="1430" name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="1428" locator="439:11-439:26" path="clinicalStatus" scope="C" xsi:type="Property"/>
                     </operand>
                     <operand localId="1429" locator="439:30-439:49" name="Condition inactive" xsi:type="ConceptRef"/>
                  </operand>
                  <operand localId="1433" locator="440:10-440:49" xsi:type="Equivalent">
                     <signature localId="1438" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                     <signature localId="1439" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                     <operand localId="1437" name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="1435" locator="440:10-440:25" path="clinicalStatus" scope="C" xsi:type="Property"/>
                     </operand>
                     <operand localId="1436" locator="440:29-440:49" name="Condition remission" xsi:type="ConceptRef"/>
                  </operand>
               </where>
            </operand>
         </expression>
      </def>
      <def localId="1446" locator="445:1-446:68" name="HistoryOfColorectalCancerConditions" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1446">
               <a:s>define HistoryOfColorectalCancerConditions:
  </a:s>
               <a:s r="1459">
                  <a:s r="1447">
                     <a:s>Common</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="1459">
                     <a:s>ValidCondition(</a:s>
                     <a:s r="1450">
                        <a:s>[Condition: </a:s>
                        <a:s>
                           <a:s>&quot;HISTORY OF COLORECTAL CANCER&quot;</a:s>
                        </a:s>
                        <a:s>]</a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1459" locator="446:3-446:68" name="ValidCondition" libraryName="Common" xsi:type="FunctionRef">
            <operand localId="1450" locator="446:25-446:67" dataType="fhir:Condition" templateId="http://hl7.org/fhir/StructureDefinition/Condition" codeProperty="code" codeComparator="~" xsi:type="Retrieve">
               <codes localId="1458" xsi:type="ToList">
                  <operand localId="1449" locator="446:37-446:66" name="HISTORY OF COLORECTAL CANCER" xsi:type="CodeRef"/>
               </codes>
            </operand>
         </expression>
      </def>
      <def localId="1408" locator="434:1-435:93" name="de-HxCRC" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1408">
               <a:s>//------------------------------------------------------------------------------
// Personal history of colorectal cancer
//------------------------------------------------------------------------------
define &quot;de-HxCRC&quot;:
  </a:s>
               <a:s r="1409">
                  <a:s r="1443">
                     <a:s>InactiveOrRemissionColorectalCancerConditions</a:s>
                  </a:s>
                  <a:s> or </a:s>
                  <a:s r="1444">
                     <a:s>exists </a:s>
                     <a:s r="1460">
                        <a:s>HistoryOfColorectalCancerConditions</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1409" locator="435:3-435:93" xsi:type="Or">
            <operand localId="1443" locator="435:3-435:47" name="InactiveOrRemissionColorectalCancerConditions" xsi:type="ExpressionRef"/>
            <operand localId="1444" locator="435:52-435:93" xsi:type="Exists">
               <signature localId="1461" xsi:type="ListTypeSpecifier">
                  <elementType localId="1462" name="fhir:Condition" xsi:type="NamedTypeSpecifier"/>
               </signature>
               <operand localId="1460" locator="435:59-435:93" name="HistoryOfColorectalCancerConditions" xsi:type="ExpressionRef"/>
            </operand>
         </expression>
      </def>
      <def localId="1469" locator="455:1-456:75" name="FamilyHxCRCConditions" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1469">
               <a:s>define FamilyHxCRCConditions:
  </a:s>
               <a:s r="1482">
                  <a:s r="1470">
                     <a:s>Common</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="1482">
                     <a:s>ValidCondition(</a:s>
                     <a:s r="1473">
                        <a:s>[Condition: </a:s>
                        <a:s>
                           <a:s>&quot;FAMILY HISTORY OF COLORECTAL CANCER&quot;</a:s>
                        </a:s>
                        <a:s>]</a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1482" locator="456:3-456:75" name="ValidCondition" libraryName="Common" xsi:type="FunctionRef">
            <operand localId="1473" locator="456:25-456:74" dataType="fhir:Condition" templateId="http://hl7.org/fhir/StructureDefinition/Condition" codeProperty="code" codeComparator="~" xsi:type="Retrieve">
               <codes localId="1481" xsi:type="ToList">
                  <operand localId="1472" locator="456:37-456:73" name="FAMILY HISTORY OF COLORECTAL CANCER" xsi:type="CodeRef"/>
               </codes>
            </operand>
         </expression>
      </def>
      <def localId="1488" locator="458:1-468:5" name="FamilyHxDiagnosisOfCRC" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1488">
               <a:s>define FamilyHxDiagnosisOfCRC:
  </a:s>
               <a:s r="1510">
                  <a:s>
                     <a:s r="1489">
                        <a:s r="1490">
                           <a:s r="1490">
                              <a:s>[FamilyMemberHistory]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> F</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s>
                     <a:s>let
      </a:s>
                     <a:s r="1491">
                        <a:s>CRCConditions: </a:s>
                        <a:s r="1501">
                           <a:s>
                              <a:s r="1492">
                                 <a:s r="1494">
                                    <a:s>
                                       <a:s>F.condition</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> C</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
        </a:s>
                           <a:s r="1498">
                              <a:s>where         
          </a:s>
                              <a:s r="1498">
                                 <a:s r="1496">
                                    <a:s r="1495">
                                       <a:s>C</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="1496">
                                       <a:s>code</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> in </a:s>
                                 <a:s r="1497">
                                    <a:s>&quot;COLORECTAL CANCER&quot;</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="1502">
                     <a:s>where </a:s>
                     <a:s r="1502">
                        <a:s>exists </a:s>
                        <a:s r="1503">
                           <a:s>CRCConditions</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="1506">
                     <a:s>return </a:s>
                     <a:s r="1507">
                        <a:s>{
      </a:s>
                        <a:s>
                           <a:s>familyMemberHistory: </a:s>
                           <a:s r="1508">
                              <a:s>F</a:s>
                           </a:s>
                        </a:s>
                        <a:s>,
      </a:s>
                        <a:s>
                           <a:s>conditions: </a:s>
                           <a:s r="1509">
                              <a:s>CRCConditions</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
    }</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1510" locator="459:3-468:5" xsi:type="Query">
            <source localId="1489" locator="459:3-459:25" alias="F">
               <expression localId="1490" locator="459:3-459:23" dataType="fhir:FamilyMemberHistory" templateId="http://hl7.org/fhir/StructureDefinition/FamilyMemberHistory" xsi:type="Retrieve"/>
            </source>
            <let localId="1491" locator="461:7-463:39" identifier="CRCConditions">
               <expression localId="1501" locator="461:22-463:39" xsi:type="Query">
                  <source localId="1492" locator="461:22-461:34" alias="C">
                     <expression localId="1494" locator="461:22-461:32" path="condition" scope="F" xsi:type="Property"/>
                  </source>
                  <where localId="1498" locator="462:9-463:39" xsi:type="InValueSet">
                     <signature localId="1500" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                     <code localId="1499" name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="1496" locator="463:11-463:16" path="code" scope="C" xsi:type="Property"/>
                     </code>
                     <valueset localId="1497" locator="463:21-463:39" name="COLORECTAL CANCER" preserve="true"/>
                  </where>
               </expression>
            </let>
            <where localId="1502" locator="464:5-464:30" xsi:type="Exists">
               <signature localId="1504" xsi:type="ListTypeSpecifier">
                  <elementType localId="1505" name="fhir:FamilyMemberHistory.Condition" xsi:type="NamedTypeSpecifier"/>
               </signature>
               <operand localId="1503" locator="464:18-464:30" name="CRCConditions" xsi:type="QueryLetRef"/>
            </where>
            <return localId="1506" locator="465:5-468:5">
               <expression localId="1507" locator="465:12-468:5" xsi:type="Tuple">
                  <element name="familyMemberHistory">
                     <value localId="1508" locator="466:28" name="F" xsi:type="AliasRef"/>
                  </element>
                  <element name="conditions">
                     <value localId="1509" locator="467:19-467:31" name="CRCConditions" xsi:type="QueryLetRef"/>
                  </element>
               </expression>
            </return>
         </expression>
      </def>
      <def localId="1521" locator="470:1-480:5" name="FamilyHxDiagnosisOfHistoryOfCRC" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1521">
               <a:s>define FamilyHxDiagnosisOfHistoryOfCRC:
  </a:s>
               <a:s r="1547">
                  <a:s>
                     <a:s r="1522">
                        <a:s r="1523">
                           <a:s r="1523">
                              <a:s>[FamilyMemberHistory]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> F</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s>
                     <a:s>let
      </a:s>
                     <a:s r="1524">
                        <a:s>CRCConditions: </a:s>
                        <a:s r="1538">
                           <a:s>
                              <a:s r="1525">
                                 <a:s r="1527">
                                    <a:s>
                                       <a:s>F.condition</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> C</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
        </a:s>
                           <a:s r="1528">
                              <a:s>where         
          </a:s>
                              <a:s r="1528">
                                 <a:s r="1530">
                                    <a:s r="1529">
                                       <a:s>C</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="1530">
                                       <a:s>code</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> ~ </a:s>
                                 <a:s r="1531">
                                    <a:s>&quot;HISTORY OF COLORECTAL CANCER&quot;</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="1539">
                     <a:s>where </a:s>
                     <a:s r="1539">
                        <a:s>exists </a:s>
                        <a:s r="1540">
                           <a:s>CRCConditions</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="1543">
                     <a:s>return </a:s>
                     <a:s r="1544">
                        <a:s>{
      </a:s>
                        <a:s>
                           <a:s>familyMemberHistory: </a:s>
                           <a:s r="1545">
                              <a:s>F</a:s>
                           </a:s>
                        </a:s>
                        <a:s>,
      </a:s>
                        <a:s>
                           <a:s>conditions: </a:s>
                           <a:s r="1546">
                              <a:s>CRCConditions</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
    }</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1547" locator="471:3-480:5" xsi:type="Query">
            <source localId="1522" locator="471:3-471:25" alias="F">
               <expression localId="1523" locator="471:3-471:23" dataType="fhir:FamilyMemberHistory" templateId="http://hl7.org/fhir/StructureDefinition/FamilyMemberHistory" xsi:type="Retrieve"/>
            </source>
            <let localId="1524" locator="473:7-475:49" identifier="CRCConditions">
               <expression localId="1538" locator="473:22-475:49" xsi:type="Query">
                  <source localId="1525" locator="473:22-473:34" alias="C">
                     <expression localId="1527" locator="473:22-473:32" path="condition" scope="F" xsi:type="Property"/>
                  </source>
                  <where localId="1528" locator="474:9-475:49" xsi:type="Equivalent">
                     <signature localId="1536" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                     <signature localId="1537" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                     <operand localId="1532" name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="1530" locator="475:11-475:16" path="code" scope="C" xsi:type="Property"/>
                     </operand>
                     <operand localId="1534" xsi:type="ToConcept">
                        <signature localId="1535" name="t:Code" xsi:type="NamedTypeSpecifier"/>
                        <operand localId="1531" locator="475:20-475:49" name="HISTORY OF COLORECTAL CANCER" xsi:type="CodeRef"/>
                     </operand>
                  </where>
               </expression>
            </let>
            <where localId="1539" locator="476:5-476:30" xsi:type="Exists">
               <signature localId="1541" xsi:type="ListTypeSpecifier">
                  <elementType localId="1542" name="fhir:FamilyMemberHistory.Condition" xsi:type="NamedTypeSpecifier"/>
               </signature>
               <operand localId="1540" locator="476:18-476:30" name="CRCConditions" xsi:type="QueryLetRef"/>
            </where>
            <return localId="1543" locator="477:5-480:5">
               <expression localId="1544" locator="477:12-480:5" xsi:type="Tuple">
                  <element name="familyMemberHistory">
                     <value localId="1545" locator="478:28" name="F" xsi:type="AliasRef"/>
                  </element>
                  <element name="conditions">
                     <value localId="1546" locator="479:19-479:31" name="CRCConditions" xsi:type="QueryLetRef"/>
                  </element>
               </expression>
            </return>
         </expression>
      </def>
      <def localId="1464" locator="451:1-453:76" name="de-FamilyHxCRC" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1464">
               <a:s>//------------------------------------------------------------------------------
// Family history of colorectal cancer or advanced polyps
//------------------------------------------------------------------------------
define &quot;de-FamilyHxCRC&quot;:
  </a:s>
               <a:s r="1465">
                  <a:s r="1466">
                     <a:s r="1467">
                        <a:s>exists </a:s>
                        <a:s r="1483">
                           <a:s>FamilyHxCRCConditions</a:s>
                        </a:s>
                     </a:s>
                     <a:s> 
  or </a:s>
                     <a:s r="1486">
                        <a:s>exists </a:s>
                        <a:s r="1511">
                           <a:s>FamilyHxDiagnosisOfCRC</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s> or </a:s>
                  <a:s r="1519">
                     <a:s>exists </a:s>
                     <a:s r="1548">
                        <a:s>FamilyHxDiagnosisOfHistoryOfCRC</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1465" locator="452:3-453:76" xsi:type="Or">
            <operand localId="1466" locator="452:3-453:34" xsi:type="Or">
               <operand localId="1467" locator="452:3-452:30" xsi:type="Exists">
                  <signature localId="1484" xsi:type="ListTypeSpecifier">
                     <elementType localId="1485" name="fhir:Condition" xsi:type="NamedTypeSpecifier"/>
                  </signature>
                  <operand localId="1483" locator="452:10-452:30" name="FamilyHxCRCConditions" xsi:type="ExpressionRef"/>
               </operand>
               <operand localId="1486" locator="453:6-453:34" xsi:type="Exists">
                  <signature localId="1512" xsi:type="ListTypeSpecifier">
                     <elementType localId="1513" xsi:type="TupleTypeSpecifier">
                        <element localId="1514" name="familyMemberHistory">
                           <elementType localId="1515" name="fhir:FamilyMemberHistory" xsi:type="NamedTypeSpecifier"/>
                        </element>
                        <element localId="1516" name="conditions">
                           <elementType localId="1517" xsi:type="ListTypeSpecifier">
                              <elementType localId="1518" name="fhir:FamilyMemberHistory.Condition" xsi:type="NamedTypeSpecifier"/>
                           </elementType>
                        </element>
                     </elementType>
                  </signature>
                  <operand localId="1511" locator="453:13-453:34" name="FamilyHxDiagnosisOfCRC" xsi:type="ExpressionRef"/>
               </operand>
            </operand>
            <operand localId="1519" locator="453:39-453:76" xsi:type="Exists">
               <signature localId="1549" xsi:type="ListTypeSpecifier">
                  <elementType localId="1550" xsi:type="TupleTypeSpecifier">
                     <element localId="1551" name="familyMemberHistory">
                        <elementType localId="1552" name="fhir:FamilyMemberHistory" xsi:type="NamedTypeSpecifier"/>
                     </element>
                     <element localId="1553" name="conditions">
                        <elementType localId="1554" xsi:type="ListTypeSpecifier">
                           <elementType localId="1555" name="fhir:FamilyMemberHistory.Condition" xsi:type="NamedTypeSpecifier"/>
                        </elementType>
                     </element>
                  </elementType>
               </signature>
               <operand localId="1548" locator="453:46-453:76" name="FamilyHxDiagnosisOfHistoryOfCRC" xsi:type="ExpressionRef"/>
            </operand>
         </expression>
      </def>
      <def localId="1561" locator="486:1-487:89" name="FamilyHxPrecancerousPolypConditions" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1561">
               <a:s>define FamilyHxPrecancerousPolypConditions:
  </a:s>
               <a:s r="1574">
                  <a:s r="1562">
                     <a:s>Common</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="1574">
                     <a:s>ValidCondition(</a:s>
                     <a:s r="1565">
                        <a:s>[Condition: </a:s>
                        <a:s>
                           <a:s>&quot;FAMILY HISTORY OF POTENTIALLY PRECANCEROUS POLYPS&quot;</a:s>
                        </a:s>
                        <a:s>]</a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1574" locator="487:3-487:89" name="ValidCondition" libraryName="Common" xsi:type="FunctionRef">
            <operand localId="1565" locator="487:25-487:88" dataType="fhir:Condition" templateId="http://hl7.org/fhir/StructureDefinition/Condition" codeProperty="code" codeComparator="~" xsi:type="Retrieve">
               <codes localId="1573" xsi:type="ToList">
                  <operand localId="1564" locator="487:37-487:87" name="FAMILY HISTORY OF POTENTIALLY PRECANCEROUS POLYPS" xsi:type="CodeRef"/>
               </codes>
            </operand>
         </expression>
      </def>
      <def localId="1580" locator="489:1-499:5" name="FamilyHxDiagnosisOfPrecancerousPolyp" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1580">
               <a:s>define FamilyHxDiagnosisOfPrecancerousPolyp:
  </a:s>
               <a:s r="1606">
                  <a:s>
                     <a:s r="1581">
                        <a:s r="1582">
                           <a:s r="1582">
                              <a:s>[FamilyMemberHistory]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> F</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s>
                     <a:s>let
      </a:s>
                     <a:s r="1583">
                        <a:s>CRCConditions: </a:s>
                        <a:s r="1597">
                           <a:s>
                              <a:s r="1584">
                                 <a:s r="1586">
                                    <a:s>
                                       <a:s>F.condition</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> C</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
        </a:s>
                           <a:s r="1587">
                              <a:s>where         
          </a:s>
                              <a:s r="1587">
                                 <a:s r="1589">
                                    <a:s r="1588">
                                       <a:s>C</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="1589">
                                       <a:s>code</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> ~ </a:s>
                                 <a:s r="1590">
                                    <a:s>&quot;POTENTIALLY PRECANCEROUS POLYPS CONDITION&quot;</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="1598">
                     <a:s>where </a:s>
                     <a:s r="1598">
                        <a:s>exists </a:s>
                        <a:s r="1599">
                           <a:s>CRCConditions</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="1602">
                     <a:s>return </a:s>
                     <a:s r="1603">
                        <a:s>{
      </a:s>
                        <a:s>
                           <a:s>familyMemberHistory: </a:s>
                           <a:s r="1604">
                              <a:s>F</a:s>
                           </a:s>
                        </a:s>
                        <a:s>,
      </a:s>
                        <a:s>
                           <a:s>conditions: </a:s>
                           <a:s r="1605">
                              <a:s>CRCConditions</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
    }</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1606" locator="490:3-499:5" xsi:type="Query">
            <source localId="1581" locator="490:3-490:25" alias="F">
               <expression localId="1582" locator="490:3-490:23" dataType="fhir:FamilyMemberHistory" templateId="http://hl7.org/fhir/StructureDefinition/FamilyMemberHistory" xsi:type="Retrieve"/>
            </source>
            <let localId="1583" locator="492:7-494:62" identifier="CRCConditions">
               <expression localId="1597" locator="492:22-494:62" xsi:type="Query">
                  <source localId="1584" locator="492:22-492:34" alias="C">
                     <expression localId="1586" locator="492:22-492:32" path="condition" scope="F" xsi:type="Property"/>
                  </source>
                  <where localId="1587" locator="493:9-494:62" xsi:type="Equivalent">
                     <signature localId="1595" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                     <signature localId="1596" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                     <operand localId="1591" name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="1589" locator="494:11-494:16" path="code" scope="C" xsi:type="Property"/>
                     </operand>
                     <operand localId="1593" xsi:type="ToConcept">
                        <signature localId="1594" name="t:Code" xsi:type="NamedTypeSpecifier"/>
                        <operand localId="1590" locator="494:20-494:62" name="POTENTIALLY PRECANCEROUS POLYPS CONDITION" xsi:type="CodeRef"/>
                     </operand>
                  </where>
               </expression>
            </let>
            <where localId="1598" locator="495:5-495:30" xsi:type="Exists">
               <signature localId="1600" xsi:type="ListTypeSpecifier">
                  <elementType localId="1601" name="fhir:FamilyMemberHistory.Condition" xsi:type="NamedTypeSpecifier"/>
               </signature>
               <operand localId="1599" locator="495:18-495:30" name="CRCConditions" xsi:type="QueryLetRef"/>
            </where>
            <return localId="1602" locator="496:5-499:5">
               <expression localId="1603" locator="496:12-499:5" xsi:type="Tuple">
                  <element name="familyMemberHistory">
                     <value localId="1604" locator="497:28" name="F" xsi:type="AliasRef"/>
                  </element>
                  <element name="conditions">
                     <value localId="1605" locator="498:19-498:31" name="CRCConditions" xsi:type="QueryLetRef"/>
                  </element>
               </expression>
            </return>
         </expression>
      </def>
      <def localId="1557" locator="482:1-484:48" name="de-FamHxAdvancedPolyps" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1557">
               <a:s>define &quot;de-FamHxAdvancedPolyps&quot;:
  </a:s>
               <a:s r="1558">
                  <a:s r="1559">
                     <a:s>exists </a:s>
                     <a:s r="1575">
                        <a:s>FamilyHxPrecancerousPolypConditions</a:s>
                     </a:s>
                  </a:s>
                  <a:s> 
  or </a:s>
                  <a:s r="1578">
                     <a:s>exists </a:s>
                     <a:s r="1607">
                        <a:s>FamilyHxDiagnosisOfPrecancerousPolyp</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1558" locator="483:3-484:48" xsi:type="Or">
            <operand localId="1559" locator="483:3-483:44" xsi:type="Exists">
               <signature localId="1576" xsi:type="ListTypeSpecifier">
                  <elementType localId="1577" name="fhir:Condition" xsi:type="NamedTypeSpecifier"/>
               </signature>
               <operand localId="1575" locator="483:10-483:44" name="FamilyHxPrecancerousPolypConditions" xsi:type="ExpressionRef"/>
            </operand>
            <operand localId="1578" locator="484:6-484:48" xsi:type="Exists">
               <signature localId="1608" xsi:type="ListTypeSpecifier">
                  <elementType localId="1609" xsi:type="TupleTypeSpecifier">
                     <element localId="1610" name="familyMemberHistory">
                        <elementType localId="1611" name="fhir:FamilyMemberHistory" xsi:type="NamedTypeSpecifier"/>
                     </element>
                     <element localId="1612" name="conditions">
                        <elementType localId="1613" xsi:type="ListTypeSpecifier">
                           <elementType localId="1614" name="fhir:FamilyMemberHistory.Condition" xsi:type="NamedTypeSpecifier"/>
                        </elementType>
                     </element>
                  </elementType>
               </signature>
               <operand localId="1607" locator="484:13-484:48" name="FamilyHxDiagnosisOfPrecancerousPolyp" xsi:type="ExpressionRef"/>
            </operand>
         </expression>
      </def>
      <def localId="1620" locator="507:1-508:81" name="PotentiallyPrecancerousPolypsConditions" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1620">
               <a:s>define PotentiallyPrecancerousPolypsConditions:
  </a:s>
               <a:s r="1633">
                  <a:s r="1621">
                     <a:s>Common</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="1633">
                     <a:s>ValidCondition(</a:s>
                     <a:s r="1624">
                        <a:s>[Condition: </a:s>
                        <a:s>
                           <a:s>&quot;POTENTIALLY PRECANCEROUS POLYPS CONDITION&quot;</a:s>
                        </a:s>
                        <a:s>]</a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1633" locator="508:3-508:81" name="ValidCondition" libraryName="Common" xsi:type="FunctionRef">
            <operand localId="1624" locator="508:25-508:80" dataType="fhir:Condition" templateId="http://hl7.org/fhir/StructureDefinition/Condition" codeProperty="code" codeComparator="~" xsi:type="Retrieve">
               <codes localId="1632" xsi:type="ToList">
                  <operand localId="1623" locator="508:37-508:79" name="POTENTIALLY PRECANCEROUS POLYPS CONDITION" xsi:type="CodeRef"/>
               </codes>
            </operand>
         </expression>
      </def>
      <def localId="1645" locator="571:1-572:97" name="ColonoscopyDiagnosticReports" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1645">
               <a:s>define ColonoscopyDiagnosticReports:
  </a:s>
               <a:s r="1649">
                  <a:s r="1646">
                     <a:s>CRCSMCommon</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="1649">
                     <a:s>CompletedDiagnosticReportsByLookback(</a:s>
                     <a:s r="1647">
                        <a:s>&quot;Colonoscopy Study&quot;</a:s>
                     </a:s>
                     <a:s>, </a:s>
                     <a:s r="1648">
                        <a:s>ScreeningHistoryLookback</a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1649" locator="572:3-572:97" name="CompletedDiagnosticReportsByLookback" libraryName="CRCSMCommon" xsi:type="FunctionRef">
            <signature localId="1650" name="t:ValueSet" xsi:type="NamedTypeSpecifier"/>
            <signature localId="1651" name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
            <operand localId="1647" locator="572:52-572:70" name="Colonoscopy Study" preserve="true" xsi:type="ValueSetRef"/>
            <operand localId="1648" locator="572:73-572:96" name="ScreeningHistoryLookback" xsi:type="ParameterRef"/>
         </expression>
      </def>
      <def localId="1658" locator="574:1-577:93" name="ColonoscopyObservations" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1658">
               <a:s>define ColonoscopyObservations:
  </a:s>
               <a:s r="1674">
                  <a:s r="1662">
                     <a:s r="1659">
                        <a:s>CRCSMCommon</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="1662">
                        <a:s>VerifiedObservations(</a:s>
                        <a:s r="1660">
                           <a:s>&quot;Colonoscopy Study&quot;</a:s>
                        </a:s>
                        <a:s>, </a:s>
                        <a:s r="1661">
                           <a:s>ScreeningHistoryLookback</a:s>
                        </a:s>
                        <a:s>)</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
  union
  </a:s>
                  <a:s r="1668">
                     <a:s r="1665">
                        <a:s>CRCSMCommon</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="1668">
                        <a:s>VerifiedObservations(</a:s>
                        <a:s r="1666">
                           <a:s>&quot;Colonoscopy Study Observation&quot;</a:s>
                        </a:s>
                        <a:s>, </a:s>
                        <a:s r="1667">
                           <a:s>ScreeningHistoryLookback</a:s>
                        </a:s>
                        <a:s>)</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1674" locator="575:3-577:93" xsi:type="Union">
            <signature localId="1675" xsi:type="ListTypeSpecifier">
               <elementType localId="1676" name="fhir:Observation" xsi:type="NamedTypeSpecifier"/>
            </signature>
            <signature localId="1677" xsi:type="ListTypeSpecifier">
               <elementType localId="1678" name="fhir:Observation" xsi:type="NamedTypeSpecifier"/>
            </signature>
            <operand localId="1662" locator="575:3-575:81" name="VerifiedObservations" libraryName="CRCSMCommon" xsi:type="FunctionRef">
               <signature localId="1663" name="t:ValueSet" xsi:type="NamedTypeSpecifier"/>
               <signature localId="1664" name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
               <operand localId="1660" locator="575:36-575:54" name="Colonoscopy Study" preserve="true" xsi:type="ValueSetRef"/>
               <operand localId="1661" locator="575:57-575:80" name="ScreeningHistoryLookback" xsi:type="ParameterRef"/>
            </operand>
            <operand localId="1668" locator="577:3-577:93" name="VerifiedObservations" libraryName="CRCSMCommon" xsi:type="FunctionRef">
               <signature localId="1672" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
               <signature localId="1673" name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
               <operand localId="1670" xsi:type="ToConcept">
                  <signature localId="1671" name="t:Code" xsi:type="NamedTypeSpecifier"/>
                  <operand localId="1666" locator="577:36-577:66" name="Colonoscopy Study Observation" xsi:type="CodeRef"/>
               </operand>
               <operand localId="1667" locator="577:69-577:92" name="ScreeningHistoryLookback" xsi:type="ParameterRef"/>
            </operand>
         </expression>
      </def>
      <def localId="1687" locator="613:1-614:78" name="FollowUpObservations" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1687">
               <a:s>//Follow Up
define FollowUpObservations:
  </a:s>
               <a:s r="1691">
                  <a:s r="1688">
                     <a:s>CRCSMCommon</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="1691">
                     <a:s>VerifiedObservations(</a:s>
                     <a:s r="1689">
                        <a:s>&quot;Follow-up Plan&quot;</a:s>
                     </a:s>
                     <a:s>, </a:s>
                     <a:s r="1690">
                        <a:s>ScreeningHistoryLookback</a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1691" locator="614:3-614:78" name="VerifiedObservations" libraryName="CRCSMCommon" xsi:type="FunctionRef">
            <signature localId="1695" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
            <signature localId="1696" name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
            <operand localId="1693" xsi:type="ToConcept">
               <signature localId="1694" name="t:Code" xsi:type="NamedTypeSpecifier"/>
               <operand localId="1689" locator="614:36-614:51" name="Follow-up Plan" xsi:type="CodeRef"/>
            </operand>
            <operand localId="1690" locator="614:54-614:77" name="ScreeningHistoryLookback" xsi:type="ParameterRef"/>
         </expression>
      </def>
      <def localId="1642" locator="565:1-569:77" name="ColonoscopyDiagnosticReportsWithResults" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1642">
               <a:s>define ColonoscopyDiagnosticReportsWithResults:
  </a:s>
               <a:s r="1701">
                  <a:s>
                     <a:s r="1643">
                        <a:s r="1652">
                           <a:s>
                              <a:s>ColonoscopyDiagnosticReports</a:s>
                           </a:s>
                        </a:s>
                        <a:s> D</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="1653">
                     <a:s>where
      </a:s>
                     <a:s r="1653">
                        <a:s r="1654">
                           <a:s>exists </a:s>
                           <a:s r="1680">
                              <a:s r="1655">
                                 <a:s>CRCSMCommon</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="1680">
                                 <a:s>CollateConclusionCodes(</a:s>
                                 <a:s r="1656">
                                    <a:s>D</a:s>
                                 </a:s>
                                 <a:s>,</a:s>
                                 <a:s r="1679">
                                    <a:s>ColonoscopyObservations</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s> or
      </a:s>
                        <a:s r="1683">
                           <a:s>exists </a:s>
                           <a:s r="1698">
                              <a:s r="1684">
                                 <a:s>CRCSMCommon</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="1698">
                                 <a:s>ValueQuantityFromObservation(</a:s>
                                 <a:s r="1685">
                                    <a:s>D</a:s>
                                 </a:s>
                                 <a:s>,</a:s>
                                 <a:s r="1697">
                                    <a:s>FollowUpObservations</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1701" locator="566:3-569:77" xsi:type="Query">
            <source localId="1643" locator="566:3-566:32" alias="D">
               <expression localId="1652" locator="566:3-566:30" name="ColonoscopyDiagnosticReports" xsi:type="ExpressionRef"/>
            </source>
            <where localId="1653" locator="567:5-569:77" xsi:type="Or">
               <operand localId="1654" locator="568:7-568:74" xsi:type="Exists">
                  <signature localId="1681" xsi:type="ListTypeSpecifier">
                     <elementType localId="1682" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
                  </signature>
                  <operand localId="1680" locator="568:14-568:74" name="CollateConclusionCodes" libraryName="CRCSMCommon" xsi:type="FunctionRef">
                     <operand localId="1656" locator="568:49" name="D" xsi:type="AliasRef"/>
                     <operand localId="1679" locator="568:51-568:73" name="ColonoscopyObservations" xsi:type="ExpressionRef"/>
                  </operand>
               </operand>
               <operand localId="1683" locator="569:7-569:77" xsi:type="Exists">
                  <signature localId="1699" xsi:type="ListTypeSpecifier">
                     <elementType localId="1700" name="fhir:Quantity" xsi:type="NamedTypeSpecifier"/>
                  </signature>
                  <operand localId="1698" locator="569:14-569:77" name="ValueQuantityFromObservation" libraryName="CRCSMCommon" xsi:type="FunctionRef">
                     <operand localId="1685" locator="569:55" name="D" xsi:type="AliasRef"/>
                     <operand localId="1697" locator="569:57-569:76" name="FollowUpObservations" xsi:type="ExpressionRef"/>
                  </operand>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="1639" locator="510:1-513:55" name="PrecancerousPolypsInAnyPreviousColonoscopy" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1639">
               <a:s>define PrecancerousPolypsInAnyPreviousColonoscopy:
  </a:s>
               <a:s r="1718">
                  <a:s>
                     <a:s r="1640">
                        <a:s r="1702">
                           <a:s>
                              <a:s>ColonoscopyDiagnosticReportsWithResults</a:s>
                           </a:s>
                        </a:s>
                        <a:s> D</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s>
                     <a:s>let </a:s>
                     <a:s r="1703">
                        <a:s>cC: </a:s>
                        <a:s r="1707">
                           <a:s r="1704">
                              <a:s>CRCSMCommon</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="1707">
                              <a:s>CollateConclusionCodes(</a:s>
                              <a:s r="1705">
                                 <a:s>D</a:s>
                              </a:s>
                              <a:s>,</a:s>
                              <a:s r="1706">
                                 <a:s>ColonoscopyObservations</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="1710">
                     <a:s>where </a:s>
                     <a:s r="1710">
                        <a:s r="1708">
                           <a:s>cC</a:s>
                        </a:s>
                        <a:s> in </a:s>
                        <a:s r="1709">
                           <a:s>&quot;Potentially Precancerous Polyp SNOMED&quot;</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1718" locator="511:3-513:55" xsi:type="Query">
            <source localId="1640" locator="511:3-511:43" alias="D">
               <expression localId="1702" locator="511:3-511:41" name="ColonoscopyDiagnosticReportsWithResults" xsi:type="ExpressionRef"/>
            </source>
            <let localId="1703" locator="512:9-512:73" identifier="cC">
               <expression localId="1707" locator="512:13-512:73" name="CollateConclusionCodes" libraryName="CRCSMCommon" xsi:type="FunctionRef">
                  <operand localId="1705" locator="512:48" name="D" xsi:type="AliasRef"/>
                  <operand localId="1706" locator="512:50-512:72" name="ColonoscopyObservations" xsi:type="ExpressionRef"/>
               </expression>
            </let>
            <where localId="1710" locator="513:5-513:55" xsi:type="AnyInValueSet">
               <signature localId="1716" xsi:type="ListTypeSpecifier">
                  <elementType localId="1717" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
               </signature>
               <codes localId="1711" xsi:type="Query">
                  <source localId="1712" alias="X">
                     <expression localId="1708" locator="513:11-513:12" name="cC" xsi:type="QueryLetRef"/>
                  </source>
                  <return localId="1713" distinct="false">
                     <expression localId="1715" name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="1714" name="X" xsi:type="AliasRef"/>
                     </expression>
                  </return>
               </codes>
               <valueset localId="1709" locator="513:17-513:55" name="Potentially Precancerous Polyp SNOMED" preserve="true"/>
            </where>
         </expression>
      </def>
      <def localId="1616" locator="504:1-505:101" name="de-HxPolyps" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1616">
               <a:s>//------------------------------------------------------------------------------
// Personal history of potentially precancerous polyps
//------------------------------------------------------------------------------
define &quot;de-HxPolyps&quot;:
  </a:s>
               <a:s r="1617">
                  <a:s r="1618">
                     <a:s>exists </a:s>
                     <a:s r="1634">
                        <a:s>PotentiallyPrecancerousPolypsConditions</a:s>
                     </a:s>
                  </a:s>
                  <a:s> or </a:s>
                  <a:s r="1637">
                     <a:s>exists </a:s>
                     <a:s r="1719">
                        <a:s>PrecancerousPolypsInAnyPreviousColonoscopy</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1617" locator="505:3-505:101" xsi:type="Or">
            <operand localId="1618" locator="505:3-505:48" xsi:type="Exists">
               <signature localId="1635" xsi:type="ListTypeSpecifier">
                  <elementType localId="1636" name="fhir:Condition" xsi:type="NamedTypeSpecifier"/>
               </signature>
               <operand localId="1634" locator="505:10-505:48" name="PotentiallyPrecancerousPolypsConditions" xsi:type="ExpressionRef"/>
            </operand>
            <operand localId="1637" locator="505:53-505:101" xsi:type="Exists">
               <signature localId="1720" xsi:type="ListTypeSpecifier">
                  <elementType localId="1721" name="fhir:DiagnosticReport" xsi:type="NamedTypeSpecifier"/>
               </signature>
               <operand localId="1719" locator="505:60-505:101" name="PrecancerousPolypsInAnyPreviousColonoscopy" xsi:type="ExpressionRef"/>
            </operand>
         </expression>
      </def>
      <def localId="1723" locator="522:1-523:89" name="ColorectalCancerScreeningDiagnosticReports" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1723">
               <a:s>//TODO consider whether lookback of 10 years is appropriate
//TODO generalize to include history of precancerous polyps from other modalities (CT colonography and flex sig)

//------------------------------------------------------------------------------
// Colorectal screening modalities
//------------------------------------------------------------------------------

//TODO Use single retrieve for all completed Diagnostic reports in lookback and then filter by modality.
define ColorectalCancerScreeningDiagnosticReports:
  </a:s>
               <a:s r="1731">
                  <a:s r="1724">
                     <a:s>Common</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="1731">
                     <a:s>CompletedDiagnosticReport(</a:s>
                     <a:s r="1727">
                        <a:s>[DiagnosticReport: </a:s>
                        <a:s>
                           <a:s>&quot;Colorectal Screening Modalities&quot;</a:s>
                        </a:s>
                        <a:s>]</a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1731" locator="523:3-523:89" name="CompletedDiagnosticReport" libraryName="Common" xsi:type="FunctionRef">
            <operand localId="1727" locator="523:36-523:88" dataType="fhir:DiagnosticReport" templateId="http://hl7.org/fhir/StructureDefinition/DiagnosticReport" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
               <codes localId="1726" locator="523:55-523:87" name="Colorectal Screening Modalities" preserve="true" xsi:type="ValueSetRef"/>
            </operand>
         </expression>
      </def>
      <def localId="1733" locator="525:1-526:54" name="AllCompletedDiagnosticReport" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1733">
               <a:s>define AllCompletedDiagnosticReport:
  </a:s>
               <a:s r="1736">
                  <a:s r="1734">
                     <a:s>Common</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="1736">
                     <a:s>CompletedDiagnosticReport(</a:s>
                     <a:s r="1735">
                        <a:s>[DiagnosticReport]</a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1736" locator="526:3-526:54" name="CompletedDiagnosticReport" libraryName="Common" xsi:type="FunctionRef">
            <operand localId="1735" locator="526:36-526:53" dataType="fhir:DiagnosticReport" templateId="http://hl7.org/fhir/StructureDefinition/DiagnosticReport" xsi:type="Retrieve"/>
         </expression>
      </def>
      <def localId="1740" locator="543:1-544:87" name="FOBTObservations" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1740">
               <a:s>define FOBTObservations:
  </a:s>
               <a:s r="1744">
                  <a:s r="1741">
                     <a:s>CRCSMCommon</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="1744">
                     <a:s>VerifiedObservations(</a:s>
                     <a:s r="1742">
                        <a:s>&quot;Fecal Occult Blood Test&quot;</a:s>
                     </a:s>
                     <a:s>, </a:s>
                     <a:s r="1743">
                        <a:s>ScreeningHistoryLookback</a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1744" locator="544:3-544:87" name="VerifiedObservations" libraryName="CRCSMCommon" xsi:type="FunctionRef">
            <signature localId="1745" name="t:ValueSet" xsi:type="NamedTypeSpecifier"/>
            <signature localId="1746" name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
            <operand localId="1742" locator="544:36-544:60" name="Fecal Occult Blood Test" preserve="true" xsi:type="ValueSetRef"/>
            <operand localId="1743" locator="544:63-544:86" name="ScreeningHistoryLookback" xsi:type="ParameterRef"/>
         </expression>
      </def>
      <def localId="1749" locator="558:1-559:77" name="StoolDNAFITObservations" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1749">
               <a:s>define StoolDNAFITObservations:
  </a:s>
               <a:s r="1753">
                  <a:s r="1750">
                     <a:s>CRCSMCommon</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="1753">
                     <a:s>VerifiedObservations(</a:s>
                     <a:s r="1751">
                        <a:s>&quot;Stool DNA-FIT&quot;</a:s>
                     </a:s>
                     <a:s>, </a:s>
                     <a:s r="1752">
                        <a:s>ScreeningHistoryLookback</a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1753" locator="559:3-559:77" name="VerifiedObservations" libraryName="CRCSMCommon" xsi:type="FunctionRef">
            <signature localId="1754" name="t:ValueSet" xsi:type="NamedTypeSpecifier"/>
            <signature localId="1755" name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
            <operand localId="1751" locator="559:36-559:50" name="Stool DNA-FIT" preserve="true" xsi:type="ValueSetRef"/>
            <operand localId="1752" locator="559:53-559:76" name="ScreeningHistoryLookback" xsi:type="ParameterRef"/>
         </expression>
      </def>
      <def localId="1769" locator="591:1-592:85" name="CTColonographyObservations" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1769">
               <a:s>define CTColonographyObservations:
  </a:s>
               <a:s r="1773">
                  <a:s r="1770">
                     <a:s>CRCSMCommon</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="1773">
                     <a:s>VerifiedObservations(</a:s>
                     <a:s r="1771">
                        <a:s>&quot;CT Colonography Study&quot;</a:s>
                     </a:s>
                     <a:s>, </a:s>
                     <a:s r="1772">
                        <a:s>ScreeningHistoryLookback</a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1773" locator="592:3-592:85" name="VerifiedObservations" libraryName="CRCSMCommon" xsi:type="FunctionRef">
            <signature localId="1774" name="t:ValueSet" xsi:type="NamedTypeSpecifier"/>
            <signature localId="1775" name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
            <operand localId="1771" locator="592:36-592:58" name="CT Colonography Study" preserve="true" xsi:type="ValueSetRef"/>
            <operand localId="1772" locator="592:61-592:84" name="ScreeningHistoryLookback" xsi:type="ParameterRef"/>
         </expression>
      </def>
      <def localId="1788" locator="607:1-610:104" name="FlexSigObservations" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1788">
               <a:s>define FlexSigObservations:
  </a:s>
               <a:s r="1804">
                  <a:s r="1792">
                     <a:s r="1789">
                        <a:s>CRCSMCommon</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="1792">
                        <a:s>VerifiedObservations(</a:s>
                        <a:s r="1790">
                           <a:s>&quot;Flexible Sigmoidoscopy Study&quot;</a:s>
                        </a:s>
                        <a:s>, </a:s>
                        <a:s r="1791">
                           <a:s>ScreeningHistoryLookback</a:s>
                        </a:s>
                        <a:s>)</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
  union
  </a:s>
                  <a:s r="1798">
                     <a:s r="1795">
                        <a:s>CRCSMCommon</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="1798">
                        <a:s>VerifiedObservations(</a:s>
                        <a:s r="1796">
                           <a:s>&quot;Flexible Sigmoidoscopy Study Observation&quot;</a:s>
                        </a:s>
                        <a:s>, </a:s>
                        <a:s r="1797">
                           <a:s>ScreeningHistoryLookback</a:s>
                        </a:s>
                        <a:s>)</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1804" locator="608:3-610:104" xsi:type="Union">
            <signature localId="1805" xsi:type="ListTypeSpecifier">
               <elementType localId="1806" name="fhir:Observation" xsi:type="NamedTypeSpecifier"/>
            </signature>
            <signature localId="1807" xsi:type="ListTypeSpecifier">
               <elementType localId="1808" name="fhir:Observation" xsi:type="NamedTypeSpecifier"/>
            </signature>
            <operand localId="1792" locator="608:3-608:92" name="VerifiedObservations" libraryName="CRCSMCommon" xsi:type="FunctionRef">
               <signature localId="1793" name="t:ValueSet" xsi:type="NamedTypeSpecifier"/>
               <signature localId="1794" name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
               <operand localId="1790" locator="608:36-608:65" name="Flexible Sigmoidoscopy Study" preserve="true" xsi:type="ValueSetRef"/>
               <operand localId="1791" locator="608:68-608:91" name="ScreeningHistoryLookback" xsi:type="ParameterRef"/>
            </operand>
            <operand localId="1798" locator="610:3-610:104" name="VerifiedObservations" libraryName="CRCSMCommon" xsi:type="FunctionRef">
               <signature localId="1802" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
               <signature localId="1803" name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
               <operand localId="1800" xsi:type="ToConcept">
                  <signature localId="1801" name="t:Code" xsi:type="NamedTypeSpecifier"/>
                  <operand localId="1796" locator="610:36-610:77" name="Flexible Sigmoidoscopy Study Observation" xsi:type="CodeRef"/>
               </operand>
               <operand localId="1797" locator="610:80-610:103" name="ScreeningHistoryLookback" xsi:type="ParameterRef"/>
            </operand>
         </expression>
      </def>
      <def localId="1738" locator="528:1-529:137" name="ColorectalCancerScreeningObservations" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1738">
               <a:s>define ColorectalCancerScreeningObservations:
  </a:s>
               <a:s r="1810">
                  <a:s r="1782">
                     <a:s r="1763">
                        <a:s r="1757">
                           <a:s r="1747">
                              <a:s>FOBTObservations</a:s>
                           </a:s>
                           <a:s> union </a:s>
                           <a:s r="1756">
                              <a:s>StoolDNAFITObservations</a:s>
                           </a:s>
                        </a:s>
                        <a:s> union </a:s>
                        <a:s r="1762">
                           <a:s>ColonoscopyObservations</a:s>
                        </a:s>
                     </a:s>
                     <a:s> union </a:s>
                     <a:s r="1776">
                        <a:s>CTColonographyObservations</a:s>
                     </a:s>
                  </a:s>
                  <a:s> union </a:s>
                  <a:s r="1809">
                     <a:s>FlexSigObservations</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1810" locator="529:3-529:137" xsi:type="Union">
            <signature localId="1811" xsi:type="ListTypeSpecifier">
               <elementType localId="1812" name="fhir:Observation" xsi:type="NamedTypeSpecifier"/>
            </signature>
            <signature localId="1813" xsi:type="ListTypeSpecifier">
               <elementType localId="1814" name="fhir:Observation" xsi:type="NamedTypeSpecifier"/>
            </signature>
            <operand localId="1782" locator="529:3-529:111" xsi:type="Union">
               <signature localId="1783" xsi:type="ListTypeSpecifier">
                  <elementType localId="1784" name="fhir:Observation" xsi:type="NamedTypeSpecifier"/>
               </signature>
               <signature localId="1785" xsi:type="ListTypeSpecifier">
                  <elementType localId="1786" name="fhir:Observation" xsi:type="NamedTypeSpecifier"/>
               </signature>
               <operand localId="1757" locator="529:3-529:48" xsi:type="Union">
                  <signature localId="1758" xsi:type="ListTypeSpecifier">
                     <elementType localId="1759" name="fhir:Observation" xsi:type="NamedTypeSpecifier"/>
                  </signature>
                  <signature localId="1760" xsi:type="ListTypeSpecifier">
                     <elementType localId="1761" name="fhir:Observation" xsi:type="NamedTypeSpecifier"/>
                  </signature>
                  <operand localId="1747" locator="529:3-529:18" name="FOBTObservations" xsi:type="ExpressionRef"/>
                  <operand localId="1756" locator="529:26-529:48" name="StoolDNAFITObservations" xsi:type="ExpressionRef"/>
               </operand>
               <operand localId="1777" xsi:type="Union">
                  <signature localId="1778" xsi:type="ListTypeSpecifier">
                     <elementType localId="1779" name="fhir:Observation" xsi:type="NamedTypeSpecifier"/>
                  </signature>
                  <signature localId="1780" xsi:type="ListTypeSpecifier">
                     <elementType localId="1781" name="fhir:Observation" xsi:type="NamedTypeSpecifier"/>
                  </signature>
                  <operand localId="1762" locator="529:56-529:78" name="ColonoscopyObservations" xsi:type="ExpressionRef"/>
                  <operand localId="1776" locator="529:86-529:111" name="CTColonographyObservations" xsi:type="ExpressionRef"/>
               </operand>
            </operand>
            <operand localId="1809" locator="529:119-529:137" name="FlexSigObservations" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def localId="1822" locator="540:1-541:103" name="FOBTDiagnosticReports" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1822">
               <a:s>define FOBTDiagnosticReports:
  </a:s>
               <a:s r="1826">
                  <a:s r="1823">
                     <a:s>CRCSMCommon</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="1826">
                     <a:s>CompletedDiagnosticReportsByLookback(</a:s>
                     <a:s r="1824">
                        <a:s>&quot;Fecal Occult Blood Test&quot;</a:s>
                     </a:s>
                     <a:s>, </a:s>
                     <a:s r="1825">
                        <a:s>ScreeningHistoryLookback</a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1826" locator="541:3-541:103" name="CompletedDiagnosticReportsByLookback" libraryName="CRCSMCommon" xsi:type="FunctionRef">
            <signature localId="1827" name="t:ValueSet" xsi:type="NamedTypeSpecifier"/>
            <signature localId="1828" name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
            <operand localId="1824" locator="541:52-541:76" name="Fecal Occult Blood Test" preserve="true" xsi:type="ValueSetRef"/>
            <operand localId="1825" locator="541:79-541:102" name="ScreeningHistoryLookback" xsi:type="ParameterRef"/>
         </expression>
      </def>
      <def localId="1819" locator="535:1-538:66" name="FOBTDiagnosticReportsWithResults" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1819">
               <a:s>define FOBTDiagnosticReportsWithResults:
  </a:s>
               <a:s r="1837">
                  <a:s>
                     <a:s r="1820">
                        <a:s r="1829">
                           <a:s>
                              <a:s>FOBTDiagnosticReports</a:s>
                           </a:s>
                        </a:s>
                        <a:s> D</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
  </a:s>
                  <a:s r="1830">
                     <a:s>where
    </a:s>
                     <a:s r="1830">
                        <a:s>exists </a:s>
                        <a:s r="1834">
                           <a:s r="1831">
                              <a:s>CRCSMCommon</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="1834">
                              <a:s>CollateConclusionCodes(</a:s>
                              <a:s r="1832">
                                 <a:s>D</a:s>
                              </a:s>
                              <a:s>, </a:s>
                              <a:s r="1833">
                                 <a:s>FOBTObservations</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1837" locator="536:3-538:66" xsi:type="Query">
            <source localId="1820" locator="536:3-536:25" alias="D">
               <expression localId="1829" locator="536:3-536:23" name="FOBTDiagnosticReports" xsi:type="ExpressionRef"/>
            </source>
            <where localId="1830" locator="537:3-538:66" xsi:type="Exists">
               <signature localId="1835" xsi:type="ListTypeSpecifier">
                  <elementType localId="1836" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
               </signature>
               <operand localId="1834" locator="538:12-538:66" name="CollateConclusionCodes" libraryName="CRCSMCommon" xsi:type="FunctionRef">
                  <operand localId="1832" locator="538:47" name="D" xsi:type="AliasRef"/>
                  <operand localId="1833" locator="538:50-538:65" name="FOBTObservations" xsi:type="ExpressionRef"/>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="1816" locator="532:1-533:41" name="de-FOBT" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1816">
               <a:s>//FOBT (includes FIT and gFOBT)
define &quot;de-FOBT&quot;:
  </a:s>
               <a:s r="1817">
                  <a:s>exists </a:s>
                  <a:s r="1838">
                     <a:s>FOBTDiagnosticReportsWithResults</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1817" locator="533:3-533:41" xsi:type="Exists">
            <signature localId="1839" xsi:type="ListTypeSpecifier">
               <elementType localId="1840" name="fhir:DiagnosticReport" xsi:type="NamedTypeSpecifier"/>
            </signature>
            <operand localId="1838" locator="533:10-533:41" name="FOBTDiagnosticReportsWithResults" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def localId="1848" locator="555:1-556:93" name="StoolDNAFITDiagnosticReports" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1848">
               <a:s>define StoolDNAFITDiagnosticReports:
  </a:s>
               <a:s r="1852">
                  <a:s r="1849">
                     <a:s>CRCSMCommon</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="1852">
                     <a:s>CompletedDiagnosticReportsByLookback(</a:s>
                     <a:s r="1850">
                        <a:s>&quot;Stool DNA-FIT&quot;</a:s>
                     </a:s>
                     <a:s>, </a:s>
                     <a:s r="1851">
                        <a:s>ScreeningHistoryLookback</a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1852" locator="556:3-556:93" name="CompletedDiagnosticReportsByLookback" libraryName="CRCSMCommon" xsi:type="FunctionRef">
            <signature localId="1853" name="t:ValueSet" xsi:type="NamedTypeSpecifier"/>
            <signature localId="1854" name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
            <operand localId="1850" locator="556:52-556:66" name="Stool DNA-FIT" preserve="true" xsi:type="ValueSetRef"/>
            <operand localId="1851" locator="556:69-556:92" name="ScreeningHistoryLookback" xsi:type="ParameterRef"/>
         </expression>
      </def>
      <def localId="1845" locator="550:1-553:75" name="StoolDNAFITDiagnosticReportsWithResults" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1845">
               <a:s>define StoolDNAFITDiagnosticReportsWithResults:
   </a:s>
               <a:s r="1863">
                  <a:s>
                     <a:s r="1846">
                        <a:s r="1855">
                           <a:s>
                              <a:s>StoolDNAFITDiagnosticReports</a:s>
                           </a:s>
                        </a:s>
                        <a:s> D</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="1856">
                     <a:s>where
      </a:s>
                     <a:s r="1856">
                        <a:s>exists </a:s>
                        <a:s r="1860">
                           <a:s r="1857">
                              <a:s>CRCSMCommon</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="1860">
                              <a:s>CollateConclusionCodes(</a:s>
                              <a:s r="1858">
                                 <a:s>D</a:s>
                              </a:s>
                              <a:s>, </a:s>
                              <a:s r="1859">
                                 <a:s>StoolDNAFITObservations</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1863" locator="551:4-553:75" xsi:type="Query">
            <source localId="1846" locator="551:4-551:33" alias="D">
               <expression localId="1855" locator="551:4-551:31" name="StoolDNAFITDiagnosticReports" xsi:type="ExpressionRef"/>
            </source>
            <where localId="1856" locator="552:5-553:75" xsi:type="Exists">
               <signature localId="1861" xsi:type="ListTypeSpecifier">
                  <elementType localId="1862" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
               </signature>
               <operand localId="1860" locator="553:14-553:75" name="CollateConclusionCodes" libraryName="CRCSMCommon" xsi:type="FunctionRef">
                  <operand localId="1858" locator="553:49" name="D" xsi:type="AliasRef"/>
                  <operand localId="1859" locator="553:52-553:74" name="StoolDNAFITObservations" xsi:type="ExpressionRef"/>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="1842" locator="547:1-548:50" name="de-stoolDNAFIT" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1842">
               <a:s>// Stool DNA-FIT
define &quot;de-stoolDNAFIT&quot;:
    </a:s>
               <a:s r="1843">
                  <a:s>exists </a:s>
                  <a:s r="1864">
                     <a:s>StoolDNAFITDiagnosticReportsWithResults</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1843" locator="548:5-548:50" xsi:type="Exists">
            <signature localId="1865" xsi:type="ListTypeSpecifier">
               <elementType localId="1866" name="fhir:DiagnosticReport" xsi:type="NamedTypeSpecifier"/>
            </signature>
            <operand localId="1864" locator="548:12-548:50" name="StoolDNAFITDiagnosticReportsWithResults" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def localId="1868" locator="562:1-563:48" name="de-Colonoscopy" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1868">
               <a:s>// Colonoscopy
define &quot;de-Colonoscopy&quot;: 
  </a:s>
               <a:s r="1869">
                  <a:s>exists </a:s>
                  <a:s r="1870">
                     <a:s>ColonoscopyDiagnosticReportsWithResults</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1869" locator="563:3-563:48" xsi:type="Exists">
            <signature localId="1871" xsi:type="ListTypeSpecifier">
               <elementType localId="1872" name="fhir:DiagnosticReport" xsi:type="NamedTypeSpecifier"/>
            </signature>
            <operand localId="1870" locator="563:10-563:48" name="ColonoscopyDiagnosticReportsWithResults" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def localId="1880" locator="588:1-589:101" name="CTColonographyDiagnosticReports" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1880">
               <a:s>define CTColonographyDiagnosticReports:
  </a:s>
               <a:s r="1884">
                  <a:s r="1881">
                     <a:s>CRCSMCommon</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="1884">
                     <a:s>CompletedDiagnosticReportsByLookback(</a:s>
                     <a:s r="1882">
                        <a:s>&quot;CT Colonography Study&quot;</a:s>
                     </a:s>
                     <a:s>, </a:s>
                     <a:s r="1883">
                        <a:s>ScreeningHistoryLookback</a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1884" locator="589:3-589:101" name="CompletedDiagnosticReportsByLookback" libraryName="CRCSMCommon" xsi:type="FunctionRef">
            <signature localId="1885" name="t:ValueSet" xsi:type="NamedTypeSpecifier"/>
            <signature localId="1886" name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
            <operand localId="1882" locator="589:52-589:74" name="CT Colonography Study" preserve="true" xsi:type="ValueSetRef"/>
            <operand localId="1883" locator="589:77-589:100" name="ScreeningHistoryLookback" xsi:type="ParameterRef"/>
         </expression>
      </def>
      <def localId="1877" locator="583:1-586:78" name="CTColonographyDiagnosticReportsWithResults" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1877">
               <a:s>define CTColonographyDiagnosticReportsWithResults:
  </a:s>
               <a:s r="1895">
                  <a:s>
                     <a:s r="1878">
                        <a:s r="1887">
                           <a:s>
                              <a:s>CTColonographyDiagnosticReports</a:s>
                           </a:s>
                        </a:s>
                        <a:s> D</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="1888">
                     <a:s>where
      </a:s>
                     <a:s r="1888">
                        <a:s>exists </a:s>
                        <a:s r="1892">
                           <a:s r="1889">
                              <a:s>CRCSMCommon</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="1892">
                              <a:s>CollateConclusionCodes(</a:s>
                              <a:s r="1890">
                                 <a:s>D</a:s>
                              </a:s>
                              <a:s>, </a:s>
                              <a:s r="1891">
                                 <a:s>CTColonographyObservations</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1895" locator="584:3-586:78" xsi:type="Query">
            <source localId="1878" locator="584:3-584:35" alias="D">
               <expression localId="1887" locator="584:3-584:33" name="CTColonographyDiagnosticReports" xsi:type="ExpressionRef"/>
            </source>
            <where localId="1888" locator="585:5-586:78" xsi:type="Exists">
               <signature localId="1893" xsi:type="ListTypeSpecifier">
                  <elementType localId="1894" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
               </signature>
               <operand localId="1892" locator="586:14-586:78" name="CollateConclusionCodes" libraryName="CRCSMCommon" xsi:type="FunctionRef">
                  <operand localId="1890" locator="586:49" name="D" xsi:type="AliasRef"/>
                  <operand localId="1891" locator="586:52-586:77" name="CTColonographyObservations" xsi:type="ExpressionRef"/>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="1874" locator="580:1-581:51" name="de-CTColonography" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1874">
               <a:s>// CT Colonography
define &quot;de-CTColonography&quot;:
  </a:s>
               <a:s r="1875">
                  <a:s>exists </a:s>
                  <a:s r="1896">
                     <a:s>CTColonographyDiagnosticReportsWithResults</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1875" locator="581:3-581:51" xsi:type="Exists">
            <signature localId="1897" xsi:type="ListTypeSpecifier">
               <elementType localId="1898" name="fhir:DiagnosticReport" xsi:type="NamedTypeSpecifier"/>
            </signature>
            <operand localId="1896" locator="581:10-581:51" name="CTColonographyDiagnosticReportsWithResults" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def localId="1906" locator="604:1-605:108" name="FlexSigDiagnosticReports" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1906">
               <a:s>define FlexSigDiagnosticReports:
  </a:s>
               <a:s r="1910">
                  <a:s r="1907">
                     <a:s>CRCSMCommon</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="1910">
                     <a:s>CompletedDiagnosticReportsByLookback(</a:s>
                     <a:s r="1908">
                        <a:s>&quot;Flexible Sigmoidoscopy Study&quot;</a:s>
                     </a:s>
                     <a:s>, </a:s>
                     <a:s r="1909">
                        <a:s>ScreeningHistoryLookback</a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1910" locator="605:3-605:108" name="CompletedDiagnosticReportsByLookback" libraryName="CRCSMCommon" xsi:type="FunctionRef">
            <signature localId="1911" name="t:ValueSet" xsi:type="NamedTypeSpecifier"/>
            <signature localId="1912" name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
            <operand localId="1908" locator="605:52-605:81" name="Flexible Sigmoidoscopy Study" preserve="true" xsi:type="ValueSetRef"/>
            <operand localId="1909" locator="605:84-605:107" name="ScreeningHistoryLookback" xsi:type="ParameterRef"/>
         </expression>
      </def>
      <def localId="1903" locator="598:1-602:77" name="FlexSigDiagnosticReportsWithResults" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1903">
               <a:s>define FlexSigDiagnosticReportsWithResults:
   </a:s>
               <a:s r="1929">
                  <a:s>
                     <a:s r="1904">
                        <a:s r="1913">
                           <a:s>
                              <a:s>FlexSigDiagnosticReports</a:s>
                           </a:s>
                        </a:s>
                        <a:s> D</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="1914">
                     <a:s>where
      </a:s>
                     <a:s r="1914">
                        <a:s r="1915">
                           <a:s>exists </a:s>
                           <a:s r="1919">
                              <a:s r="1916">
                                 <a:s>CRCSMCommon</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="1919">
                                 <a:s>CollateConclusionCodes(</a:s>
                                 <a:s r="1917">
                                    <a:s>D</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="1918">
                                    <a:s>FlexSigObservations</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s> or
      </a:s>
                        <a:s r="1922">
                           <a:s>exists </a:s>
                           <a:s r="1926">
                              <a:s r="1923">
                                 <a:s>CRCSMCommon</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="1926">
                                 <a:s>ValueQuantityFromObservation(</a:s>
                                 <a:s r="1924">
                                    <a:s>D</a:s>
                                 </a:s>
                                 <a:s>,</a:s>
                                 <a:s r="1925">
                                    <a:s>FollowUpObservations</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1929" locator="599:4-602:77" xsi:type="Query">
            <source localId="1904" locator="599:4-599:29" alias="D">
               <expression localId="1913" locator="599:4-599:27" name="FlexSigDiagnosticReports" xsi:type="ExpressionRef"/>
            </source>
            <where localId="1914" locator="600:5-602:77" xsi:type="Or">
               <operand localId="1915" locator="601:7-601:71" xsi:type="Exists">
                  <signature localId="1920" xsi:type="ListTypeSpecifier">
                     <elementType localId="1921" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
                  </signature>
                  <operand localId="1919" locator="601:14-601:71" name="CollateConclusionCodes" libraryName="CRCSMCommon" xsi:type="FunctionRef">
                     <operand localId="1917" locator="601:49" name="D" xsi:type="AliasRef"/>
                     <operand localId="1918" locator="601:52-601:70" name="FlexSigObservations" xsi:type="ExpressionRef"/>
                  </operand>
               </operand>
               <operand localId="1922" locator="602:7-602:77" xsi:type="Exists">
                  <signature localId="1927" xsi:type="ListTypeSpecifier">
                     <elementType localId="1928" name="fhir:Quantity" xsi:type="NamedTypeSpecifier"/>
                  </signature>
                  <operand localId="1926" locator="602:14-602:77" name="ValueQuantityFromObservation" libraryName="CRCSMCommon" xsi:type="FunctionRef">
                     <operand localId="1924" locator="602:55" name="D" xsi:type="AliasRef"/>
                     <operand localId="1925" locator="602:57-602:76" name="FollowUpObservations" xsi:type="ExpressionRef"/>
                  </operand>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="1900" locator="595:1-596:44" name="de-FlexSig" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1900">
               <a:s>// Flex Sig
define &quot;de-FlexSig&quot;:
  </a:s>
               <a:s r="1901">
                  <a:s>exists </a:s>
                  <a:s r="1930">
                     <a:s>FlexSigDiagnosticReportsWithResults</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1901" locator="596:3-596:44" xsi:type="Exists">
            <signature localId="1931" xsi:type="ListTypeSpecifier">
               <elementType localId="1932" name="fhir:DiagnosticReport" xsi:type="NamedTypeSpecifier"/>
            </signature>
            <operand localId="1930" locator="596:10-596:44" name="FlexSigDiagnosticReportsWithResults" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def localId="1943" locator="668:1-677:44" name="CRCScreeningHistory" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1943">
               <a:s>define CRCScreeningHistory:
  </a:s>
               <a:s r="1969">
                  <a:s r="1963">
                     <a:s r="1952">
                        <a:s r="1946">
                           <a:s r="1944">
                              <a:s>FOBTDiagnosticReportsWithResults</a:s>
                           </a:s>
                           <a:s>
  union
  </a:s>
                           <a:s r="1945">
                              <a:s>StoolDNAFITDiagnosticReportsWithResults</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  union
  </a:s>
                        <a:s r="1951">
                           <a:s>ColonoscopyDiagnosticReportsWithResults</a:s>
                        </a:s>
                     </a:s>
                     <a:s>
  union
  </a:s>
                     <a:s r="1957">
                        <a:s>FlexSigDiagnosticReportsWithResults</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
  union
  </a:s>
                  <a:s r="1968">
                     <a:s>CTColonographyDiagnosticReportsWithResults</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1969" locator="669:3-677:44" xsi:type="Union">
            <signature localId="1970" xsi:type="ListTypeSpecifier">
               <elementType localId="1971" name="fhir:DiagnosticReport" xsi:type="NamedTypeSpecifier"/>
            </signature>
            <signature localId="1972" xsi:type="ListTypeSpecifier">
               <elementType localId="1973" name="fhir:DiagnosticReport" xsi:type="NamedTypeSpecifier"/>
            </signature>
            <operand localId="1963" locator="669:3-675:37" xsi:type="Union">
               <signature localId="1964" xsi:type="ListTypeSpecifier">
                  <elementType localId="1965" name="fhir:DiagnosticReport" xsi:type="NamedTypeSpecifier"/>
               </signature>
               <signature localId="1966" xsi:type="ListTypeSpecifier">
                  <elementType localId="1967" name="fhir:DiagnosticReport" xsi:type="NamedTypeSpecifier"/>
               </signature>
               <operand localId="1946" locator="669:3-671:41" xsi:type="Union">
                  <signature localId="1947" xsi:type="ListTypeSpecifier">
                     <elementType localId="1948" name="fhir:DiagnosticReport" xsi:type="NamedTypeSpecifier"/>
                  </signature>
                  <signature localId="1949" xsi:type="ListTypeSpecifier">
                     <elementType localId="1950" name="fhir:DiagnosticReport" xsi:type="NamedTypeSpecifier"/>
                  </signature>
                  <operand localId="1944" locator="669:3-669:34" name="FOBTDiagnosticReportsWithResults" xsi:type="ExpressionRef"/>
                  <operand localId="1945" locator="671:3-671:41" name="StoolDNAFITDiagnosticReportsWithResults" xsi:type="ExpressionRef"/>
               </operand>
               <operand localId="1958" xsi:type="Union">
                  <signature localId="1959" xsi:type="ListTypeSpecifier">
                     <elementType localId="1960" name="fhir:DiagnosticReport" xsi:type="NamedTypeSpecifier"/>
                  </signature>
                  <signature localId="1961" xsi:type="ListTypeSpecifier">
                     <elementType localId="1962" name="fhir:DiagnosticReport" xsi:type="NamedTypeSpecifier"/>
                  </signature>
                  <operand localId="1951" locator="673:3-673:41" name="ColonoscopyDiagnosticReportsWithResults" xsi:type="ExpressionRef"/>
                  <operand localId="1957" locator="675:3-675:37" name="FlexSigDiagnosticReportsWithResults" xsi:type="ExpressionRef"/>
               </operand>
            </operand>
            <operand localId="1968" locator="677:3-677:44" name="CTColonographyDiagnosticReportsWithResults" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def localId="1940" locator="665:1-666:56" name="MostRecentColorectalScreeningDiagnosticReport" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1940">
               <a:s>define MostRecentColorectalScreeningDiagnosticReport:
  </a:s>
               <a:s r="1975">
                  <a:s r="1941">
                     <a:s>Common</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="1975">
                     <a:s>MostRecentDiagnosticReport(</a:s>
                     <a:s r="1974">
                        <a:s>CRCScreeningHistory</a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1975" locator="666:3-666:56" name="MostRecentDiagnosticReport" libraryName="Common" xsi:type="FunctionRef">
            <operand localId="1974" locator="666:37-666:55" name="CRCScreeningHistory" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def localId="1937" locator="635:1-660:9" name="MostRecentColorectalScreeningTestResults" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1937">
               <a:s>define MostRecentColorectalScreeningTestResults:
  </a:s>
               <a:s r="2052">
                  <a:s>
                     <a:s r="1938">
                        <a:s r="1976">
                           <a:s>
                              <a:s>MostRecentColorectalScreeningDiagnosticReport</a:s>
                           </a:s>
                        </a:s>
                        <a:s> D</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="1977">
                     <a:s>return
      </a:s>
                     <a:s r="1978">
                        <a:s>case
        </a:s>
                        <a:s r="1979">
                           <a:s>when </a:s>
                           <a:s r="1983">
                              <a:s r="1981">
                                 <a:s r="1980">
                                    <a:s>D</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="1981">
                                    <a:s>code</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> in </a:s>
                              <a:s r="1982">
                                 <a:s>&quot;Colonoscopy Study&quot;</a:s>
                              </a:s>
                           </a:s>
                           <a:s> then
          </a:s>
                           <a:s r="1986">
                              <a:s>{ </a:s>
                              <a:s>
                                 <a:s>modality: </a:s>
                                 <a:s r="1987">
                                    <a:s>&quot;Colonoscopy&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>,
            </a:s>
                              <a:s>
                                 <a:s>results: </a:s>
                                 <a:s r="1991">
                                    <a:s r="1988">
                                       <a:s>CRCSMCommon</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="1991">
                                       <a:s>CollateConclusionCodes(</a:s>
                                       <a:s r="1989">
                                          <a:s>D</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="1990">
                                          <a:s>ColonoscopyObservations</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
          }</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
        </a:s>
                        <a:s r="1992">
                           <a:s>when </a:s>
                           <a:s r="1996">
                              <a:s r="1994">
                                 <a:s r="1993">
                                    <a:s>D</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="1994">
                                    <a:s>code</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> in </a:s>
                              <a:s r="1995">
                                 <a:s>&quot;CT Colonography Study&quot;</a:s>
                              </a:s>
                           </a:s>
                           <a:s> then
          </a:s>
                           <a:s r="1999">
                              <a:s>{ </a:s>
                              <a:s>
                                 <a:s>modality: </a:s>
                                 <a:s r="2000">
                                    <a:s>&quot;CT Colonography&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>,
            </a:s>
                              <a:s>
                                 <a:s>results: </a:s>
                                 <a:s r="2004">
                                    <a:s r="2001">
                                       <a:s>CRCSMCommon</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="2004">
                                       <a:s>CollateConclusionCodes(</a:s>
                                       <a:s r="2002">
                                          <a:s>D</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="2003">
                                          <a:s>CTColonographyObservations</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
          }</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
        </a:s>
                        <a:s r="2005">
                           <a:s>when </a:s>
                           <a:s r="2009">
                              <a:s r="2007">
                                 <a:s r="2006">
                                    <a:s>D</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="2007">
                                    <a:s>code</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> in </a:s>
                              <a:s r="2008">
                                 <a:s>&quot;Fecal Occult Blood Test&quot;</a:s>
                              </a:s>
                           </a:s>
                           <a:s> then
          </a:s>
                           <a:s r="2012">
                              <a:s>{ </a:s>
                              <a:s>
                                 <a:s>modality: </a:s>
                                 <a:s r="2013">
                                    <a:s>&quot;FOBT&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>,
            </a:s>
                              <a:s>
                                 <a:s>results: </a:s>
                                 <a:s r="2017">
                                    <a:s r="2014">
                                       <a:s>CRCSMCommon</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="2017">
                                       <a:s>CollateConclusionCodes(</a:s>
                                       <a:s r="2015">
                                          <a:s>D</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="2016">
                                          <a:s>FOBTObservations</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
          }</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
        </a:s>
                        <a:s r="2018">
                           <a:s>when </a:s>
                           <a:s r="2022">
                              <a:s r="2020">
                                 <a:s r="2019">
                                    <a:s>D</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="2020">
                                    <a:s>code</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> in </a:s>
                              <a:s r="2021">
                                 <a:s>&quot;Stool DNA-FIT&quot;</a:s>
                              </a:s>
                           </a:s>
                           <a:s> then
          </a:s>
                           <a:s r="2025">
                              <a:s>{ </a:s>
                              <a:s>
                                 <a:s>modality: </a:s>
                                 <a:s r="2026">
                                    <a:s>&quot;sDNA-FIT&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>,
            </a:s>
                              <a:s>
                                 <a:s>results: </a:s>
                                 <a:s r="2030">
                                    <a:s r="2027">
                                       <a:s>CRCSMCommon</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="2030">
                                       <a:s>CollateConclusionCodes(</a:s>
                                       <a:s r="2028">
                                          <a:s>D</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="2029">
                                          <a:s>StoolDNAFITObservations</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
          }</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
        </a:s>
                        <a:s r="2031">
                           <a:s>when </a:s>
                           <a:s r="2035">
                              <a:s r="2033">
                                 <a:s r="2032">
                                    <a:s>D</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="2033">
                                    <a:s>code</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> in </a:s>
                              <a:s r="2034">
                                 <a:s>&quot;Flexible Sigmoidoscopy Study&quot;</a:s>
                              </a:s>
                           </a:s>
                           <a:s> then
          </a:s>
                           <a:s r="2038">
                              <a:s>{ </a:s>
                              <a:s>
                                 <a:s>modality: </a:s>
                                 <a:s r="2039">
                                    <a:s>&quot;Flexible Sigmoidoscopy&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>,
            </a:s>
                              <a:s>
                                 <a:s>results: </a:s>
                                 <a:s r="2043">
                                    <a:s r="2040">
                                       <a:s>CRCSMCommon</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="2043">
                                       <a:s>CollateConclusionCodes(</a:s>
                                       <a:s r="2041">
                                          <a:s>D</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="2042">
                                          <a:s>FlexSigObservations</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
          }</a:s>
                           </a:s>
                        </a:s>
                        <a:s r="2044">
        else null
      end</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="2052" locator="636:3-660:9" xsi:type="Query">
            <source localId="1938" locator="636:3-636:49" alias="D">
               <expression localId="1976" locator="636:3-636:47" name="MostRecentColorectalScreeningDiagnosticReport" xsi:type="ExpressionRef"/>
            </source>
            <return localId="1977" locator="637:5-660:9">
               <expression localId="1978" locator="638:7-660:9" xsi:type="Case">
                  <caseItem localId="1979" locator="639:9-642:11">
                     <when localId="1983" locator="639:14-639:42" xsi:type="InValueSet">
                        <signature localId="1985" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                        <code localId="1984" name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="1981" locator="639:14-639:19" path="code" scope="D" xsi:type="Property"/>
                        </code>
                        <valueset localId="1982" locator="639:24-639:42" name="Colonoscopy Study" preserve="true"/>
                     </when>
                     <then localId="1986" locator="640:11-642:11" xsi:type="Tuple">
                        <element name="modality">
                           <value localId="1987" locator="640:23-640:35" name="Colonoscopy" xsi:type="CodeRef"/>
                        </element>
                        <element name="results">
                           <value localId="1991" locator="641:22-641:83" name="CollateConclusionCodes" libraryName="CRCSMCommon" xsi:type="FunctionRef">
                              <operand localId="1989" locator="641:57" name="D" xsi:type="AliasRef"/>
                              <operand localId="1990" locator="641:60-641:82" name="ColonoscopyObservations" xsi:type="ExpressionRef"/>
                           </value>
                        </element>
                     </then>
                  </caseItem>
                  <caseItem localId="1992" locator="643:9-646:11">
                     <when localId="1996" locator="643:14-643:46" xsi:type="InValueSet">
                        <signature localId="1998" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                        <code localId="1997" name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="1994" locator="643:14-643:19" path="code" scope="D" xsi:type="Property"/>
                        </code>
                        <valueset localId="1995" locator="643:24-643:46" name="CT Colonography Study" preserve="true"/>
                     </when>
                     <then localId="1999" locator="644:11-646:11" xsi:type="Tuple">
                        <element name="modality">
                           <value localId="2000" locator="644:23-644:39" name="CT Colonography" xsi:type="CodeRef"/>
                        </element>
                        <element name="results">
                           <value localId="2004" locator="645:22-645:86" name="CollateConclusionCodes" libraryName="CRCSMCommon" xsi:type="FunctionRef">
                              <operand localId="2002" locator="645:57" name="D" xsi:type="AliasRef"/>
                              <operand localId="2003" locator="645:60-645:85" name="CTColonographyObservations" xsi:type="ExpressionRef"/>
                           </value>
                        </element>
                     </then>
                  </caseItem>
                  <caseItem localId="2005" locator="647:9-650:11">
                     <when localId="2009" locator="647:14-647:48" xsi:type="InValueSet">
                        <signature localId="2011" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                        <code localId="2010" name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="2007" locator="647:14-647:19" path="code" scope="D" xsi:type="Property"/>
                        </code>
                        <valueset localId="2008" locator="647:24-647:48" name="Fecal Occult Blood Test" preserve="true"/>
                     </when>
                     <then localId="2012" locator="648:11-650:11" xsi:type="Tuple">
                        <element name="modality">
                           <value localId="2013" locator="648:23-648:28" name="FOBT" xsi:type="CodeRef"/>
                        </element>
                        <element name="results">
                           <value localId="2017" locator="649:22-649:76" name="CollateConclusionCodes" libraryName="CRCSMCommon" xsi:type="FunctionRef">
                              <operand localId="2015" locator="649:57" name="D" xsi:type="AliasRef"/>
                              <operand localId="2016" locator="649:60-649:75" name="FOBTObservations" xsi:type="ExpressionRef"/>
                           </value>
                        </element>
                     </then>
                  </caseItem>
                  <caseItem localId="2018" locator="651:9-654:11">
                     <when localId="2022" locator="651:14-651:38" xsi:type="InValueSet">
                        <signature localId="2024" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                        <code localId="2023" name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="2020" locator="651:14-651:19" path="code" scope="D" xsi:type="Property"/>
                        </code>
                        <valueset localId="2021" locator="651:24-651:38" name="Stool DNA-FIT" preserve="true"/>
                     </when>
                     <then localId="2025" locator="652:11-654:11" xsi:type="Tuple">
                        <element name="modality">
                           <value localId="2026" locator="652:23-652:32" name="sDNA-FIT" xsi:type="CodeRef"/>
                        </element>
                        <element name="results">
                           <value localId="2030" locator="653:22-653:83" name="CollateConclusionCodes" libraryName="CRCSMCommon" xsi:type="FunctionRef">
                              <operand localId="2028" locator="653:57" name="D" xsi:type="AliasRef"/>
                              <operand localId="2029" locator="653:60-653:82" name="StoolDNAFITObservations" xsi:type="ExpressionRef"/>
                           </value>
                        </element>
                     </then>
                  </caseItem>
                  <caseItem localId="2031" locator="655:9-658:11">
                     <when localId="2035" locator="655:14-655:53" xsi:type="InValueSet">
                        <signature localId="2037" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                        <code localId="2036" name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="2033" locator="655:14-655:19" path="code" scope="D" xsi:type="Property"/>
                        </code>
                        <valueset localId="2034" locator="655:24-655:53" name="Flexible Sigmoidoscopy Study" preserve="true"/>
                     </when>
                     <then localId="2038" locator="656:11-658:11" xsi:type="Tuple">
                        <element name="modality">
                           <value localId="2039" locator="656:23-656:46" name="Flexible Sigmoidoscopy" xsi:type="CodeRef"/>
                        </element>
                        <element name="results">
                           <value localId="2043" locator="657:22-657:79" name="CollateConclusionCodes" libraryName="CRCSMCommon" xsi:type="FunctionRef">
                              <operand localId="2041" locator="657:57" name="D" xsi:type="AliasRef"/>
                              <operand localId="2042" locator="657:60-657:78" name="FlexSigObservations" xsi:type="ExpressionRef"/>
                           </value>
                        </element>
                     </then>
                  </caseItem>
                  <else localId="2045" xsi:type="As">
                     <operand localId="2044" locator="659:14-659:17" xsi:type="Null"/>
                     <asTypeSpecifier localId="2046" xsi:type="TupleTypeSpecifier">
                        <element localId="2047" name="modality">
                           <elementType localId="2048" name="t:Code" xsi:type="NamedTypeSpecifier"/>
                        </element>
                        <element localId="2049" name="results">
                           <elementType localId="2050" xsi:type="ListTypeSpecifier">
                              <elementType localId="2051" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
                           </elementType>
                        </element>
                     </asTypeSpecifier>
                  </else>
               </expression>
            </return>
         </expression>
      </def>
      <def localId="1934" locator="620:1-621:67" name="de-MostRecentTestIsColonoscopy" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1934">
               <a:s>//------------------------------------------------------------------------------
// Most recent colorectal screening/surveillance test
//------------------------------------------------------------------------------

define &quot;de-MostRecentTestIsColonoscopy&quot;:
  </a:s>
               <a:s r="1935">
                  <a:s r="2054">
                     <a:s r="2053">
                        <a:s>MostRecentColorectalScreeningTestResults</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="2054">
                        <a:s>modality</a:s>
                     </a:s>
                  </a:s>
                  <a:s> ~ </a:s>
                  <a:s r="2055">
                     <a:s>&quot;Colonoscopy&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1935" locator="621:3-621:67" xsi:type="Equivalent">
            <signature localId="2056" name="t:Code" xsi:type="NamedTypeSpecifier"/>
            <signature localId="2057" name="t:Code" xsi:type="NamedTypeSpecifier"/>
            <operand localId="2054" locator="621:3-621:51" path="modality" xsi:type="Property">
               <source localId="2053" locator="621:3-621:42" name="MostRecentColorectalScreeningTestResults" xsi:type="ExpressionRef"/>
            </operand>
            <operand localId="2055" locator="621:55-621:67" name="Colonoscopy" xsi:type="CodeRef"/>
         </expression>
      </def>
      <def localId="2059" locator="623:1-624:71" name="de-MostRecentTestIsCTC" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="2059">
               <a:s>define &quot;de-MostRecentTestIsCTC&quot;:
  </a:s>
               <a:s r="2060">
                  <a:s r="2062">
                     <a:s r="2061">
                        <a:s>MostRecentColorectalScreeningTestResults</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="2062">
                        <a:s>modality</a:s>
                     </a:s>
                  </a:s>
                  <a:s> ~ </a:s>
                  <a:s r="2063">
                     <a:s>&quot;CT Colonography&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="2060" locator="624:3-624:71" xsi:type="Equivalent">
            <signature localId="2064" name="t:Code" xsi:type="NamedTypeSpecifier"/>
            <signature localId="2065" name="t:Code" xsi:type="NamedTypeSpecifier"/>
            <operand localId="2062" locator="624:3-624:51" path="modality" xsi:type="Property">
               <source localId="2061" locator="624:3-624:42" name="MostRecentColorectalScreeningTestResults" xsi:type="ExpressionRef"/>
            </operand>
            <operand localId="2063" locator="624:55-624:71" name="CT Colonography" xsi:type="CodeRef"/>
         </expression>
      </def>
      <def localId="2067" locator="626:1-627:78" name="de-MostRecentTestIsFlexSig" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="2067">
               <a:s>define &quot;de-MostRecentTestIsFlexSig&quot;:
  </a:s>
               <a:s r="2068">
                  <a:s r="2070">
                     <a:s r="2069">
                        <a:s>MostRecentColorectalScreeningTestResults</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="2070">
                        <a:s>modality</a:s>
                     </a:s>
                  </a:s>
                  <a:s> ~ </a:s>
                  <a:s r="2071">
                     <a:s>&quot;Flexible Sigmoidoscopy&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="2068" locator="627:3-627:78" xsi:type="Equivalent">
            <signature localId="2072" name="t:Code" xsi:type="NamedTypeSpecifier"/>
            <signature localId="2073" name="t:Code" xsi:type="NamedTypeSpecifier"/>
            <operand localId="2070" locator="627:3-627:51" path="modality" xsi:type="Property">
               <source localId="2069" locator="627:3-627:42" name="MostRecentColorectalScreeningTestResults" xsi:type="ExpressionRef"/>
            </operand>
            <operand localId="2071" locator="627:55-627:78" name="Flexible Sigmoidoscopy" xsi:type="CodeRef"/>
         </expression>
      </def>
      <def localId="2075" locator="629:1-630:60" name="de-MostRecentTestIsFOBT" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="2075">
               <a:s>define &quot;de-MostRecentTestIsFOBT&quot;:
  </a:s>
               <a:s r="2076">
                  <a:s r="2078">
                     <a:s r="2077">
                        <a:s>MostRecentColorectalScreeningTestResults</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="2078">
                        <a:s>modality</a:s>
                     </a:s>
                  </a:s>
                  <a:s> ~ </a:s>
                  <a:s r="2079">
                     <a:s>&quot;FOBT&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="2076" locator="630:3-630:60" xsi:type="Equivalent">
            <signature localId="2080" name="t:Code" xsi:type="NamedTypeSpecifier"/>
            <signature localId="2081" name="t:Code" xsi:type="NamedTypeSpecifier"/>
            <operand localId="2078" locator="630:3-630:51" path="modality" xsi:type="Property">
               <source localId="2077" locator="630:3-630:42" name="MostRecentColorectalScreeningTestResults" xsi:type="ExpressionRef"/>
            </operand>
            <operand localId="2079" locator="630:55-630:60" name="FOBT" xsi:type="CodeRef"/>
         </expression>
      </def>
      <def localId="2083" locator="632:1-633:64" name="de-MostRecentTestIssDNAFIT" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="2083">
               <a:s>define &quot;de-MostRecentTestIssDNAFIT&quot;:
  </a:s>
               <a:s r="2084">
                  <a:s r="2086">
                     <a:s r="2085">
                        <a:s>MostRecentColorectalScreeningTestResults</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="2086">
                        <a:s>modality</a:s>
                     </a:s>
                  </a:s>
                  <a:s> ~ </a:s>
                  <a:s r="2087">
                     <a:s>&quot;sDNA-FIT&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="2084" locator="633:3-633:64" xsi:type="Equivalent">
            <signature localId="2088" name="t:Code" xsi:type="NamedTypeSpecifier"/>
            <signature localId="2089" name="t:Code" xsi:type="NamedTypeSpecifier"/>
            <operand localId="2086" locator="633:3-633:51" path="modality" xsi:type="Property">
               <source localId="2085" locator="633:3-633:42" name="MostRecentColorectalScreeningTestResults" xsi:type="ExpressionRef"/>
            </operand>
            <operand localId="2087" locator="633:55-633:64" name="sDNA-FIT" xsi:type="CodeRef"/>
         </expression>
      </def>
      <def localId="2091" locator="662:1-663:76" name="MostRecentColorectalScreeningDate" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="2091">
               <a:s>define MostRecentColorectalScreeningDate:
  </a:s>
               <a:s r="2094">
                  <a:s r="2092">
                     <a:s>Common</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="2094">
                     <a:s>DiagnosticReportDate(</a:s>
                     <a:s r="2093">
                        <a:s>MostRecentColorectalScreeningDiagnosticReport</a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="2094" locator="663:3-663:76" name="DiagnosticReportDate" libraryName="Common" xsi:type="FunctionRef">
            <operand localId="2093" locator="663:31-663:75" name="MostRecentColorectalScreeningDiagnosticReport" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def localId="2096" locator="684:1-689:7" name="de-FindingPolyps" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="2096">
               <a:s>//------------------------------------------------------------------------------
// Findings of testing reports
//------------------------------------------------------------------------------

//TODO Add CollateConclusionCodes function that takes list&lt;FHIR.CodeableConcept> as argument?
define &quot;de-FindingPolyps&quot;:
  </a:s>
               <a:s r="2097">
                  <a:s>exists </a:s>
                  <a:s r="2115">
                     <a:s>
                        <a:s r="2098">
                           <a:s r="2100">
                              <a:s>
                                 <a:s>MostRecentColorectalScreeningTestResults.results</a:s>
                              </a:s>
                           </a:s>
                           <a:s> R</a:s>
                        </a:s>
                     </a:s>
                     <a:s>
    </a:s>
                     <a:s r="2114">
                        <a:s>where </a:s>
                        <a:s r="2114">
                           <a:s>AnyTrue(
      </a:s>
                           <a:s r="2111">
                              <a:s>
                                 <a:s r="2101">
                                    <a:s r="2103">
                                       <a:s>
                                          <a:s>R.coding</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> C</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
        </a:s>
                              <a:s r="2104">
                                 <a:s>return </a:s>
                                 <a:s r="2109">
                                    <a:s r="2107">
                                       <a:s r="2105">
                                          <a:s>FHIRHelpers</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="2107">
                                          <a:s>ToCode(</a:s>
                                          <a:s r="2106">
                                             <a:s>C</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> in </a:s>
                                    <a:s r="2108">
                                       <a:s>&quot;Potentially Precancerous Polyp SNOMED&quot;</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
      )</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="2097" locator="685:3-689:7" xsi:type="Exists">
            <signature localId="2116" xsi:type="ListTypeSpecifier">
               <elementType localId="2117" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
            </signature>
            <operand localId="2115" locator="685:10-689:7" xsi:type="Query">
               <source localId="2098" locator="685:10-685:59" alias="R">
                  <expression localId="2100" locator="685:10-685:57" path="results" xsi:type="Property">
                     <source localId="2099" name="MostRecentColorectalScreeningTestResults" xsi:type="ExpressionRef"/>
                  </expression>
               </source>
               <where localId="2114" locator="686:5-689:7" xsi:type="AnyTrue">
                  <source localId="2111" locator="687:7-688:79" xsi:type="Query">
                     <source localId="2101" locator="687:7-687:16" alias="C">
                        <expression localId="2103" locator="687:7-687:14" path="coding" scope="R" xsi:type="Property"/>
                     </source>
                     <return localId="2104" locator="688:9-688:79">
                        <expression localId="2109" locator="688:16-688:79" xsi:type="InValueSet">
                           <signature localId="2110" name="t:Code" xsi:type="NamedTypeSpecifier"/>
                           <code localId="2107" locator="688:16-688:36" name="ToCode" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="2106" locator="688:35" name="C" xsi:type="AliasRef"/>
                           </code>
                           <valueset localId="2108" locator="688:41-688:79" name="Potentially Precancerous Polyp SNOMED" preserve="true"/>
                        </expression>
                     </return>
                  </source>
               </where>
            </operand>
         </expression>
      </def>
      <def localId="2119" locator="691:1-697:9" name="de-FindingCRC" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="2119">
               <a:s>define &quot;de-FindingCRC&quot;:
  </a:s>
               <a:s r="2120">
                  <a:s>exists </a:s>
                  <a:s r="2138">
                     <a:s>
                        <a:s r="2121">
                           <a:s r="2123">
                              <a:s>
                                 <a:s>MostRecentColorectalScreeningTestResults.results</a:s>
                              </a:s>
                           </a:s>
                           <a:s> R</a:s>
                        </a:s>
                     </a:s>
                     <a:s> 
      </a:s>
                     <a:s r="2137">
                        <a:s>where
        </a:s>
                        <a:s r="2137">
                           <a:s>AnyTrue(
          </a:s>
                           <a:s r="2134">
                              <a:s>
                                 <a:s r="2124">
                                    <a:s r="2126">
                                       <a:s>
                                          <a:s>R.coding</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> C</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
            </a:s>
                              <a:s r="2127">
                                 <a:s>return </a:s>
                                 <a:s r="2132">
                                    <a:s r="2130">
                                       <a:s r="2128">
                                          <a:s>FHIRHelpers</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="2130">
                                          <a:s>ToCode(</a:s>
                                          <a:s r="2129">
                                             <a:s>C</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> in </a:s>
                                    <a:s r="2131">
                                       <a:s>&quot;Colorectal Cancer SNOMED&quot;</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
        )</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="2120" locator="692:3-697:9" xsi:type="Exists">
            <signature localId="2139" xsi:type="ListTypeSpecifier">
               <elementType localId="2140" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
            </signature>
            <operand localId="2138" locator="692:10-697:9" xsi:type="Query">
               <source localId="2121" locator="692:10-692:59" alias="R">
                  <expression localId="2123" locator="692:10-692:57" path="results" xsi:type="Property">
                     <source localId="2122" name="MostRecentColorectalScreeningTestResults" xsi:type="ExpressionRef"/>
                  </expression>
               </source>
               <where localId="2137" locator="693:7-697:9" xsi:type="AnyTrue">
                  <source localId="2134" locator="695:11-696:70" xsi:type="Query">
                     <source localId="2124" locator="695:11-695:20" alias="C">
                        <expression localId="2126" locator="695:11-695:18" path="coding" scope="R" xsi:type="Property"/>
                     </source>
                     <return localId="2127" locator="696:13-696:70">
                        <expression localId="2132" locator="696:20-696:70" xsi:type="InValueSet">
                           <signature localId="2133" name="t:Code" xsi:type="NamedTypeSpecifier"/>
                           <code localId="2130" locator="696:20-696:40" name="ToCode" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="2129" locator="696:39" name="C" xsi:type="AliasRef"/>
                           </code>
                           <valueset localId="2131" locator="696:45-696:70" name="Colorectal Cancer SNOMED" preserve="true"/>
                        </expression>
                     </return>
                  </source>
               </where>
            </operand>
         </expression>
      </def>
      <def localId="2142" locator="699:1-707:8" name="de-CTCInconclusive" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="2142">
               <a:s>define &quot;de-CTCInconclusive&quot;:
  </a:s>
               <a:s r="2143">
                  <a:s>exists </a:s>
                  <a:s r="2162">
                     <a:s>
                        <a:s r="2144">
                           <a:s r="2146">
                              <a:s>
                                 <a:s>MostRecentColorectalScreeningTestResults.results</a:s>
                              </a:s>
                           </a:s>
                           <a:s> R</a:s>
                        </a:s>
                     </a:s>
                     <a:s>
    </a:s>
                     <a:s r="2161">
                        <a:s>where
      </a:s>
                        <a:s r="2161">
                           <a:s>AnyTrue(
        </a:s>
                           <a:s r="2158">
                              <a:s>
                                 <a:s r="2147">
                                    <a:s r="2149">
                                       <a:s>
                                          <a:s>R.coding</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> C</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
          </a:s>
                              <a:s r="2150">
                                 <a:s>return </a:s>
                                 <a:s r="2157">
                                    <a:s r="2153">
                                       <a:s r="2151">
                                          <a:s>FHIRHelpers</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="2153">
                                          <a:s>ToCode(</a:s>
                                          <a:s r="2152">
                                             <a:s>C</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> in
            </a:s>
                                    <a:s r="2154">
                                       <a:s>{</a:s>
                                       <a:s r="2155">
                                          <a:s>&quot;C-RADS 2005 C0&quot;</a:s>
                                       </a:s>
                                       <a:s>,
            </a:s>
                                       <a:s r="2156">
                                          <a:s>&quot;C-RADS 2023 C0&quot;</a:s>
                                       </a:s>
                                       <a:s>
      }</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>)</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="2143" locator="700:3-707:8" xsi:type="Exists">
            <signature localId="2163" xsi:type="ListTypeSpecifier">
               <elementType localId="2164" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
            </signature>
            <operand localId="2162" locator="700:10-707:8" xsi:type="Query">
               <source localId="2144" locator="700:10-700:59" alias="R">
                  <expression localId="2146" locator="700:10-700:57" path="results" xsi:type="Property">
                     <source localId="2145" name="MostRecentColorectalScreeningTestResults" xsi:type="ExpressionRef"/>
                  </expression>
               </source>
               <where localId="2161" locator="701:5-707:8" xsi:type="AnyTrue">
                  <source localId="2158" locator="703:9-707:7" xsi:type="Query">
                     <source localId="2147" locator="703:9-703:18" alias="C">
                        <expression localId="2149" locator="703:9-703:16" path="coding" scope="R" xsi:type="Property"/>
                     </source>
                     <return localId="2150" locator="704:11-707:7">
                        <expression localId="2157" locator="704:18-707:7" xsi:type="In">
                           <operand localId="2153" locator="704:18-704:38" name="ToCode" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="2152" locator="704:37" name="C" xsi:type="AliasRef"/>
                           </operand>
                           <operand localId="2154" locator="705:13-707:7" xsi:type="List">
                              <element localId="2155" locator="705:14-705:29" name="C-RADS 2005 C0" xsi:type="CodeRef"/>
                              <element localId="2156" locator="706:13-706:28" name="C-RADS 2023 C0" xsi:type="CodeRef"/>
                           </operand>
                        </expression>
                     </return>
                  </source>
               </where>
            </operand>
         </expression>
      </def>
      <def localId="2166" locator="709:1-718:8" name="de-CTCFindingPolyps" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="2166">
               <a:s>define &quot;de-CTCFindingPolyps&quot;:
  </a:s>
               <a:s r="2167">
                  <a:s>exists </a:s>
                  <a:s r="2188">
                     <a:s>
                        <a:s r="2168">
                           <a:s r="2170">
                              <a:s>
                                 <a:s>MostRecentColorectalScreeningTestResults.results</a:s>
                              </a:s>
                           </a:s>
                           <a:s> R</a:s>
                        </a:s>
                     </a:s>
                     <a:s>
    </a:s>
                     <a:s r="2187">
                        <a:s>where
      </a:s>
                        <a:s r="2187">
                           <a:s>AnyTrue(</a:s>
                           <a:s r="2184">
                              <a:s>
                                 <a:s r="2171">
                                    <a:s r="2173">
                                       <a:s>
                                          <a:s>R.coding</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> C</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
        </a:s>
                              <a:s r="2174">
                                 <a:s>return </a:s>
                                 <a:s r="2183">
                                    <a:s r="2177">
                                       <a:s r="2175">
                                          <a:s>FHIRHelpers</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="2177">
                                          <a:s>ToCode(</a:s>
                                          <a:s r="2176">
                                             <a:s>C</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> in </a:s>
                                    <a:s r="2178">
                                       <a:s>{
          </a:s>
                                       <a:s r="2179">
                                          <a:s>&quot;C-RADS 2005 C2&quot;</a:s>
                                       </a:s>
                                       <a:s>,
          </a:s>
                                       <a:s r="2180">
                                          <a:s>&quot;C-RADS 2023 C2a&quot;</a:s>
                                       </a:s>
                                       <a:s>,
          </a:s>
                                       <a:s r="2181">
                                          <a:s>&quot;C-RADS 2005 C3&quot;</a:s>
                                       </a:s>
                                       <a:s>,
          </a:s>
                                       <a:s r="2182">
                                          <a:s>&quot;C-RADS 2023 C3&quot;</a:s>
                                       </a:s>
                                       <a:s>
      }</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>)</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="2167" locator="710:3-718:8" xsi:type="Exists">
            <signature localId="2189" xsi:type="ListTypeSpecifier">
               <elementType localId="2190" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
            </signature>
            <operand localId="2188" locator="710:10-718:8" xsi:type="Query">
               <source localId="2168" locator="710:10-710:59" alias="R">
                  <expression localId="2170" locator="710:10-710:57" path="results" xsi:type="Property">
                     <source localId="2169" name="MostRecentColorectalScreeningTestResults" xsi:type="ExpressionRef"/>
                  </expression>
               </source>
               <where localId="2187" locator="711:5-718:8" xsi:type="AnyTrue">
                  <source localId="2184" locator="712:15-718:7" xsi:type="Query">
                     <source localId="2171" locator="712:15-712:24" alias="C">
                        <expression localId="2173" locator="712:15-712:22" path="coding" scope="R" xsi:type="Property"/>
                     </source>
                     <return localId="2174" locator="713:9-718:7">
                        <expression localId="2183" locator="713:16-718:7" xsi:type="In">
                           <operand localId="2177" locator="713:16-713:36" name="ToCode" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="2176" locator="713:35" name="C" xsi:type="AliasRef"/>
                           </operand>
                           <operand localId="2178" locator="713:41-718:7" xsi:type="List">
                              <element localId="2179" locator="714:11-714:26" name="C-RADS 2005 C2" xsi:type="CodeRef"/>
                              <element localId="2180" locator="715:11-715:27" name="C-RADS 2023 C2a" xsi:type="CodeRef"/>
                              <element localId="2181" locator="716:11-716:26" name="C-RADS 2005 C3" xsi:type="CodeRef"/>
                              <element localId="2182" locator="717:11-717:26" name="C-RADS 2023 C3" xsi:type="CodeRef"/>
                           </operand>
                        </expression>
                     </return>
                  </source>
               </where>
            </operand>
         </expression>
      </def>
      <def localId="2192" locator="720:1-725:9" name="de-CTCFindingCRC" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="2192">
               <a:s>define &quot;de-CTCFindingCRC&quot;:
  </a:s>
               <a:s r="2193">
                  <a:s>exists </a:s>
                  <a:s r="2212">
                     <a:s>
                        <a:s r="2194">
                           <a:s r="2196">
                              <a:s>
                                 <a:s>MostRecentColorectalScreeningTestResults.results</a:s>
                              </a:s>
                           </a:s>
                           <a:s> R</a:s>
                        </a:s>
                     </a:s>
                     <a:s>
    </a:s>
                     <a:s r="2211">
                        <a:s>where
      </a:s>
                        <a:s r="2211">
                           <a:s>AnyTrue(</a:s>
                           <a:s r="2208">
                              <a:s>
                                 <a:s r="2197">
                                    <a:s r="2199">
                                       <a:s>
                                          <a:s>R.coding</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> C</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
        </a:s>
                              <a:s r="2200">
                                 <a:s>return </a:s>
                                 <a:s r="2201">
                                    <a:s r="2204">
                                       <a:s r="2202">
                                          <a:s>FHIRHelpers</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="2204">
                                          <a:s>ToCode(</a:s>
                                          <a:s r="2203">
                                             <a:s>C</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> ~ </a:s>
                                    <a:s r="2205">
                                       <a:s>&quot;C-RADS 2023 C4&quot;</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
        )</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="2193" locator="721:3-725:9" xsi:type="Exists">
            <signature localId="2213" xsi:type="ListTypeSpecifier">
               <elementType localId="2214" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
            </signature>
            <operand localId="2212" locator="721:10-725:9" xsi:type="Query">
               <source localId="2194" locator="721:10-721:59" alias="R">
                  <expression localId="2196" locator="721:10-721:57" path="results" xsi:type="Property">
                     <source localId="2195" name="MostRecentColorectalScreeningTestResults" xsi:type="ExpressionRef"/>
                  </expression>
               </source>
               <where localId="2211" locator="722:5-725:9" xsi:type="AnyTrue">
                  <source localId="2208" locator="723:15-724:55" xsi:type="Query">
                     <source localId="2197" locator="723:15-723:24" alias="C">
                        <expression localId="2199" locator="723:15-723:22" path="coding" scope="R" xsi:type="Property"/>
                     </source>
                     <return localId="2200" locator="724:9-724:55">
                        <expression localId="2201" locator="724:16-724:55" xsi:type="Equivalent">
                           <signature localId="2206" name="t:Code" xsi:type="NamedTypeSpecifier"/>
                           <signature localId="2207" name="t:Code" xsi:type="NamedTypeSpecifier"/>
                           <operand localId="2204" locator="724:16-724:36" name="ToCode" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="2203" locator="724:35" name="C" xsi:type="AliasRef"/>
                           </operand>
                           <operand localId="2205" locator="724:40-724:55" name="C-RADS 2023 C4" xsi:type="CodeRef"/>
                        </expression>
                     </return>
                  </source>
               </where>
            </operand>
         </expression>
      </def>
      <def localId="2218" locator="730:1-732:82" name="FollowUpIntervalFromEndoscopist" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="2218">
               <a:s>define FollowUpIntervalFromEndoscopist:
  </a:s>
               <a:s r="2229">
                  <a:s>
                     <a:s r="2219">
                        <a:s r="2220">
                           <a:s>
                              <a:s>MostRecentColorectalScreeningDiagnosticReport</a:s>
                           </a:s>
                        </a:s>
                        <a:s> D</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="2221">
                     <a:s>return </a:s>
                     <a:s r="2228">
                        <a:s>First(</a:s>
                        <a:s r="2225">
                           <a:s r="2222">
                              <a:s>CRCSMCommon</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="2225">
                              <a:s>ValueQuantityFromObservation(</a:s>
                              <a:s r="2223">
                                 <a:s>D</a:s>
                              </a:s>
                              <a:s>,</a:s>
                              <a:s r="2224">
                                 <a:s>FollowUpObservations</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                        </a:s>
                        <a:s>)</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="2229" locator="731:3-732:82" xsi:type="Query">
            <source localId="2219" locator="731:3-731:49" alias="D">
               <expression localId="2220" locator="731:3-731:47" name="MostRecentColorectalScreeningDiagnosticReport" xsi:type="ExpressionRef"/>
            </source>
            <return localId="2221" locator="732:5-732:82">
               <expression localId="2228" locator="732:12-732:82" xsi:type="First">
                  <source localId="2225" locator="732:18-732:81" name="ValueQuantityFromObservation" libraryName="CRCSMCommon" xsi:type="FunctionRef">
                     <operand localId="2223" locator="732:59" name="D" xsi:type="AliasRef"/>
                     <operand localId="2224" locator="732:61-732:80" name="FollowUpObservations" xsi:type="ExpressionRef"/>
                  </source>
               </expression>
            </return>
         </expression>
      </def>
      <def localId="2216" locator="727:1-728:45" name="de-RecommendedInterval" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="2216">
               <a:s>define &quot;de-RecommendedInterval&quot;:
  </a:s>
               <a:s r="2232">
                  <a:s r="2230">
                     <a:s>FollowUpIntervalFromEndoscopist</a:s>
                  </a:s>
                  <a:s> is not null</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="2232" locator="728:3-728:45" xsi:type="Not">
            <operand localId="2231" locator="728:3-728:45" xsi:type="IsNull">
               <operand localId="2230" locator="728:3-728:33" name="FollowUpIntervalFromEndoscopist" xsi:type="ExpressionRef"/>
            </operand>
         </expression>
      </def>
   </statements>
</library>
